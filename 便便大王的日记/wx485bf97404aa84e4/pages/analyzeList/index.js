(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[645],{7753:function(e,t,a){var n,o,i,r,s=a(6073),c=a(675),l=a(467),u=a(3029),p=a(2901),h=a(9874),g=a(5501),d=a(4467),m=a(118),f=a(758),y=a.n(f),A=a(4353),x=a.n(A),S=a(4015),v=a(6540),w=a(8145),L=a(4606),N=a(1152),j=a(4848),P=(n=(0,S.WQ)("store"),n(o=(0,S.PA)(o=function(e){function t(){var e;(0,u.A)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=(0,h.A)(this,t,[].concat(n)),(0,d.A)(e,"state",{}),(0,d.A)(e,"componentDidMount",(function(){var t,a;null===(t=e.animation)||void 0===t||null===(a=t.init)||void 0===a||a.call(t)})),(0,d.A)(e,"animation",null),e}return(0,g.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this;this.props.store.globalStore;return this.props.usePic?(0,j.jsx)(m.Ss,{className:"emptyPageWrapper",children:(0,j.jsxs)(m.Ss,{className:"noDataWrapperPic",children:[(0,j.jsx)(N.A,{name:"empty",size:100,color:"#C0C0C0"}),(0,j.jsx)(m.EY,{className:"noDataTip",children:"\u5c4e\u6599\u672a\u53ca\uff0c\u6682\u65e0\u6570\u636e"})]})}):(0,j.jsx)(m.Ss,{className:"emptyPageWrapper",children:(0,j.jsxs)(m.Ss,{className:"noDataWrapper",children:[(0,j.jsx)(L.A,{ref:function(t){e.animation=t},style:{width:300,height:300},autoPlay:!0,loop:!0,source:a(4203)}),(0,j.jsx)(m.EY,{className:"noDataTip",children:"\u5c4e\u6599\u672a\u53ca\uff0c\u6682\u65e0\u6570\u636e"})]})})}}])}(v.Component))||o)||o),z=P,k=(i=(0,S.WQ)("store"),i(r=(0,S.PA)(r=function(e){function t(){var e;(0,u.A)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=(0,h.A)(this,t,[].concat(n)),(0,d.A)(e,"state",{histroyList:[],showPage:!1,pageNum:0,pageSize:20,hasMore:!0,moreLoading:!1}),(0,d.A)(e,"componentDidMount",(0,l.A)((0,c.A)().mark((function t(){return(0,c.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:y().showLoading({}),e.queryHistoryFn();case 2:case"end":return t.stop()}}),t)})))),(0,d.A)(e,"onScrollToLower",(function(){e.state.hasMore&&!e.state.moreLoading&&e.setState({moreLoading:!0,pageNum:e.state.pageNum+1},(function(){e.queryHistoryFn()}))})),(0,d.A)(e,"queryHistoryFn",(function(){y().cloud.callFunction({name:"analyzeFn",data:{type:"queryHistroyList",pageNum:e.state.pageNum,pageSize:e.state.pageSize}}).then((function(t){if(y().hideLoading(),t.result.code&&"200"===t.result.code){var a=t.result.data.data||[];a.length<e.state.pageSize&&e.setState({hasMore:!1}),e.setState({histroyList:e.state.histroyList.concat(a),moreLoading:!1,showPage:!0})}})).catch((function(e){}))})),e}return(0,g.A)(t,e),(0,p.A)(t,[{key:"onShareAppMessage",value:function(e){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:a(3159)}}},{key:"onShareTimeline",value:function(){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:a(3159)}}},{key:"render",value:function(){this.props.store.globalStore;return this.state.showPage?0===this.state.histroyList.length?(0,j.jsx)(m.Ss,{className:"analyzeListWrapper",children:(0,j.jsx)(z,{usePic:!0})}):(0,j.jsxs)(m.Ss,{className:"analyzeListWrapper",children:[(0,j.jsx)(m.BM,{className:"scrollview",scrollY:!0,scrollWithAnimation:!0,onScrollToLower:this.onScrollToLower,children:this.state.histroyList.map((function(e){return(0,j.jsx)(w.zg,{onClick:function(){y().reportEvent("analyze_history_item_click"),y().navigateTo({url:"/pages/analyzeDetail/index?id=".concat(e._id)})},arrow:"right",note:"\u603b\u6b21\u6570\uff1a".concat(e.totalNumber),title:x()(e.createdAt).format("YYYY-MM-DD")},e._id)}))}),this.state.moreLoading&&(0,j.jsx)(w.d2,{status:"loading"})]}):null}}])}(v.Component))||r)||r),M=k,T={navigationBarTitleText:"\u5386\u53f2\u5065\u5eb7\u5206\u6790",navigationBarBackgroundColor:"#fff",usingComponents:{}};M.enableShareTimeline=!0,M.enableShareAppMessage=!0;Page((0,s.createPageConfig)(M,"pages/analyzeList/index",{root:{cn:[]}},T||{}))}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[907,96,76],(function(){return t(7753)}));e.O()}]);