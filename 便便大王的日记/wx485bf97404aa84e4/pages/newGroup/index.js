(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[274],{4696:function(e,n,t){var r,a,o=t(6073),i=t(675),s=t(467),c=t(3029),p=t(2901),u=t(9874),g=t(5501),l=t(4467),d=t(118),h=t(758),m=t.n(h),f=t(4353),v=t.n(f),w=t(4015),y=t(6540),A=t(8145),S=t(5189),x=t(4848),b=(r=(0,w.WQ)("store"),r(a=(0,w.PA)(a=function(e){function n(){var e;(0,c.A)(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=(0,u.A)(this,n,[].concat(r)),(0,l.A)(e,"state",{groupId:"",showPage:!1}),e}return(0,g.A)(n,e),(0,p.A)(n,[{key:"componentDidMount",value:function(){var e=(0,s.A)((0,i.A)().mark((function e(){var n,t,r,a=this;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=m().cloud.database(),n.command,t=n.collection("group"),r=m().getStorageSync("openId"),t.add({data:{_openId:r,founder:r,groupMember:[r],createdAt:v()().format("YYYY-MM-DD HH:mm:ss"),groupType:"newGroup"}}).then((function(e){if(e._id){var n=e._id;a.setState({showPage:!0,groupId:n})}}));case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()},{key:"onShareAppMessage",value:function(e){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/joinGroup/index?groupId=".concat(this.state.groupId,"&inviter=").concat(m().getStorageSync("openId")),imageUrl:t(3159)}}},{key:"onShareTimeline",value:function(){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/joinGroup/index?groupId=".concat(this.state.groupId,"&inviter=").concat(m().getStorageSync("openId")),imageUrl:t(3159)}}},{key:"render",value:function(){m().getStorageSync("avatarFileUrl"),this.props.store.globalStore;return this.state.showPage?(0,x.jsxs)(d.BM,{className:"groupWrapper",children:[(0,x.jsx)(d._V,{className:"groupLogo",webp:!0,src:t(720)}),(0,x.jsx)(d.EY,{className:"tip",children:"\u521b\u5efa\u65b0\u5c0f\u7ec4"}),(0,x.jsx)(d.EY,{className:"tip",children:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b"}),(0,x.jsx)(A.sl,{circle:!0,openType:"share",className:"groupBtn",type:"primary",children:"\u9080\u8bf7\u597d\u53cb"})]}):(0,x.jsx)(S.A,{})}}])}(y.Component))||a)||a),I=b,j={navigationBarTitleText:"",navigationBarBackgroundColor:"#d1bba3",usingComponents:{}};I.enableShareTimeline=!0,I.enableShareAppMessage=!0;Page((0,o.createPageConfig)(I,"pages/newGroup/index",{root:{cn:[]}},j||{}))}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[907,96,76],(function(){return n(4696)}));e.O()}]);