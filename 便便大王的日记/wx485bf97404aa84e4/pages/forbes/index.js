(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[548],{5835:function(s,e,a){var r,n,t=a(6073),i=a(675),c=a(467),l=a(3029),o=a(2901),p=a(9874),m=a(5501),h=a(4467),x=a(758),d=a.n(x),j=a(118),N=a(4015),u=a(6540),f=a(5189),g=a(1152),S=a(4848),v=(r=(0,N.WQ)("store"),r(n=(0,N.PA)(n=function(s){function e(){var s;(0,l.A)(this,e);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s=(0,p.A)(this,e,[].concat(r)),(0,h.A)(s,"state",{showPage:!1,first3:[],last:[]}),(0,h.A)(s,"componentDidMount",(0,c.A)((0,i.A)().mark((function e(){var a,r,n;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=d().cloud.database(),e.next=3,a.collection("user").orderBy("coin","desc").limit(20).get();case 3:r=e.sent,n=r.data,console.log("a",n),s.setState({first3:n.slice(0,3),last:n.slice(3),showPage:!0});case 7:case"end":return e.stop()}}),e)})))),(0,h.A)(s,"componentDidShow",(function(){})),s}return(0,m.A)(e,s),(0,o.A)(e,[{key:"onShareAppMessage",value:function(s){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:a(3159)}}},{key:"onShareTimeline",value:function(){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:a(3159)}}},{key:"render",value:function(){this.props.store.globalStore;return this.state.showPage?(0,S.jsxs)(j.Ss,{className:"forbesWrapper",children:[(0,S.jsxs)(j.Ss,{className:"firstWrapper",children:[(0,S.jsxs)(j.Ss,{className:"fContent",children:[(0,S.jsxs)(j.Ss,{className:"avatarWrapper avatarWrapper2",children:[(0,S.jsx)(j._V,{className:"avatar",src:this.state.first3[1].avatarFileUrl}),(0,S.jsx)(j.Ss,{className:"gradeInnerWrapper gradeInnerWrapper2",children:(0,S.jsx)(j.EY,{className:"gradeText",children:"2"})})]}),(0,S.jsx)(j.EY,{className:"name",children:this.state.first3[1].nickname||"\u6682\u65e0\u6635\u79f0"}),(0,S.jsxs)(j.Ss,{className:"pointWrapper",children:[(0,S.jsx)(j.Ss,{className:"iconFontCoin",children:(0,S.jsx)(g.A,{name:"jinbi",size:20})}),(0,S.jsx)(j.EY,{className:"pointTxt",children:(0,S.jsx)(j.EY,{className:"pointNumber",children:this.state.first3[1].coin})})]})]}),(0,S.jsxs)(j.Ss,{className:"fContent",children:[(0,S.jsxs)(j.Ss,{className:"avatarWrapper avatarWrapper1",children:[(0,S.jsx)(j._V,{className:"avatar",src:this.state.first3[0].avatarFileUrl}),(0,S.jsx)(j.Ss,{className:"gradeInnerWrapper gradeInnerWrapper1",children:(0,S.jsx)(j.EY,{className:"gradeText",children:"1"})})]}),(0,S.jsx)(j.EY,{className:"name",children:this.state.first3[0].nickname||"\u6682\u65e0\u6635\u79f0"}),(0,S.jsxs)(j.Ss,{className:"pointWrapper",children:[(0,S.jsx)(j.Ss,{className:"iconFontCoin",children:(0,S.jsx)(g.A,{name:"jinbi",size:20})}),(0,S.jsx)(j.EY,{className:"pointTxt",children:(0,S.jsx)(j.EY,{className:"pointNumber",children:this.state.first3[0].coin})})]})]}),(0,S.jsxs)(j.Ss,{className:"fContent",children:[(0,S.jsxs)(j.Ss,{className:"avatarWrapper avatarWrapper3",children:[(0,S.jsx)(j._V,{className:"avatar",src:this.state.first3[2].avatarFileUrl}),(0,S.jsx)(j.Ss,{className:"gradeInnerWrapper gradeInnerWrapper3",children:(0,S.jsx)(j.EY,{className:"gradeText",children:"3"})})]}),(0,S.jsx)(j.EY,{className:"name",children:this.state.first3[2].nickname||"\u6682\u65e0\u6635\u79f0"}),(0,S.jsxs)(j.Ss,{className:"pointWrapper",children:[(0,S.jsx)(j.Ss,{className:"iconFontCoin",children:(0,S.jsx)(g.A,{name:"jinbi",size:20})}),(0,S.jsx)(j.EY,{className:"pointTxt",children:(0,S.jsx)(j.EY,{className:"pointNumber",children:this.state.first3[2].coin})})]})]})]}),(0,S.jsx)(j.Ss,{className:"listWrapper",children:this.state.last.map((function(s,e){return(0,S.jsxs)(j.Ss,{className:"list",children:[(0,S.jsxs)(j.Ss,{className:"list-left",children:[(0,S.jsx)(j.EY,{className:"index",children:e+4}),(0,S.jsx)(j._V,{className:"listAvatar",src:s.avatarFileUrl}),(0,S.jsx)(j.EY,{className:"listName",children:s.nickname||"\u6682\u65e0\u6635\u79f0"})]}),(0,S.jsxs)(j.Ss,{className:"pointWrapper",children:[(0,S.jsx)(j.Ss,{className:"iconFontCoin",children:(0,S.jsx)(g.A,{name:"jinbi",size:20})}),(0,S.jsx)(j.EY,{className:"pointTxt",children:(0,S.jsx)(j.EY,{className:"pointNumber",children:s.coin})})]})]},s._id)}))})]}):(0,S.jsx)(f.A,{})}}])}(u.Component))||n)||n),A=v,W={navigationBarTitleText:"\u5657\u5657\u5bcc\u8c6a\u699c",navigationBarBackgroundColor:"#f7f4f2",usingComponents:{}};A.enableShareTimeline=!0,A.enableShareAppMessage=!0;Page((0,t.createPageConfig)(A,"pages/forbes/index",{root:{cn:[]}},W||{}))}},function(s){var e=function(e){return s(s.s=e)};s.O(0,[907,96,76],(function(){return e(5835)}));s.O()}]);