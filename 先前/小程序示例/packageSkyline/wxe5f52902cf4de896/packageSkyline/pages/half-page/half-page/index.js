var t=require("../../../common/custom-route/common"),e=require("../../../utils/comment"),a=getApp().globalData.windowHeight;Page({data:{list:(0,e.getCommentList)()},onLoad:function(){var t;(this.setData({renderer:this.renderer}),this._useWorklet="skyline"===this.renderer&&!!wx.worklet,this._useWorklet)&&(this.customRouteContext=null===(t=wx.router)||void 0===t?void 0:t.getRouteContext(this),this.scrollTop=wx.worklet.shared(0),this.startPan=wx.worklet.shared(!1),wx.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#000000",duration:300}))},onUnload:function(){wx.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff",duration:300})},back:function(){wx.navigateBack({delta:1})},shouldPanResponse:function(){return this.startPan.value},_shouldPanResponse_worklet_factory_:function(){var t,e=this;return(t=function(){return e.startPan.value})._closure={_this:{startPan:e.startPan}},t.asString="function _f(){const{_this}=jsThis._closure;{return _this.startPan.value;}}",t.__workletHash=0xbf7c728f6c2,t.__location="packageSkyline/pages/half-page/half-page/index.ts",t.__worklet=!0,t},shouldScrollViewResponse:function(t){if(this.customRouteContext.primaryAnimation.value<1)return!1;var e=this.scrollTop.value,a=t.deltaY,r=!(e<=0&&a>0);return this.startPan.value=!r,r},_shouldScrollViewResponse_worklet_factory_:function(){var t,e=this;return(t=function(t){if(e.customRouteContext.primaryAnimation.value<1)return!1;var a=e.scrollTop.value,r=t.deltaY,o=!(a<=0&&r>0);return e.startPan.value=!o,o})._closure={_this2:{customRouteContext:{primaryAnimation:e.customRouteContext.primaryAnimation},scrollTop:e.scrollTop,startPan:e.startPan}},t.asString="function _f(pointerEvent){const{_this2}=jsThis._closure;{var primaryAnimation=_this2.customRouteContext.primaryAnimation;if(primaryAnimation.value<1)return false;var scrollTop=_this2.scrollTop.value;var deltaY=pointerEvent.deltaY;var result=!(scrollTop<=0&&deltaY>0);_this2.startPan.value=!result;return result;}}",t.__workletHash=6344649734004,t.__location="packageSkyline/pages/half-page/half-page/index.ts",t.__worklet=!0,t},adjustDecelerationVelocity:function(t){return this.scrollTop.value<=0?0:t},_adjustDecelerationVelocity_worklet_factory_:function(){var t,e=this;return(t=function(t){return e.scrollTop.value<=0?0:t})._closure={_this3:{scrollTop:e.scrollTop}},t.asString="function _f(velocity){const{_this3}=jsThis._closure;{var scrollTop=_this3.scrollTop.value;return scrollTop<=0?0:velocity;}}",t.__workletHash=0xa3d0ea054dc,t.__location="packageSkyline/pages/half-page/half-page/index.ts",t.__worklet=!0,t},handleScroll:function(t){this._useWorklet&&(this.scrollTop.value=t.detail.scrollTop)},_handleScroll_worklet_factory_:function(){var t,e=this;return(t=function(t){e._useWorklet&&(e.scrollTop.value=t.detail.scrollTop)})._closure={_this4:{_useWorklet:e._useWorklet,scrollTop:e.scrollTop}},t.asString="function _f(event){const{_this4}=jsThis._closure;{if(!_this4._useWorklet)return;_this4.scrollTop.value=event.detail.scrollTop;}}",t.__workletHash=0x9efbdbad1a6,t.__location="packageSkyline/pages/half-page/half-page/index.ts",t.__worklet=!0,t},handleDragStart:function(){this.startPan.value=!0,(0,this.customRouteContext.startUserGesture)()},_handleDragStart_worklet_factory_:function(){var t,e=this;return(t=function(){e.startPan.value=!0,(0,e.customRouteContext.startUserGesture)()})._closure={_this5:{startPan:e.startPan,customRouteContext:{startUserGesture:e.customRouteContext.startUserGesture}}},t.asString="function _f(){const{_this5}=jsThis._closure;{_this5.startPan.value=true;var startUserGesture=_this5.customRouteContext.startUserGesture;startUserGesture();}}",t.__workletHash=8762590486741,t.__location="packageSkyline/pages/half-page/half-page/index.ts",t.__worklet=!0,t},handleDragUpdate:function(e){var a=this.customRouteContext.primaryAnimation,r=a.value-e;a.value=(0,t.clamp)(r,0,1)},_handleDragUpdate_worklet_factory_:function(){var e,a=this;return(e=function(e){var r=a.customRouteContext.primaryAnimation,o=r.value-e;r.value=(0,t.clamp)(o,0,1)})._closure={_this6:{customRouteContext:{primaryAnimation:a.customRouteContext.primaryAnimation}},clamp:t.clamp},e.asString="function _f(delta){const{_this6,clamp}=jsThis._closure;{var primaryAnimation=_this6.customRouteContext.primaryAnimation;var newVal=primaryAnimation.value-delta;primaryAnimation.value=clamp(newVal,0.0,1.0);}}",e.__workletHash=0x92313f31ed5,e.__location="packageSkyline/pages/half-page/half-page/index.ts",e.__worklet=!0,e},handleDragEnd:function(e){this.startPan.value=!1;var a=this.customRouteContext,r=a.primaryAnimation,o=a.stopUserGesture,s=a.didPop,n=!1;n=Math.abs(e)>=t._kMinFlingVelocity?e<=0:r.value>.7;var i,l=r.value,u=t.Curves.fastLinearToSlowEaseIn;if(n){var _=Math.min(Math.floor((0,t.lerp)(t._kMaxDroppedSwipePageForwardAnimationTime,0,l)),t._kMaxPageBackAnimationTime);r.value=(0,t.timing)(1,{duration:_,easing:u},((i=function(){o()})._closure={stopUserGesture:o},i.asString="function _f(){const{stopUserGesture}=jsThis._closure;{stopUserGesture();}}",i.__workletHash=0xe10405804fd,i.__location="packageSkyline/pages/half-page/half-page/index.ts (116:8)",i.__worklet=!0,i))}else{var c=Math.floor((0,t.lerp)(0,t._kMaxDroppedSwipePageForwardAnimationTime,l));r.value=(0,t.timing)(0,{duration:c,easing:u},function(){var t=function(){o(),s()};return t._closure={stopUserGesture:o,didPop:s},t.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}",t.__workletHash=1563168231467,t.__location="packageSkyline/pages/half-page/half-page/index.ts (129:8)",t.__worklet=!0,t}())}},_handleDragEnd_worklet_factory_:function(){var e,a=this;return(e=function(e){a.startPan.value=!1;var r=a.customRouteContext,o=r.primaryAnimation,s=r.stopUserGesture,n=r.didPop,i=!1;i=Math.abs(e)>=t._kMinFlingVelocity?e<=0:o.value>.7;var l=o.value,u=t.Curves.fastLinearToSlowEaseIn;if(i){var _=Math.min(Math.floor((0,t.lerp)(t._kMaxDroppedSwipePageForwardAnimationTime,0,l)),t._kMaxPageBackAnimationTime);o.value=(0,t.timing)(1,{duration:_,easing:u},function(){var t=function(){s()};return t._closure={stopUserGesture:s},t.asString="function _f(){const{stopUserGesture}=jsThis._closure;{stopUserGesture();}}",t.__workletHash=0xe10405804fd,t.__location="packageSkyline/pages/half-page/half-page/index.ts (116:8)",t.__worklet=!0,t}())}else{var c=Math.floor((0,t.lerp)(0,t._kMaxDroppedSwipePageForwardAnimationTime,l));o.value=(0,t.timing)(0,{duration:c,easing:u},function(){var t=function(){s(),n()};return t._closure={stopUserGesture:s,didPop:n},t.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}",t.__workletHash=1563168231467,t.__location="packageSkyline/pages/half-page/half-page/index.ts (129:8)",t.__worklet=!0,t}())}})._closure={_this7:{startPan:a.startPan,customRouteContext:a.customRouteContext},_kMinFlingVelocity:t._kMinFlingVelocity,Curves:{fastLinearToSlowEaseIn:t.Curves.fastLinearToSlowEaseIn},lerp:t.lerp,_kMaxDroppedSwipePageForwardAnimationTime:t._kMaxDroppedSwipePageForwardAnimationTime,_kMaxPageBackAnimationTime:t._kMaxPageBackAnimationTime,timing:t.timing},e.asString='function _f(velocity){const{_this7,_kMinFlingVelocity,Curves,lerp,_kMaxDroppedSwipePageForwardAnimationTime,_kMaxPageBackAnimationTime,timing}=jsThis._closure;{_this7.startPan.value=false;var _this$customRouteCont=_this7.customRouteContext,primaryAnimation=_this$customRouteCont.primaryAnimation,stopUserGesture=_this$customRouteCont.stopUserGesture,didPop=_this$customRouteCont.didPop;var animateForward=false;if(Math.abs(velocity)>=_kMinFlingVelocity){animateForward=velocity<=0;}else{animateForward=primaryAnimation.value>0.7;}var t=primaryAnimation.value;var animationCurve=Curves.fastLinearToSlowEaseIn;if(animateForward){var droppedPageForwardAnimationTime=Math.min(Math.floor(lerp(_kMaxDroppedSwipePageForwardAnimationTime,0,t)),_kMaxPageBackAnimationTime);primaryAnimation.value=timing(1.0,{duration:droppedPageForwardAnimationTime,easing:animationCurve},function(){var _f=function _f(){stopUserGesture();};_f._closure={stopUserGesture:stopUserGesture};_f.asString="function _f(){const{stopUserGesture}=jsThis._closure;{stopUserGesture();}}";_f.__workletHash=15462961775869;_f.__location="packageSkyline/pages/half-page/half-page/index.ts (116:8)";_f.__worklet=true;return _f;}());}else{var droppedPageBackAnimationTime=Math.floor(lerp(0,_kMaxDroppedSwipePageForwardAnimationTime,t));primaryAnimation.value=timing(0.0,{duration:droppedPageBackAnimationTime,easing:animationCurve},function(){var _f=function _f(){stopUserGesture();didPop();};_f._closure={stopUserGesture:stopUserGesture,didPop:didPop};_f.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}";_f.__workletHash=1563168231467;_f.__location="packageSkyline/pages/half-page/half-page/index.ts (129:8)";_f.__worklet=true;return _f;}());}}}',e.__workletHash=0xf45b2476de6,e.__location="packageSkyline/pages/half-page/half-page/index.ts",e.__worklet=!0,e},handleVerticalDrag:function(e){if(e.state===t.GestureState.BEGIN)this.handleDragStart();else if(e.state===t.GestureState.ACTIVE){var r=e.deltaY/a;this.handleDragUpdate(r)}else if(e.state===t.GestureState.END){var o=e.velocityY/a;this.handleDragEnd(o)}else e.state===t.GestureState.CANCELLED&&this.handleDragEnd(0)},_handleVerticalDrag_worklet_factory_:function(){var e,r=this._handleDragStart_worklet_factory_(),o=this._handleDragUpdate_worklet_factory_(),s=this._handleDragEnd_worklet_factory_();return(e=function(e){if(e.state===t.GestureState.BEGIN)r();else if(e.state===t.GestureState.ACTIVE){var n=e.deltaY/a;o(n)}else if(e.state===t.GestureState.END){var i=e.velocityY/a;s(i)}else e.state===t.GestureState.CANCELLED&&s(0)})._closure={GestureState:{BEGIN:t.GestureState.BEGIN,ACTIVE:t.GestureState.ACTIVE,END:t.GestureState.END,CANCELLED:t.GestureState.CANCELLED},handleDragStart:r,windowHeight:a,handleDragUpdate:o,handleDragEnd:s},e.asString="function _f(gestureEvent){const{GestureState,handleDragStart,windowHeight,handleDragUpdate,handleDragEnd}=jsThis._closure;{if(gestureEvent.state===GestureState.BEGIN){handleDragStart();}else if(gestureEvent.state===GestureState.ACTIVE){var delta=gestureEvent.deltaY/windowHeight;handleDragUpdate(delta);}else if(gestureEvent.state===GestureState.END){var velocity=gestureEvent.velocityY/windowHeight;handleDragEnd(velocity);}else if(gestureEvent.state===GestureState.CANCELLED){handleDragEnd(0.0);}}}",e.__workletHash=0xf0bccc6fd6b,e.__location="packageSkyline/pages/half-page/half-page/index.ts",e.__worklet=!0,e}});