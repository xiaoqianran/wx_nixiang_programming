__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'packageComponent/pages/canvas/canvas-2d/canvas-2d':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},G["common/head"]._,G["common/foot"]._,H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"theme":new Array(1)},K=U===true,b=(C)=>{},e,f=(C,T,E,B,F,S,J)=>{var $A=I(e);if(e&&$A)$A(R,C,{title:"canvas 2d"},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},h,m=(C)=>{},l=(C,T,E)=>{E("canvas",{},(N,C)=>{if(C)O(N,"type","2d");if(C)R.i(N,"canvas2D");if(C)L(N,"canvas")},m)},k=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"page-body-wrapper")},l)},j=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"page-section-spacing")},k)},n=(C,T)=>{C?T(" 微信版本过低，暂不支持本功能 "):T()},i=(C,T,E)=>{if(h===1){E("view",{},(N,C)=>{if(C)L(N,"page-section")},j)}else{E("view",{},(N,C)=>{if(C)R.y(N,"margin: 15px; text-align:center")},n)}},g=(C,T,E,B)=>{h=D.canIUse?1:0;B(h,i)},o,p=(C,T,E,B,F,S,J)=>{var $A=I(o);if(o&&$A)$A(R,C,{},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},d=(C,T,E,B)=>{e="head";B(e,f);E("view",{},(N,C)=>{if(C)L(N,"page-body")},g);o="foot";B(o,p)},c=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container page");if(C||K||U.theme)R.d(N,"weuiTheme",D.theme);A["theme"][0]=(D,E,T)=>{R.d(N,"weuiTheme",D.theme);E(N)}},d)},a=(C,T,E)=>{E("mp-navigation-bar",{},(N,C)=>{if(C)O(N,"title","canvas 2d");if(C||K||undefined)O(N,"back",true)},b);E("scroll-view",{},(N,C)=>{if(C)L(N,"page-scroll-view");if(C||K||undefined)O(N,"scroll-y",true);if(C)O(N,"type","list")},c)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "packageComponent/pages/canvas/canvas-2d/canvas-2d";__wxRouteBegin = true;__wxAppCurrentFile__="packageComponent/pages/canvas/canvas-2d/canvas-2d.js";define("packageComponent/pages/canvas/canvas-2d/canvas-2d.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../util/util");Page({onShareAppMessage:function(){return{title:"canvas",path:"packageComponent/pages/canvas/canvas-2d/canvas-2d"}},data:{theme:"light",canIUse:!0},onShow:function(){var e=this;setTimeout((function(){e._onReady()}),200)},_onReady:function(){var t=wx.getSystemInfoSync().SDKVersion;console.log(t),(0,e.compareVersion)(t,"2.7.0")<0?(console.log("123"),this.setData({canIUse:!1})):(this.position2D={x:150,y:150,vx:2,vy:2},this.x=-100,wx.createSelectorQuery().select("#canvas2D").fields({node:!0,size:!0}).exec(this.init.bind(this)))},init:function(e){var t=this,n=e[0].width,a=e[0].height,i=e[0].node;if(i){var o=i.getContext("2d"),s=wx.getSystemInfoSync().pixelRatio;i.width=n*s,i.height=a*s,o.scale(s,s);i.requestAnimationFrame((function e(){t.render(i,o),i.requestAnimationFrame(e)}));var r=i.createImage();r.onload=function(){t._img=r},r.src="./car.png"}else this.setData({canIUse:!1})},render:function(e,t){t.clearRect(0,0,305,305),this.drawBall2D(t),this.drawCar(t)},drawBall2D:function(e){var t=this.position2D;function n(t,n){e.beginPath(),e.arc(t,n,5,0,2*Math.PI),e.fillStyle="#1aad19",e.strokeStyle="rgba(1,1,1,0)",e.fill(),e.stroke()}t.x+=t.vx,t.y+=t.vy,t.x>=300&&(t.vx=-2),t.x<=7&&(t.vx=2),t.y>=300&&(t.vy=-2),t.y<=7&&(t.vy=2),n(t.x,150),n(150,t.y),n(300-t.x,150),n(150,300-t.y),n(t.x,t.y),n(300-t.x,300-t.y),n(t.x,300-t.y),n(300-t.x,t.y)},drawCar:function(e){this._img&&(this.x>350&&(this.x=-100),e.drawImage(this._img,this.x++,125,100,50),e.restore())},onUnload:function(){wx.offThemeChange&&wx.offThemeChange()},onLoad:function(){var e=this;this.setData({theme:wx.getSystemInfoSync().theme||"light"}),wx.onThemeChange&&wx.onThemeChange((function(t){var n=t.theme;e.setData({theme:n})}))}});
},{isPage:true,isComponent:true,currentFile:'packageComponent/pages/canvas/canvas-2d/canvas-2d.js'});require("packageComponent/pages/canvas/canvas-2d/canvas-2d.js");