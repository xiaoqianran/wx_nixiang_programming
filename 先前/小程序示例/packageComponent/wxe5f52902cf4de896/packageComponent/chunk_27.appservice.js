__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'packageComponent/pages/media/live-pusher/live-pusher':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},G["common/head"]._,G["common/foot"]._,H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"videoSrc":new Array(2),"theme":new Array(1)},K=U===true,c,d=(C,T,E,B,F,S,J)=>{var $A=I(c);if(c&&$A)$A(R,C,{title:"live-pusher"},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},g=(C)=>{},f=(C,T,E)=>{E("live-pusher",{},(N,C)=>{if(C)R.i(N,"pusher");if(C||K||U.videoSrc)O(N,"url",D.videoSrc);A["videoSrc"][0]=(D,E,T)=>{O(N,"url",D.videoSrc);E(N)};if(C)O(N,"mode","RTC");if(C||K||undefined)O(N,"autopush",true);if(C)O(N,"bindstatechange","handleLivePusherStateChange");if(C)O(N,"binderror","handleLivePusherError")},g)},i=(C,T)=>{C?T("视频地址 (支持rtmp):"):T()},j=(C)=>{},k=(C,T)=>{C?T(" 扫码 "):T()},h=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"page-url")},i);E("input",{},(N,C)=>{if(C)O(N,"name","input");if(C)O(N,"placeholder","视频推送链接");if(C||K||U.videoSrc)O(N,"value",D.videoSrc);A["videoSrc"][1]=(D,E,T)=>{O(N,"value",D.videoSrc);E(N)};if(C)O(N,"bindinput","handleVideoSrcInput")},j);E("button",{},(N,C)=>{if(C)O(N,"type","primary");if(C)O(N,"bindtap","handleScanQRCode")},k)},m=(C,T)=>{C?T("开始"):T()},n=(C,T)=>{C?T("暂停"):T()},o=(C,T)=>{C?T("停止"):T()},p=(C,T)=>{C?T("恢复"):T()},q=(C,T)=>{C?T("切换摄像头"):T()},l=(C,T,E)=>{E("button",{},(N,C)=>{if(C)O(N,"bindtap","handleStart");if(C)L(N,"page-body-button");if(C)O(N,"type","primary")},m);E("button",{},(N,C)=>{if(C)O(N,"bindtap","handlePause");if(C)L(N,"page-body-button");if(C)O(N,"type","primary")},n);E("button",{},(N,C)=>{if(C)O(N,"bindtap","handleStop");if(C)L(N,"page-body-button");if(C)O(N,"type","primary")},o);E("button",{},(N,C)=>{if(C)O(N,"bindtap","handleResume");if(C)L(N,"page-body-button");if(C)O(N,"type","primary")},p);E("button",{},(N,C)=>{if(C)O(N,"bindtap","handleSwitchCamera");if(C)L(N,"page-body-button");if(C)O(N,"type","primary")},q)},e=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"page-section")},f);E("view",{},(N,C)=>{if(C)L(N,"page-section")},h);E("view",{},(N,C)=>{if(C)L(N,"page-section")},l)},r,s=(C,T,E,B,F,S,J)=>{var $A=I(r);if(r&&$A)$A(R,C,{},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},b=(C,T,E,B)=>{c="head";B(c,d);E("view",{},(N,C)=>{if(C)L(N,"page-body")},e);r="foot";B(r,s)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container page");if(C||K||U.theme)R.d(N,"weuiTheme",D.theme);A["theme"][0]=(D,E,T)=>{R.d(N,"weuiTheme",D.theme);E(N)}},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "packageComponent/pages/media/live-pusher/live-pusher";__wxRouteBegin = true;__wxAppCurrentFile__="packageComponent/pages/media/live-pusher/live-pusher.js";define("packageComponent/pages/media/live-pusher/live-pusher.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onShareAppMessage:function(){return{title:"live-pusher",path:"packageComponent/pages/media/live-pusher/live-pusher"}},data:{theme:"light",videoSrc:""},onReady:function(){this.ctx=wx.createLivePusherContext("pusher")},handleLivePusherStateChange:function(e){console.log("live-pusher code:",e.detail.code)},handleLivePusherError:function(e){console.error("live-pusher error:",e.detail.errMsg)},handleStart:function(){this.ctx.start({success:function(){console.log("start success")},fail:function(){console.log("start fail")}})},handleScanQRCode:function(){var e=this;wx.scanCode({complete:function(t){var n=t.result;e.setData({videoSrc:n})}})},handlePause:function(){this.ctx.pause({success:function(){console.log("pause success")},fail:function(){console.log("pause fail")}})},handleStop:function(){this.ctx.stop({success:function(){console.log("stop success")},fail:function(){console.log("stop fail")}})},handleResume:function(){this.ctx.resume({success:function(){console.log("resume success")},fail:function(){console.log("resume fail")}})},handleSwitchCamera:function(){this.ctx.switchCamera({success:function(){console.log("switch camera success")},fail:function(){console.log("switch camera fail")}})},handleVideoSrcInput:function(e){this.setData({videoSrc:e.detail.value})},onUnload:function(){wx.offThemeChange&&wx.offThemeChange()},onLoad:function(){var e=this;this.setData({theme:wx.getSystemInfoSync().theme||"light"}),wx.onThemeChange&&wx.onThemeChange((function(t){var n=t.theme;e.setData({theme:n})}))}});
},{isPage:true,isComponent:true,currentFile:'packageComponent/pages/media/live-pusher/live-pusher.js'});require("packageComponent/pages/media/live-pusher/live-pusher.js");