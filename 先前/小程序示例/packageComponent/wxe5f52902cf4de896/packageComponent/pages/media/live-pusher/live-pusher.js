Page({onShareAppMessage:function(){return{title:"live-pusher",path:"packageComponent/pages/media/live-pusher/live-pusher"}},data:{theme:"light",videoSrc:""},onReady:function(){this.ctx=wx.createLivePusherContext("pusher")},handleLivePusherStateChange:function(e){console.log("live-pusher code:",e.detail.code)},handleLivePusherError:function(e){console.error("live-pusher error:",e.detail.errMsg)},handleStart:function(){this.ctx.start({success:function(){console.log("start success")},fail:function(){console.log("start fail")}})},handleScanQRCode:function(){var e=this;wx.scanCode({complete:function(t){var n=t.result;e.setData({videoSrc:n})}})},handlePause:function(){this.ctx.pause({success:function(){console.log("pause success")},fail:function(){console.log("pause fail")}})},handleStop:function(){this.ctx.stop({success:function(){console.log("stop success")},fail:function(){console.log("stop fail")}})},handleResume:function(){this.ctx.resume({success:function(){console.log("resume success")},fail:function(){console.log("resume fail")}})},handleSwitchCamera:function(){this.ctx.switchCamera({success:function(){console.log("switch camera success")},fail:function(){console.log("switch camera fail")}})},handleVideoSrcInput:function(e){this.setData({videoSrc:e.detail.value})},onUnload:function(){wx.offThemeChange&&wx.offThemeChange()},onLoad:function(){var e=this;this.setData({theme:wx.getSystemInfoSync().theme||"light"}),wx.onThemeChange&&wx.onThemeChange((function(t){var n=t.theme;e.setData({theme:n})}))}});