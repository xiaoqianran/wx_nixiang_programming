function e(){for(var e=[],t=0;t<3;++t){var n=Math.floor(256*Math.random()).toString(16);n=1===n.length?"0".concat(n):n,e.push(n)}return"#".concat(e.join(""))}Page({onShareAppMessage:function(){return{title:"video",path:"packageComponent/pages/media/video/video"}},onReady:function(){this.videoContext=wx.createVideoContext("myVideo")},onHide:function(){},inputValue:"",data:{theme:"light",enableAutoRotation:!0,src:"",danmuList:[{text:"第 1s 出现的弹幕",color:"#ff0000",time:1},{text:"第 3s 出现的弹幕",color:"#ff00ff",time:3}]},bindInputBlur:function(e){this.inputValue=e.detail.value},bindButtonTap:function(){var e=this;wx.chooseVideo({sourceType:["album","camera"],maxDuration:60,camera:["front","back"],success:function(t){e.setData({src:t.tempFilePath})}})},bindVideoEnterPictureInPicture:function(){console.log("进入小窗模式")},bindVideoLeavePictureInPicture:function(){console.log("退出小窗模式")},bindPlayVideo:function(){this.videoContext.play()},bindSendDanmu:function(){this.videoContext.sendDanmu({text:this.inputValue,color:e()})},videoErrorCallback:function(e){console.log("视频错误信息:"),console.log(e.detail.errMsg)},handleSwitchChange:function(e){this.setData({enableAutoRotation:e.detail.value})},onUnload:function(){wx.offThemeChange&&wx.offThemeChange()},onLoad:function(){var e=this;this.setData({theme:wx.getSystemInfoSync().theme||"light"}),wx.onThemeChange&&wx.onThemeChange((function(t){var n=t.theme;e.setData({theme:n})}))}});