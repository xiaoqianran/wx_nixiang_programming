__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'packageComponent/pages/canvas/webgl/webgl':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},G["common/head"]._,G["common/foot"]._,H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"theme":new Array(1)},K=U===true,c,d=(C,T,E,B,F,S,J)=>{var $A=I(c);if(c&&$A)$A(R,C,{title:"webgl"},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},f,j=(C)=>{},i=(C,T,E)=>{E("canvas",{},(N,C)=>{if(C)L(N,"canvas");if(C)O(N,"type","webgl");if(C)R.i(N,"canvasWebGL")},j)},h=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"page-body-wrapper")},i)},k=(C,T)=>{C?T(" 微信版本过低，暂不支持本功能 "):T()},g=(C,T,E)=>{if(f===1){E("view",{},(N,C)=>{if(C)L(N,"page-section")},h)}else{E("view",{},(N,C)=>{if(C)R.y(N,"margin: 15px; text-align:center")},k)}},e=(C,T,E,B)=>{f=D.canIUse?1:0;B(f,g)},l,m=(C,T,E,B,F,S,J)=>{var $A=I(l);if(l&&$A)$A(R,C,{},K||(U?{}:undefined)).C(C,T,E,B,F,S,J)},b=(C,T,E,B)=>{c="head";B(c,d);E("view",{},(N,C)=>{if(C)L(N,"page-body")},e);l="foot";B(l,m)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container page");if(C||K||U.theme)R.d(N,"weuiTheme",D.theme);A["theme"][0]=(D,E,T)=>{R.d(N,"weuiTheme",D.theme);E(N)}},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "packageComponent/pages/canvas/webgl/webgl";__wxRouteBegin = true;__wxAppCurrentFile__="packageComponent/pages/canvas/webgl/webgl.js";define("packageComponent/pages/canvas/webgl/webgl.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../util/util"),r=[0,.5,1,1,0,-.5,-.5,.7,0,1,.5,-.5,.1,1,.6];Page({onShareAppMessage:function(){return{title:"canvas",path:"packageComponent/pages/canvas/webgl/webgl"}},data:{theme:"light",canIUse:!0},onReady:function(){var r=this,t=wx.getSystemInfoSync().SDKVersion;(0,e.compareVersion)(t,"2.7.0")<0?(console.log("123"),this.setData({canIUse:!1})):wx.createSelectorQuery().select("#canvasWebGL").node().exec((function(e){var t=e[0].node;r.renderWebGL(t)}))},renderWebGL:function(e){if(e){var t=e.getContext("webgl");if(t){t.viewport(0,0,305,305);var a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,"\n  precision mediump float;\n\n  attribute vec2 vertPosition;\n  attribute vec3 vertColor;\n  varying vec3 fragColor;\n\n  void main() {\n    gl_Position = vec4(vertPosition, 0.0, 1.0);\n    fragColor = vertColor;\n  }\n"),t.compileShader(a);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,"\n  precision mediump float;\n\n  varying vec3 fragColor;\n  void main() {\n    gl_FragColor = vec4(fragColor, 1.0);\n  }\n"),t.compileShader(n);var o=t.createProgram();t.attachShader(o,a),t.attachShader(o,n),t.deleteShader(a),t.deleteShader(n),t.linkProgram(o),t.useProgram(o);e.requestAnimationFrame((function a(){var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW);var i=t.getAttribLocation(o,"vertPosition"),c=t.getAttribLocation(o,"vertColor");t.vertexAttribPointer(i,2,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(c,3,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),t.enableVertexAttribArray(i),t.enableVertexAttribArray(c),t.drawArrays(t.TRIANGLES,0,3),e.requestAnimationFrame(a)}))}else console.error("gl init failed",t)}else this.setData({canIUse:!1})},onUnload:function(){wx.offThemeChange&&wx.offThemeChange()},onLoad:function(){var e=this;this.setData({theme:wx.getSystemInfoSync().theme||"light"}),wx.onThemeChange&&wx.onThemeChange((function(r){var t=r.theme;e.setData({theme:t})}))}});
},{isPage:true,isComponent:true,currentFile:'packageComponent/pages/canvas/webgl/webgl.js'});require("packageComponent/pages/canvas/webgl/webgl.js");