__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'packageSkylineExamples/examples/card_transition/pages/detail/detail':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"swiperHeight":new Array(1),"nickname":new Array(1),"content":new Array(1),"index":new Array(1),"url":new Array(1)},K=U===true,g=(C)=>{},h=(C,T)=>{C||K||U.nickname?T(Y(D.nickname),(N)=>{A["nickname"][0]=(D,E,T)=>{T(N,Y(D.nickname))}}):T()},i=(C,T)=>{C?T("关注"):T()},f=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"navigation-bar-avatar");if(C)O(N,"src","https://res.wx.qq.com/op_res/BqgN85sXxTbk1kynEEihrwQPXmcn86nOyioRnPAfkrbZteUWsKfEpgoYZ1pk-3TMTc_qXFSElIgkvILR-zzh1Q")},g);E("view",{},(N,C)=>{if(C)L(N,"navigation-bar-title")},h);E("view",{},(N,C)=>{if(C)L(N,"navigation-bar-follow")},i)},e=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"navigation-bar-content")},f)},k=(C)=>{},j=(C,T,E)=>{E("view",{},(N,C)=>{},k)},p=(C)=>{},o=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"detail-image");if(C)O(N,"mode","widthFix");if(C||K||U.url)O(N,"src",D.url);A["url"][0]=(D,E,T)=>{O(N,"src",D.url);E(N)}},p)},q,r,s,t,u,x=(C)=>{},w=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"detail-image");if(C)O(N,"mode","widthFix");if(C||K||s)O(N,"src",q)},x)},v=(C,$A,$B,$C,$D,$E,T,E)=>{q=$A,r=$B,s=$C,t=$D,u=$E;E("swiper-item",{},(N,C)=>{},w)},n=(C,T,E,B,F)=>{E("swiper-item",{},(N,C)=>{},o);F(D.imageList,"index",U?U.imageList:undefined,[0,"imageList"],v)},m=(C,T,E)=>{E("swiper",{},(N,C)=>{if(C)R.i(N,"swiper");if(C||K||!!U.swiperHeight||undefined)R.y(N,"width: 100%; height: "+Y(D.swiperHeight)+"px;");A["swiperHeight"][0]=(D,E,T)=>{R.y(N,"width: 100%; height: "+Y(D.swiperHeight)+"px;")};if(C||K||undefined)O(N,"indicator-dots",true)},n)},z=(C,T)=>{C||K||U.content?T(Y(D.content),(N)=>{A["content"][0]=(D,E,T)=>{T(N,Y(D.content))}}):T()},A0=(C)=>{},B0=(C,T)=>{C?T("🔥 Skyline 以性能为首要目标，提供更为接近原生的用户体验，Skyline 具有以下特点："):T()},C0=(C)=>{},D0=(C,T)=>{C?T("🌟 界面更不容易被逻辑阻塞，进一步减少卡顿"):T()},E0=(C,T)=>{C?T("🌟 无需为每个页面新建一个 JS 引擎实例（WebView），减少了内存、时间开销"):T()},F0=(C,T)=>{C?T("🌟 框架可以在页面之间共享更多的资源，进一步减少运行时内存、时间开销"):T()},G0=(C,T)=>{C?T("🌟 框架的代码之间无需再通过 JSBridge 进行数据交换，减少了大量通信时间开销"):T()},H0=(C)=>{},I0=(C,T)=>{C?T("👇👇👇 支持了一些 Web 所缺失的但很重要的能力，以满足开发者实现更好的交互体验："):T()},J0=(C)=>{},K0=(C,T)=>{C?T("🔸 Worklet 动画：能够在渲染线程同步运行动画相关逻辑。"):T()},L0=(C,T)=>{C?T("🔸 手势系统：在渲染线程同步监听手势、执行手势相关逻辑；支持手势协商处理；"):T()},M0=(C,T)=>{C?T("🔸 自定义路由：实现自定义路由动画和交互。"):T()},N0=(C,T)=>{C?T("🔸 共享元素动画：将上一个页面的元素“共享”到下一个页面，并伴随着过渡动画。"):T()},y=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"detail-title")},z);E("view",{},(N,C)=>{if(C)L(N,"detail-p");if(C)R.y(N,"padding-bottom: 20px;")},A0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},B0);E("view",{},(N,C)=>{if(C)L(N,"detail-p");if(C)R.y(N,"padding-bottom: 10px;")},C0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},D0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},E0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},F0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},G0);E("view",{},(N,C)=>{if(C)L(N,"detail-p");if(C)R.y(N,"padding-bottom: 20px;")},H0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},I0);E("view",{},(N,C)=>{if(C)L(N,"detail-p");if(C)R.y(N,"padding-bottom: 10px;")},J0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},K0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},L0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},M0);E("view",{},(N,C)=>{if(C)L(N,"detail-p")},N0)},l=(C,T,E)=>{E("view",{},(N,C)=>{},m);E("view",{},(N,C)=>{if(C)L(N,"detail-content")},y)},Q0=(C)=>{},S0=(C,T)=>{C?T("❤\u{fe0f}"):T()},R0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"footer-icon")},S0);C?T(" 317 "):T()},U0=(C,T)=>{C?T("⭐\u{fe0f}"):T()},T0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"footer-icon")},U0);C?T(" 723 "):T()},P0=(C,T,E)=>{E("input",{},(N,C)=>{if(C)L(N,"footer-input");if(C)O(N,"placeholder","说点什么...")},Q0);E("span",{},(N,C)=>{},R0);E("span",{},(N,C)=>{},T0)},O0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"footer-content")},P0)},d=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"navigation-bar")},e);E("share-element",{},(N,C)=>{if(C||K||!!U.index||undefined)O(N,"key","se-key"+Y(D.index));A["index"][0]=(D,E,T)=>{O(N,"key","se-key"+Y(D.index));E(N)};if(C)O(N,"shuttle-on-push","from");if(C||K||undefined)O(N,"transition-on-gesture",true);if(C)O(N,"rect-tween-type","cubic-bezier(0.4, 0.0, 0.2, 1.0)");if(C)R.y(N,"width: 100%; height: 0px;")},j);E("scroll-view",{},(N,C)=>{if(C||K||undefined)O(N,"scroll-y",true);if(C)R.y(N,"flex: 1; width: 100%; overflow: hidden;");if(C)O(N,"type","list");if(C||K||undefined)O(N,"show-scrollbar",false)},l);E("view",{},(N,C)=>{if(C)L(N,"footer")},O0)},c=(C,T,E)=>{E("view",{},(N,C)=>{if(C)R.i(N,"page")},d)},b=(C,T,E)=>{E("view",{},(N,C)=>{if(C)R.i(N,"fake-host")},c)},a=(C,T,E)=>{E("pan-gesture-handler",{},(N,C)=>{if(C)R.wl(N,"ongesture","handlePanGesture")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "packageSkylineExamples/examples/card_transition/pages/detail/detail";__wxRouteBegin = true;__wxAppCurrentFile__="packageSkylineExamples/examples/card_transition/pages/detail/detail.js";define("packageSkylineExamples/examples/card_transition/pages/detail/detail.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../list/route"),e=require("../list/utils"),a=wx.getSystemInfoSync().screenWidth,s=wx.worklet,r=s.shared,i=s.timing,n=s.Easing,o=1,l=2,u=3,c=4,p=-1/3*a,v=2/3*a;Component({properties:{index:{type:Number,value:-1},url:{type:String,value:""},content:{type:String,value:""},ratio:{type:Number,value:1},nickname:{type:String,value:""}},data:{swiperHeight:0,imageList:["https://res.wx.qq.com/op_res/BqgN85sXxTbk1kynEEihr7lTnuuiwGJPwwjxDVYbDolj05sAxd5cOESVZt4_nl1KwzkiDWTvG56LuhE45xAaZA","https://res.wx.qq.com/op_res/Ak_VAL-nLvq6laAMVJA86rf3NAZ2vY86v757dfja16Z95xtoxk4BWWDuTCPT-pD1SjGGIddUsH0l6C8Yu5LJlw"]},lifetimes:{created:function(){this.startX=r(0),this.startY=r(0),this.transX=r(0),this.transY=r(0),this.isInteracting=r(!1)},attached:function(){var s,r=this;this.setData({swiperHeight:a/this.data.ratio}),this.customRouteContext=null===(s=wx.router)||void 0===s?void 0:s.getRouteContext(this);var i,o=this.customRouteContext||{},l=o.primaryAnimation,u=o.primaryAnimationStatus,c=o.userGestureInProgress,p=o.shareEleTop,v=(0,t.CurveAnimation)({animation:l,animationStatus:u,curve:n.in(t.Curves.fastOutSlowIn),reverseCurve:n.out(t.Curves.fastOutSlowIn)});this.applyAnimatedStyle(".detail-content",((i=function(){return{opacity:v.value}})._closure={_curvePrimaryAnimation:v},i.asString="function _f(){const{_curvePrimaryAnimation}=jsThis._closure;{return{opacity:_curvePrimaryAnimation.value};}}",i.__workletHash=719989909814,i.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js (76:49)",i.__worklet=!0,i)),this.applyAnimatedStyle("#fake-host",function(){var s=function(){if(c.value&&globalThis.RouteCardSrcRect&&null!=globalThis.RouteCardSrcRect.value){var s=globalThis.RouteCardSrcRect.value,i=globalThis.RouteCardDestRect.value,n=1-v.value,o=(0,t.lerp)(s.left,i.left,n),l=(0,t.lerp)(s.top,i.top,n),u=(0,t.lerp)(s.width,i.width,n)/a,d=o,h=l-p.value*u;return{transform:"translateX(".concat(d,"px) translateY(").concat(h,"px) scale(").concat(u,")"),transformOrigin:"0 0"}}var _=r.transX.value,m=r.transY.value,g=(0,e.clamp)(1-_/a*.5,0,1);return{transform:"translateX(".concat(_,"px) translateY(").concat(m,"px) scale(").concat(g,")"),transformOrigin:"50% 50%"}};return s._closure={userGestureInProgress:c,_curvePrimaryAnimation:v,lerp:t.lerp,screenWidth:a,shareEleTop:p,_this:{transX:r.transX,transY:r.transY},clamp:e.clamp},s.asString='function _f(){const{userGestureInProgress,_curvePrimaryAnimation,lerp,screenWidth,shareEleTop,_this,clamp}=jsThis._closure;{if(userGestureInProgress.value&&globalThis[\'RouteCardSrcRect\']&&globalThis[\'RouteCardSrcRect\'].value!=undefined){var begin=globalThis[\'RouteCardSrcRect\'].value;var end=globalThis[\'RouteCardDestRect\'].value;var t=1-_curvePrimaryAnimation.value;var shareEleX=lerp(begin.left,end.left,t);var shareEleY=lerp(begin.top,end.top,t);var shareEleW=lerp(begin.width,end.width,t);var _scale=shareEleW/screenWidth;var _transX=shareEleX;var _transY=shareEleY-shareEleTop.value*_scale;return{transform:"translateX(".concat(_transX,"px) translateY(").concat(_transY,"px) scale(").concat(_scale,")"),transformOrigin:\'0 0\'};}var transX=_this.transX.value;var transY=_this.transY.value;var scale=clamp(1-transX/screenWidth*0.5,0,1);return{transform:"translateX(".concat(transX,"px) translateY(").concat(transY,"px) scale(").concat(scale,")"),transformOrigin:\'50% 50%\'};}}',s.__workletHash=0xbe8d321eddd,s.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js (83:44)",s.__worklet=!0,s}(),{immediate:!1})}},methods:{handlePanGesture:function(t){var s,r=this.customRouteContext,d=r.startUserGesture,h=r.stopUserGesture,_=r.primaryAnimation,m=r.didPop;if(t.state===o)this.startX.value=t.absoluteX,this.startY.value=t.absoluteY;else if(t.state===l){if(t.deltaX>0&&!this.isInteracting.value&&(this.isInteracting.value=!0),!this.isInteracting.value)return;var g=t.absoluteX-this.startX.value;this.transX.value=(0,e.clamp)(g,p,v),this.transY.value=t.absoluteY-this.startY.value}else if(t.state===u||t.state===c){if(!this.isInteracting.value)return;this.isInteracting.value=!1;var f=!1;(t.velocityX>500||this.transX.value/a>.25)&&(f=!0),f?(d(),_.value=i(0,{duration:180,easing:n.linear},((s=function(){h(),m()})._closure={stopUserGesture:h,didPop:m},s.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}",s.__workletHash=1563168231467,s.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js (158:13)",s.__worklet=!0,s))):(this.transX.value=i(0,{duration:100}),this.transY.value=i(0,{duration:100}))}},_handlePanGesture_worklet_factory_:function(){var t,s=this;return(t=function(t){var r=s.customRouteContext,d=r.startUserGesture,h=r.stopUserGesture,_=r.primaryAnimation,m=r.didPop;if(t.state===o)s.startX.value=t.absoluteX,s.startY.value=t.absoluteY;else if(t.state===l){if(t.deltaX>0&&!s.isInteracting.value&&(s.isInteracting.value=!0),!s.isInteracting.value)return;var g=t.absoluteX-s.startX.value;s.transX.value=(0,e.clamp)(g,p,v),s.transY.value=t.absoluteY-s.startY.value}else if(t.state===u||t.state===c){if(!s.isInteracting.value)return;s.isInteracting.value=!1;var f=!1;(t.velocityX>500||s.transX.value/a>.25)&&(f=!0),f?(d(),_.value=i(0,{duration:180,easing:n.linear},function(){var t=function(){h(),m()};return t._closure={stopUserGesture:h,didPop:m},t.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}",t.__workletHash=1563168231467,t.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js (158:13)",t.__worklet=!0,t}())):(s.transX.value=i(0,{duration:100}),s.transY.value=i(0,{duration:100}))}})._closure={_this2:{customRouteContext:s.customRouteContext,startX:s.startX,startY:s.startY,isInteracting:s.isInteracting,transX:s.transX,transY:s.transY},GestureState:{BEGIN:o,ACTIVE:l,END:u,CANCELLED:c},clamp:e.clamp,transLowerBound:p,transUpperBound:v,screenWidth:a,timing:i,Easing:{linear:n.linear}},t.asString='function _f(e){const{_this2,GestureState,clamp,transLowerBound,transUpperBound,screenWidth,timing,Easing}=jsThis._closure;{var _this$customRouteCont=_this2.customRouteContext,startUserGesture=_this$customRouteCont.startUserGesture,stopUserGesture=_this$customRouteCont.stopUserGesture,primaryAnimation=_this$customRouteCont.primaryAnimation,didPop=_this$customRouteCont.didPop;if(e.state===GestureState.BEGIN){_this2.startX.value=e.absoluteX;_this2.startY.value=e.absoluteY;}else if(e.state===GestureState.ACTIVE){if(e.deltaX>0&&!_this2.isInteracting.value){_this2.isInteracting.value=true;}if(!_this2.isInteracting.value)return;var transX=e.absoluteX-_this2.startX.value;_this2.transX.value=clamp(transX,transLowerBound,transUpperBound);_this2.transY.value=e.absoluteY-_this2.startY.value;}else if(e.state===GestureState.END||e.state===GestureState.CANCELLED){if(!_this2.isInteracting.value)return;_this2.isInteracting.value=false;var shouldFinish=false;if(e.velocityX>500||_this2.transX.value/screenWidth>0.25){shouldFinish=true;}if(shouldFinish){startUserGesture();primaryAnimation.value=timing(0.0,{duration:180,easing:Easing.linear},function(){var _f=function _f(){stopUserGesture();didPop();};_f._closure={stopUserGesture:stopUserGesture,didPop:didPop};_f.asString="function _f(){const{stopUserGesture,didPop}=jsThis._closure;{stopUserGesture();didPop();}}";_f.__workletHash=1563168231467;_f.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js (158:13)";_f.__worklet=true;return _f;}());}else{_this2.transX.value=timing(0.0,{duration:100});_this2.transY.value=timing(0.0,{duration:100});}}}}',t.__workletHash=0xc5f5934a3c4,t.__location="packageSkylineExamples/examples/card_transition/pages/detail/detail.js",t.__worklet=!0,t}}});
},{isPage:true,isComponent:true,currentFile:'packageSkylineExamples/examples/card_transition/pages/detail/detail.js'});require("packageSkylineExamples/examples/card_transition/pages/detail/detail.js");