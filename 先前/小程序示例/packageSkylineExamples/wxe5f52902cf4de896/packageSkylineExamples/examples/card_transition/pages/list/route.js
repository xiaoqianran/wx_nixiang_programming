Object.defineProperty(exports,"__esModule",{value:!0}),exports.CurveAnimation=s,exports.Curves=void 0,exports.installRouteBuilder=function(){if(l)return;wx.router.addRouteBuilder("CardScaleTransition",u),l=!0},exports.lerp=void 0;var e={dismissed:0,forward:1,reverse:2,completed:3},t=wx.worklet,r=t.Easing,a=t.shared,i=exports.Curves={linearToEaseOut:r.cubicBezier(.35,.91,.33,.97),easeInToLinear:r.cubicBezier(.67,.03,.65,.09),fastOutSlowIn:r.cubicBezier(.4,0,.2,1),slowOutFastIn:r.cubicBezier(0,.8,1,.6),easeOutCubic:r.cubicBezier(.215,.61,.355,1)};function s(t){var r,a=t.animation,i=t.animationStatus,s=t.curve,n=t.reverseCurve;return(0,wx.worklet.derived)(((r=function(){var t=n&&i.value===e.reverse?n:s,r=a.value;return t?0===r||1===r?r:t(r):r})._closure={reverseCurve:n,animationStatus:i,AnimationStatus:e,curve:s,animation:a},r.asString="function _f(){const{reverseCurve,animationStatus,AnimationStatus,curve,animation}=jsThis._closure;{var useForwardCurve=!reverseCurve||animationStatus.value!==AnimationStatus.reverse;var activeCurve=useForwardCurve?curve:reverseCurve;var t=animation.value;if(!activeCurve)return t;if(t===0||t===1)return t;return activeCurve(t);}}",r.__workletHash=0xa2517b36df3,r.__location="packageSkylineExamples/examples/card_transition/pages/list/route.js (23:17)",r.__worklet=!0,r))}var n,o=exports.lerp=((n=function(e,t,r){return e+(t-e)*r})._closure={},n.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",n.__workletHash=9953309036832,n.__location="packageSkylineExamples/examples/card_transition/pages/list/route.js (36:20)",n.__worklet=!0,n),u=function(t){var n=t.primaryAnimation,u=t.primaryAnimationStatus,l=t.userGestureInProgress,c=a(0);t.shareEleTop=c;var v=s({animation:n,animationStatus:u,curve:r.in(i.fastOutSlowIn),reverseCurve:r.out(i.fastOutSlowIn)}),d=function(){var e=function(){globalThis.RouteCardSrcRect&&(globalThis.RouteCardSrcRect.value=void 0),globalThis.RouteCardDestRect&&(globalThis.RouteCardDestRect.value=void 0)};return e._closure={},e.asString="function _f(){if(globalThis['RouteCardSrcRect']){globalThis['RouteCardSrcRect'].value=undefined;}if(globalThis['RouteCardDestRect']){globalThis['RouteCardDestRect'].value=undefined;}}",e.__workletHash=0xc66bd83351b,e.__location="packageSkylineExamples/examples/card_transition/pages/list/route.js (59:16)",e.__worklet=!0,e}();return{opaque:!1,handlePrimaryAnimation:function(){var t=function(){var t=u.value;if(l.value)return{opacity:r.out(r.cubicBezier(.5,0,.7,.5)(n.value))};if(t==e.dismissed)return d(),{transform:"translate(0, 0) scale(0)"};if(t==e.completed)return d(),{transform:"translate(0, 0) scale(1)"};var a=0,i=0,s=t===e.reverse?1:0;if(globalThis.RouteCardSrcRect&&null!=globalThis.RouteCardSrcRect.value){var m=globalThis.RouteCardSrcRect.value,p=globalThis.RouteCardDestRect.value;t===e.forward&&(c.value=p.top);var f=v.value;t!==e.reverse&&t!==e.dismissed||(f=1-f);var g=o(m.left,p.left,f),h=o(m.top,p.top,f),_=o(m.width,p.width,f);a=g,t===e.reverse?(s=_/m.width,i=h-m.top*s):(s=_/p.width,i=h-p.top*s)}return{transform:"translate(".concat(a,"px, ").concat(i,"px) scale(").concat(s,")"),transformOrigin:"0 0",opacity:v.value}};return t._closure={primaryAnimationStatus:u,userGestureInProgress:l,Easing:{out:r.out,cubicBezier:r.cubicBezier},primaryAnimation:n,AnimationStatus:e,reset:d,shareEleTop:c,_curvePrimaryAnimation:v,lerp:o},t.asString='function _f(){const{primaryAnimationStatus,userGestureInProgress,Easing,primaryAnimation,AnimationStatus,reset,shareEleTop,_curvePrimaryAnimation,lerp}=jsThis._closure;{var status=primaryAnimationStatus.value;if(userGestureInProgress.value){return{opacity:Easing.out(Easing.cubicBezier(0.5,0,0.7,0.5)(primaryAnimation.value))};}if(status==AnimationStatus.dismissed){reset();return{transform:"translate(0, 0) scale(0)"};}if(status==AnimationStatus.completed){reset();return{transform:"translate(0, 0) scale(1)"};}var transX=0;var transY=0;var scale=status===AnimationStatus.reverse?1:0;if(globalThis[\'RouteCardSrcRect\']&&globalThis[\'RouteCardSrcRect\'].value!=undefined){var begin=globalThis[\'RouteCardSrcRect\'].value;var end=globalThis[\'RouteCardDestRect\'].value;if(status===AnimationStatus.forward){shareEleTop.value=end.top;}var t=_curvePrimaryAnimation.value;if(status===AnimationStatus.reverse||status===AnimationStatus.dismissed){t=1-t;}var shareEleX=lerp(begin.left,end.left,t);var shareEleY=lerp(begin.top,end.top,t);var shareEleW=lerp(begin.width,end.width,t);transX=shareEleX;if(status===AnimationStatus.reverse){scale=shareEleW/begin.width;transY=shareEleY-begin.top*scale;}else{scale=shareEleW/end.width;transY=shareEleY-end.top*scale;}}return{transform:"translate(".concat(transX,"px, ").concat(transY,"px) scale(").concat(scale,")"),transformOrigin:\'0 0\',opacity:_curvePrimaryAnimation.value};}}',t.__workletHash=3168893743658,t.__location="packageSkylineExamples/examples/card_transition/pages/list/route.js (69:33)",t.__worklet=!0,t}(),transitionDuration:250,reverseTransitionDuration:250,canTransitionTo:!1,canTransitionFrom:!1,barrierColor:"rgba(0, 0, 0, 0.3)"}},l=!1;