__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'packageSkylineExamples/examples/refresher-two-level/index/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},G["packageSkylineExamples/examples/refresher-two-level/goods"]._,H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"twoLevelStyle":new Array(1),"twoLevelTriggered":new Array(1),"padding":new Array(1),"intoView":new Array(1),"triggered":new Array(1),"secondFloorCover":new Array(1),"paddingTop":new Array(1),"refreshStatus":new Array(1)},K=U===true,d=(C)=>{},f=(C,T)=>{C?T("微信学堂"):T()},e=(C,T,E)=>{E("text",{},(N,C)=>{},f)},c=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"nav-logo");if(C)O(N,"mode","aspectFill");if(C)O(N,"src","https://res.wx.qq.com/op_res/RBwYn_b7VGuWuLJ2qBChU5TS9E0E2WBIJqkwvK4DV_NdciupZQ58P62ReribRjp3Cn0uqFLZ6v4DC7719-YaeA")},d);E("view",{},(N,C)=>{if(C)L(N,"nav-title")},e)},b=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"nav-left")},c,"left")},j=(C)=>{},k=(C,T)=>{C||K||U.refreshStatus?T(Y(D.refreshStatus),(N)=>{A["refreshStatus"][0]=(D,E,T)=>{T(N,Y(D.refreshStatus))}}):T()},i=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"expand");if(C||K||U.secondFloorCover)O(N,"src",D.secondFloorCover);A["secondFloorCover"][0]=(D,E,T)=>{O(N,"src",D.secondFloorCover);E(N)}},j);E("view",{},(N,C)=>{if(C)L(N,"refresher-tips")},k)},h=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"expand")},i)},l=(C)=>{},r=(C)=>{},q=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"search-icon");if(C)O(N,"src","../images/search.png")},r)},s=(C,T)=>{C||K||!!U.twoLevelStyle||undefined?T(Y("这是skyline实现的～"+Y(D.twoLevelStyle)),(N)=>{A["twoLevelStyle"][0]=(D,E,T)=>{T(N,Y("这是skyline实现的～"+Y(D.twoLevelStyle)))}}):T()},t=(C,T)=>{C?T("搜索"):T()},p=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"search-icon-wrp")},q);E("view",{},(N,C)=>{if(C)L(N,"search-text")},s);E("view",{},(N,C)=>{if(C)L(N,"search-btn")},t)},o=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"search")},p)},n=(C,T,E)=>{E("view",{},(N,C)=>{if(C)R.v(N,"tap","jumpNextPage",!1,!1,!1,!1);if(C)L(N,"search-container");if(C||K||!!U.paddingTop||undefined)R.y(N,"padding-top: "+Y(D.paddingTop)+"px;");A["paddingTop"][0]=(D,E,T)=>{R.y(N,"padding-top: "+Y(D.paddingTop)+"px;")}},o)},v,w,x,y,z,D0,E0,F0,G0,H0,K0=(C)=>{},M0=(C,T)=>{C||K||Z(F0,"name")?T(Y(X(D0).name)):T()},L0=(C,T,E)=>{E("text",{},(N,C)=>{},M0)},J0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"category-icon");if(C||K||Z(F0,"icon"))O(N,"src",X(D0).icon)},K0);E("view",{},(N,C)=>{if(C)L(N,"category-name")},L0)},I0=(C,$A,$B,$C,$D,$E,T,E)=>{D0=$A,E0=$B,F0=$C,G0=$D,H0=$E;E("view",{},(N,C)=>{if(C)L(N,"category-item");if(C||K||!!U.categoryItemWidth||undefined)R.y(N,"width: "+Y(D.categoryItemWidth)+"px;")},J0)},C0=(C,T,E,B,F)=>{F(X(v).categorys,"id",U?Z(x,"categorys"):undefined,[...z,"categorys"],I0)},B0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"category-list")},C0)},A0=(C,$A,$B,$C,$D,$E,T,E)=>{v=$A,w=$B,x=$C,y=$D,z=$E;E("swiper-item",{},(N,C)=>{},B0)},u=(C,T,E,B,F)=>{F(D.categorySet,"page",U?U.categorySet:undefined,[0,"categorySet"],A0)},m=(C,T,E)=>{E("sticky-header",{},(N,C)=>{},n);E("swiper",{},(N,C)=>{if(C)L(N,"category-wrp")},u)},Q0,R0,S0,T0,U0,X0=(C,T)=>{C||K||!!Z(S0,"name")||undefined?T(Y("\n\t\t\t\t\t\t\t"+Y(X(Q0).name)+"\n\t\t\t\t\t\t")):T()},W0=(C,T,E)=>{E("text",{},(N,C)=>{var $A=D.selected===R0;if(C||K||!!(U.selected||T0||($A?undefined:undefined))||undefined)L(N,"vip-category-name "+Y($A?"selected":""));if(C||K||T0)R.d(N,"id",R0);if(C)R.v(N,"tap","chooseVipCategory",!1,!1,!1,!1)},X0)},V0=(C,$A,$B,$C,$D,$E,T,E)=>{Q0=$A,R0=$B,S0=$C,T0=$D,U0=$E;E("view",{},(N,C)=>{if(C)L(N,"vip-category-item");var $A=R0===0;if(C||K||!!(T0||($A?undefined:undefined))||undefined)R.y(N,"padding-left: "+Y($A?20:40)+"px;");if(C||K||!!T0||undefined)R.i(N,"vip-category-"+Y(R0))},W0)},P0=(C,T,E,B,F)=>{F(D.vipCategorys,"id",U?U.vipCategorys:undefined,[0,"vipCategorys"],V0)},O0=(C,T,E)=>{E("scroll-view",{},(N,C)=>{if(C)L(N,"vip-categorys-list");if(C||K||undefined)O(N,"scroll-x",true);if(C)O(N,"type","list");if(C||K||undefined)O(N,"show-scrollbar",false);if(C||K||undefined)O(N,"scroll-with-animation",true);if(C||K||U.intoView)O(N,"scroll-into-view",D.intoView);A["intoView"][0]=(D,E,T)=>{O(N,"scroll-into-view",D.intoView);E(N)};if(C)O(N,"scroll-into-view-alignment","center")},P0)},Z0,a0,b0,c0,d0,g0=(C)=>{},i0=(C,T)=>{C||K||Z(b0,"title")?T(Y(X(Z0).title)):T()},h0=(C,T,E)=>{E("text",{},(N,C)=>{},i0)},k0=(C,T)=>{C?T("3万+评价"):T()},j0=(C,T,E)=>{E("text",{},(N,C)=>{},k0)},f0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)O(N,"mode","widthFix");if(C)L(N,"good-icon");if(C||K||undefined)O(N,"fade-in",true);if(C||K||Z(b0,"icon"))O(N,"src",X(Z0).icon)},g0);E("view",{},(N,C)=>{if(C)L(N,"good-title")},h0);E("view",{},(N,C)=>{if(C)L(N,"good-comment")},j0)},e0=(C,$A,$B,$C,$D,$E,T,E)=>{Z0=$A,a0=$B,b0=$C,c0=$D,d0=$E;E("view",{},(N,C)=>{if(C)L(N,"good")},f0)},Y0=(C,T,E,B,F)=>{F(D.goods,"id",U?U.goods:undefined,[0,"goods"],e0)},N0=(C,T,E)=>{E("sticky-header",{},(N,C)=>{},O0);E("grid-view",{},(N,C)=>{if(C)O(N,"cross-axis-gap","6");if(C)O(N,"cross-axis-count","2");if(C)O(N,"type","masonry")},Y0)},g=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"exp-room")},h,"refresher");E("view",{},(N,C)=>{if(C)L(N,"fake-nav-bar")},l);E("sticky-section",{},(N,C)=>{if(C||K||undefined)O(N,"push-pinned-header",false)},m);E("sticky-section",{},(N,C)=>{if(C||K||undefined)O(N,"push-pinned-header",false);if(C||K||U.padding)O(N,"padding",D.padding);A["padding"][0]=(D,E,T)=>{O(N,"padding",D.padding);E(N)}},N0)},a=(C,T,E)=>{E("navigation-bar",{},(N,C)=>{if(C)L(N,"nav-bar");if(C)O(N,"title","");if(C||K||undefined)O(N,"back",false)},b);E("scroll-view",{},(N,C)=>{if(C)R.i(N,"scrollview");if(C)L(N,"scroll-area");if(C)O(N,"type","custom");if(C||K||undefined)O(N,"scroll-y",true);if(C||K||undefined)O(N,"show-scrollbar",false);if(C||K||undefined)O(N,"refresher-enabled",true);if(C||K||undefined)O(N,"refresher-threshold",80);if(C)O(N,"refresher-default-style","none");if(C||K||U.triggered)O(N,"refresher-triggered",D.triggered);A["triggered"][0]=(D,E,T)=>{O(N,"refresher-triggered",D.triggered);E(N)};if(C||K||undefined)O(N,"refresher-two-level-pinned",false);if(C||K||undefined)O(N,"refresher-two-level-enabled",true);if(C||K||undefined)O(N,"refresher-two-level-threshold",150);if(C||K||U.twoLevelTriggered)O(N,"refresher-two-level-triggered",D.twoLevelTriggered);A["twoLevelTriggered"][0]=(D,E,T)=>{O(N,"refresher-two-level-triggered",D.twoLevelTriggered);E(N)};if(C)R.v(N,"refresherpulling","onPulling",!1,!1,!1,!1);if(C)R.v(N,"refresherrefresh","onRefresh",!1,!1,!1,!1);if(C)R.v(N,"refresherrestore","onRestore",!1,!1,!1,!1);if(C)R.v(N,"refresherabort","onAbort",!1,!1,!1,!1);if(C)R.v(N,"refresherstatuschange","onStatusChange",!1,!1,!1,!1);if(C)R.wl(N,"onstartstart","handleScrollStart");if(C)R.wl(N,"onscrollupdate","handleScrollUpdate");if(C)R.wl(N,"onscrollend","handleScrollEnd")},g)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "packageSkylineExamples/examples/refresher-two-level/index/index";__wxRouteBegin = true;__wxAppCurrentFile__="packageSkylineExamples/examples/refresher-two-level/index/index.js";define("packageSkylineExamples/examples/refresher-two-level/index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RefreshStatus=void 0;var e,t=require("../util"),r=exports.RefreshStatus=function(e){return e[e.Idle=0]="Idle",e[e.CanRefresh=1]="CanRefresh",e[e.Refreshing=2]="Refreshing",e[e.Completed=3]="Completed",e[e.Failed=4]="Failed",e[e.CanTwoLevel=5]="CanTwoLevel",e[e.TwoLevelOpening=6]="TwoLevelOpening",e[e.TwoLeveling=7]="TwoLeveling",e[e.TwoLevelClosing=8]="TwoLevelClosing",e}({}),n=wx.getSystemInfoSync(),a=wx.worklet,o=a.shared,i=a.Easing.cubicBezier(.4,0,.2,1),s=((e=function(e,t,r){return e+(t-e)*r})._closure={},e.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",e.__workletHash=9953309036832,e.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts (21:13)",e.__worklet=!0,e),l=function(){var e=function(e,t,r){return e>r?r:e<t?t:e};return e._closure={},e.asString="function _f(cur,lowerBound,upperBound){if(cur>upperBound)return upperBound;if(cur<lowerBound)return lowerBound;return cur;}",e.__workletHash=0xd5c5dbbc9a9,e.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts (26:14)",e.__worklet=!0,e}();Component({data:{goods:(0,t.getGoods)(30),categorySet:[{page:0,categorys:(0,t.getCategory)()},{page:1,categorys:(0,t.getCategory)().reverse()}],paddingTop:44,renderer:"skyline",vipCategorys:(0,t.getVIPCategory)(),categoryItemWidth:0,intoView:"",selected:0,padding:[0,16,0,16],triggered:!1,twoLevelTriggered:!1,isTwoLevel:!1,refreshStatus:"下拉刷新",secondFloorCover:"https://res.wx.qq.com/op_res/cgyy76UKHo3KhkAvZN0WW8YtThK1-Kf4a21kiEQxNAvea-eN8S8tcbsLcdAIISVQeFM_E7sR-wtDb2VP5_Cy1w",goodsData:{expSelected:0,expCategorys:(0,t.getExpCategory)(),videoList:(0,t.getVideoList)(20),hasRouteDone:!0}},lifetimes:{created:function(){this.searchBarWidth=o(100),this.navBarOpactiy=o(1)},attached:function(){var e=this,t=(n.windowWidth-20)/5;this.setData({categoryItemWidth:t,paddingTop:n.statusBarHeight,renderer:this.renderer}),this.applyAnimatedStyle(".nav-bar",function(){var t=function(){return{opacity:e.navBarOpactiy.value}};return t._closure={_this:{navBarOpactiy:e.navBarOpactiy}},t.asString="function _f(){const{_this}=jsThis._closure;{return{opacity:_this.navBarOpactiy.value};}}",t.__workletHash=8445903283305,t.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts (76:42)",t.__worklet=!0,t}()),this.applyAnimatedStyle(".search",function(){var t=function(){return{width:"".concat(e.searchBarWidth.value,"%")}};return t._closure={_this:{searchBarWidth:e.searchBarWidth}},t.asString='function _f(){const{_this}=jsThis._closure;{return{width:"".concat(_this.searchBarWidth.value,"%")};}}',t.__workletHash=0xf3915a0142c,t.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts (83:41)",t.__worklet=!0,t}()),this.applyAnimatedStyle(".search-container",function(){var t=function(){return console.log("111",e.renderer),{backgroundColor:e.navBarOpactiy.value>0&&"skyline"==e.renderer?"transparent":"#fff"}};return t._closure={_this:{renderer:e.renderer,navBarOpactiy:e.navBarOpactiy}},t.asString="function _f(){const{_this}=jsThis._closure;{console.log('111',_this.renderer);return{backgroundColor:_this.navBarOpactiy.value>0&&_this.renderer=='skyline'?'transparent':'#fff'};}}",t.__workletHash=0xa580ab4fe5e,t.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts (90:51)",t.__worklet=!0,t}()),wx.createSelectorQuery().select("#scrollview").node().exec((function(t){console.info("@@@ createSelectorQuery ",t),e.scrollContext=t[0].node}))}},methods:{chooseVipCategory:function(e){var t=e.currentTarget.dataset.id;this.setData({intoView:"vip-category-".concat(t),selected:parseInt(t,10)})},handleScrollStart:function(e){},_handleScrollStart_worklet_factory_:function(){return function(){var e=function(e){};return e._closure={},e.asString="function _f(evt){}",e.__workletHash=4246897246300,e.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts",e.__worklet=!0,e}()},handleScrollUpdate:function(e){var t=l(e.detail.scrollTop,0,60),r=i(t/60);this.searchBarWidth.value=s(100,70,r),this.navBarOpactiy.value=s(1,0,r)},_handleScrollUpdate_worklet_factory_:function(){var e=this;return function(){var t=function(t){var r=l(t.detail.scrollTop,0,60),n=i(r/60);e.searchBarWidth.value=s(100,70,n),e.navBarOpactiy.value=s(1,0,n)};return t._closure={clamp:l,EasingFn:i,_this2:{searchBarWidth:e.searchBarWidth,navBarOpactiy:e.navBarOpactiy},lerp:s},t.asString="function _f(evt){const{clamp,EasingFn,_this2,lerp}=jsThis._closure;{var maxDistance=60;var scrollTop=clamp(evt.detail.scrollTop,0,maxDistance);var progress=EasingFn(scrollTop/maxDistance);_this2.searchBarWidth.value=lerp(100,70,progress);_this2.navBarOpactiy.value=lerp(1,0,progress);}}",t.__workletHash=4682794505139,t.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts",t.__worklet=!0,t}()},handleScrollEnd:function(e){},_handleScrollEnd_worklet_factory_:function(){return function(){var e=function(e){};return e._closure={},e.asString="function _f(evt){}",e.__workletHash=4246897246300,e.__location="packageSkylineExamples/examples/refresher-two-level/index/index.ts",e.__worklet=!0,e}()},onPulling:function(e){},onRefresh:function(){var e=this;console.info("@@@ onRefresh"),this._freshing||(this._freshing=!0,setTimeout((function(){e.setData({triggered:!1}),e._freshing=!1}),2e3))},onRestore:function(e){console.log("onRestore:",e)},onAbort:function(e){console.log("onAbort",e)},closeTwoLevel:function(){this.setData({twoLevelTriggered:!1})},onStatusChange:function(e){var t=e.detail.status,n=[r.TwoLevelOpening,r.TwoLeveling,r.TwoLevelClosing].indexOf(t)>=0,a=this.buildText(t);if(this.setData({isTwoLevel:n,refreshStatus:a}),t===r.TwoLeveling){var o=this;wx.navigateTo({url:"../goods/index",events:{nextPageRouteDone:function(e){console.info("@@@ next page has routeDone"),o.scrollContext.closeTwoLevel({duration:1})}},success:function(e){}})}},buildText:function(e){switch(e){case r.Idle:return"下拉刷新";case r.CanRefresh:return"松手刷新，下拉进入二楼";case r.Refreshing:return"正在刷新";case r.Completed:return"刷新成功";case r.Failed:return"刷新失败";case r.CanTwoLevel:return"松手进入二楼";default:return"进入二楼"}}}});
},{isPage:true,isComponent:true,currentFile:'packageSkylineExamples/examples/refresher-two-level/index/index.js'});require("packageSkylineExamples/examples/refresher-two-level/index/index.js");