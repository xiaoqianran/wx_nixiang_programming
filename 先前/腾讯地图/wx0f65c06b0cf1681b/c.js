exports.ids=[1],exports.modules={"+/eI":function(e,t){e.exports={p:"setSalesmanTradeData",li:"beforePageMount;pageDestroyed"}},"+165":function(e,t){e.exports=function(e,t){return e.has(t)}},"+Iya":function(e,t,r){r.d(t,"a",function(){return o});var n=r("Fcif"),a=r("0hwI"),o=function(e){return void 0===e&&(e={}),a.a.get({url:"/wscdeco/tee/goodsByTagAlias.json",data:Object(n.a)({},e,{isShowPeriod:1})})}},"+XBW":function(e,t){e.exports={d:"title;6;bizName;6;pageSize;6;kdtId;6;requestExtraParams;6;themeColors;4;themeCSS;4;offlineId;4;buyerId;4;layoutConfig;4;extraParams;4;isControlRecommendShow;4;enableShow;4;miniprogram;4;isSkyline;4",e:"loadSuccess",w:"Main;RecommendGoodsTitle",wc:"RecommendGoodsTitle",wd:"Main"}},"+fxQ":function(e,t,r){r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return s});var n=r("YeA1"),{dmc:a}=Object(n.a)(),o={REQUEST:"request",DOWNLOAD:"download",UPLOAD:"upload",WS_REQUEST:"wsRequest",WEBVIEW:"webview"},i=e=>a.domain.readDomain(e).then(e=>"https://"+e.domain),s=function(e,t){return void 0===t&&(t=o.WEBVIEW),a.transformDomain(e,{priorityCache:!0,group:t})}},"+pJB":function(e,t,r){r.d(t,"a",function(){return o});var n=r("9Cpw"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a()}},"+qgQ":function(e,t){e.exports={d:"userLevel;4;groupAlias;4;neededMoreStoreBalance;4;isWeixinCardEnabled;4;pageQuery;4",e:"sku:show",l:"",lc:"jumpToLink",p:"",pi:"reloadData"}},"+zL3":function(e,t){e.exports={d:"kdtId;4;buyerId;4;isShowStoreInfo;4;pageBgColor;4;miniprogram;4;pageStyleConfig;4",e:"fullguide:show",w:"Main",wd:"Main"}},"/3Ts":function(e,t,r){r.d(t,"a",function(){return a});var n=r("Fcif"),a=(e,t)=>{var r=JSON.parse(JSON.stringify(e));for(var a in t)e[a]&&null===t[a]?delete r[a]:(e[a]||t[a]&&t[a]._assign)&&(delete t[a]._assign,r[a]=Object(n.a)({},e[a]||{},t[a]));return r}},"/MSb":function(e,t){e.exports={d:"topNavHeight;2;title;4;kdtId;4;imConfig;4;openCustomNav;4;navigationBarConfigData;4",e:"",el:"",w:"Main;NavigationBar",wd:"NavigationBar",lc:"checkIsHalfScreen;checkFromShowcase",cc:"MessageContactButton",li:""}},"/pw/":function(e,t,r){r.d(t,"a",function(){return i});var n=r("LniI"),a=r.n(n),o=r("Rz+h");class i{constructor(e){this.ctx=e.ctx}}i.widgets={Main:a.a},i.lambdas={jumpToLink:o.a}},"03az":function(e,t,r){r.d(t,"d",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return s});function n(e){return"[object String]"==Object.prototype.toString.call(e)?new Date(e.replace(/-/g,"/")):new Date(e)}function a(e,t){var r=o(e),n=o(t);return Math.floor((n.getTime()-r.getTime())/864e5)+1}function o(e){var t=n(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function i(e){var t=e.getMonth()+1;t=1===t.toString().length?"0"+t:t;var r=e.getDate();return t+"月"+(r=1===r.toString().length?"0"+r:r)+"日"}function s(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in /(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}},"0E+e":function(e,t){e.exports={d:"privacyWaybill;4;display;4;tradeTag;4",e:"",el:"",w:"TradeBuyPrivacyBill",wc:"",wd:"TradeBuyPrivacyBill",l:"",lc:"",p:"",pi:"setOrderPrivacyBill",c:"PrivacyBillRulePopup",cc:"PrivacyBillRulePopup"}},"0KRy":function(e,t,r){var n=r("LSEb")(r("s3UK"),"Map");e.exports=n},"0WZd":function(e,t,r){function n(e){return e?1:0}function a(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}function o(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length||e.slice().sort().join("")!==t.slice().sort().join(""))}r.d(t,"d",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});var i=r("QxN7");function s(e){var t=e.allowDenyCustom,r=e.scene,n=e.authTypeList,a=e.authAllowDenyMap;return!(n||[]).includes(i.AuthType.PROTOCOL)&&(r?function(e){var t=e.authTypeList,r=e.authAllowDenyMap;if(!t||0===t.length)return!1;if(t.includes(i.AuthType.PROTOCOL))return!1;var n=r||{};return 1===t.length?!!n[t[0]]:!(2!==t.length||!t.includes(i.AuthType.MOBILE)||!t.includes(i.AuthType.NICKNAME_AND_AVATAR))&&!(!n.mobile||!n.nicknameAndAvatar)}({authTypeList:n,authAllowDenyMap:a}):!!t)}},"0i4I":function(e,t,r){r.d(t,"a",function(){return o});var n=Behavior({methods:{$emit(){this.triggerEvent(...arguments)},set(e,t){return this.setData(e,t),new Promise(e=>wx.nextTick(e))},getRect(e,t){return new Promise(r=>{wx.createSelectorQuery().in(this)[t?"selectAll":"select"](e).boundingClientRect(e=>{t&&Array.isArray(e)&&e.length&&r(e),!t&&e&&r(e)}).exec()})}}}),a={ancestor:{linked(e){this.parent=e},unlinked(){this.parent=null}},descendant:{linked(e){this.children=this.children||[],this.children.push(e)},unlinked(e){this.children=(this.children||[]).filter(t=>t!==e)}}};function o(e){void 0===e&&(e={});var t,r,o,i={};t=e,r=i,o={data:"data",props:"properties",mixins:"behaviors",methods:"methods",beforeCreate:"created",created:"attached",mounted:"ready",relations:"relations",destroyed:"detached",watch:"observers",classes:"externalClasses"},Object.keys(o).forEach(e=>{t[e]&&(r[o[e]]=t[e])});var{relation:s}=e;s&&function(e,t,r){var{type:n,name:o,linked:i,unlinked:s,linkChanged:c}=r,{beforeCreate:u,destroyed:d}=t;"descendant"===n&&(e.created=function(){u&&u.bind(this)(),this.children=this.children||[]},e.detached=function(){this.children=[],d&&d.bind(this)()}),e.relations=Object.assign(e.relations||{},{["../"+o+"/index"]:{type:n,linked(e){a[n].linked.bind(this)(e),i&&i.bind(this)(e)},linkChanged(e){c&&c.bind(this)(e)},unlinked(e){a[n].unlinked.bind(this)(e),s&&s.bind(this)(e)}}})}(i,e,s),i.externalClasses=i.externalClasses||[],i.externalClasses.push("custom-class"),i.behaviors=i.behaviors||[],i.behaviors.push(n),e.field&&i.behaviors.push("wx://form-field"),i.properties&&Object.keys(i.properties).forEach(e=>{Array.isArray(i.properties[e])&&(i.properties[e]=null)}),i.options={multipleSlots:!0,addGlobalClass:!0},Component(i)}},"0lqJ":function(e,t,r){r.d(t,"a",function(){return a});var n=r("xih6");function a(){var e=getCurrentPages()||[],t=e[e.length-1]||{},r=Object(n.a)(),a=getApp().globalData.tabbarOriginList,o=void 0===a?[]:a,i=r.findIndex(function(e){return("/"+t.route).startsWith(e)});return i===r.length-1&&o.length?o.length-1:i}},"1F1z":function(e,t,r){var n=r("jA1y"),a=r("taYb"),o=getApp(),i={},s={},c=Object.prototype.hasOwnProperty,u=!1,d=!0;function l(e,t){void 0===t&&(t={});var{useCache:r=!1,singleRequest:n=!0}=t;return r&&c.call(i,e)?Promise.resolve(i[e]):new Promise((t,a)=>{u&&n||(u=!0,o.carmen({api:"weapp.wsc.item.detail/1.0.0/get",query:{alias:e,fans_type:o.getFansType()},success:n=>{u=!1,r&&(i[e]=n),n.dataVersion="v1",t(n)},fail:e=>{u=!1,a(e.msg||"获取商品信息失败")}}))})}t.a={getSkuDataIron:function(e,t){void 0===t&&(t={});var{useCache:r=!1}=t;return r&&c.call(s,e)?Promise.resolve(s[e]):o.request({path:"v2/showcase/sku/skudata.json",query:{alias:e,oid:o.getOfflineId()}}).then(t=>(r&&(s[e]=t),t))},getSkuData:function(e,t){if(void 0===t&&(t={}),!d)return l(e,t);var{useCache:r=!1,singleRequest:s=!0,activityTypes:p}=t,{goodsIdForBirthday:h=""}=t;return r&&c.call(i,e)?Promise.resolve(i[e]):u&&s?void 0:(u=!0,n.c({path:"/wscshop/sku/skudata.json",data:{alias:e,fans_type:o.getFansType(),offlineId:o.getOfflineId(),bizScene:"goods_sku_component",activityTypes:p,isCombo:!0,birthdayScene:"WEAAPP_DECORATE_GOODS",goodsIdForBirthday:h}}).then(n=>(u=!1,n&&!1===n.value?(d=!1,l(e,t)):(r&&(i[e]=n),function(e,t){var r={},{price:n,quota:o,quotaUsed:i,itemDataModel:{itemId:s,isVirtual:c,goodsType:u,title:d,startSaleNum:l,pictures:p,origin:h,validityType:f,startSoldTime:g},preSaleExtraModel:v,itemActivitySpuModels:m,maxPrice:y,minPrice:b,option:{hideCart:_=!1}={}}=e,O={};if(r.sku=a.a.toSnakeCase(e,!1),v){var{skuDepositModels:S=[],deposit:P,maxDeposit:w,minDeposit:I}=v;O.extend=a.a.toSnakeCase(v),void 0!==P&&(O.deposit={deposit:P,max:w,min:I});var k={};S.reduce((e,t)=>(e[t.skuId]=t.deposit,e),k),r.sku.list.forEach(e=>(k[e.id]&&(e.deposit=k[e.id]),e))}r.sku=Object.assign(r.sku,O,{goods_type:u,max_price:y/100+"",min_price:b/100+""}),r.sku.list.forEach(e=>{e.price=e.price/100+""}),r.brief={item_id:s,title:d,presale:v?1:0,presale_info_new:r.sku.pre_sale_extra_model,quota:o,quota_used:i,start_sale_num:l,is_virtual:c,picture:p,alias:t,price:n,origin:h,hide_shopcart:+_,startSoldTime:g},3==+c&&(r.virtual={validity_type:f});if(m&&m[0]){var{type:C,price:T,minPrice:x,maxPrice:j,list:A=[],oldPrice:E,priceTitle:D}=m[0];T!==E&&(r.activity={goods_preference:{show_price:T,price_range:{min:x/100+"",max:j/100+""},type:C,skus:A.reduce((e,t)=>(e[t.id]={price:t.price/100+""},e),{}),quota:o,quota_used:i,priceTitle:D}})}return r.components=[{picture:p,type:"config",is_virtual:c}],r.item_sale_prop_list=r.sku.item_sale_prop_list,r}(n,e)))).catch(e=>(u=!1,o.logger.requestError({name:"common-sku-error",message:e.msg||"获取商品信息失败",alert:"warn",detail:e}),Promise.reject(e.msg||"获取商品信息失败"))))},getActivity:function(e){return o.request({path:"/wscshop/ump/activityInfo/activity.json",query:{goods_id:e}})}}},"1LD1":function(e,t,r){var n;!function(e){e.IOS="ios",e.ANDROID="android",e.UNKNOWN="unknown"}(n||(n={}))},"1nOt":function(e,t,r){r.d(t,"a",function(){return a});var n=r("ONqW"),a=function(e){void 0===e&&(e={});var{freightInsurance:t,supportFreightInsurance:r}=e;Object(n.a)().log({et:"custom",ei:"view_freight_insurance_data",en:"包退运费时间",params:{freightInsurance:t,supportFreightInsurance:r,typeFreightInsurance:typeof t}})}},"1qqj":function(e,t){e.exports={d:"openFloatGoods;2;kdtId;4;rootKdtId;4;goodsBaseInfo;4;themeVars;4;marketing;4;offlineId;4;shopBaseInfo;4;shopMpInfo;4;shopConfig;4;goodsMetaInfo;6;goodsActivity;4;serverStatus;4;umpActivity;4;staticConfig;4;pageFeature;4;multistore;4;buyerId;4;shopMetaInfo;4;hasGoodsShowcase;4;currentActivity;4;alias;4;explainVideoFullScreen;4",e:"sku:hide;saleReminderSuccess;sku:show;submit:act;wish:change;sku:show:to-submit;ORDER_PAY_PROMPT:open",el:"goodsSetupReady;page-container:scrollLocked;addCartCompleted;sku:show;sku:hide-after;follow:show;subscribe:show;floating:nav:update:position;btn:click;sku:submit;goods:showcase;question:show;stateChange;wecomBenefit:show;helpcutErr:show;qrcode:show",w:"UmpVisitGift;GiftPop;VisitGift;CouponItem;CouponList",wc:"UserAuthorizePopup;ProtocolPopup;PopContent;UmpVisitGift;SubscribePublic;GiftPop;VisitGift;CouponItem;CouponList;GoodsShowcase",wd:"GoodsPopupContainer",lc:"getUserInfo",p:"checkShowFollow",pi:"createOrUpdateIndependentIcon;requestWechatSubscribeMessagePush"}},"2Dtx":function(e,t,r){function n(e){if(!e)return"";var t="";for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))e[r]&&(t+=r+":"+e[r]+";")}return t}r.d(t,"a",function(){return n})},"2Pst":function(e,t,r){r.d(t,"a",function(){return s});var n=r("EYwr"),a=r.n(n),o=r("vXaX"),i=r.n(o);class s{constructor(e){this.ctx=e.ctx,this.ctx.process.define("showYZIm",e=>{})}}s.components={MessageContactButton:a.a},s.widgets={MessageContact:i.a}},"2bgu":function(e,t,r){r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});var n=r("9ZMt"),a="https://h5.youzan.com";function o(e){var t,r;e.url=e.needPrefixDomain?(t=e.url,void 0===r&&(r=a),r&&!function(e){return 0===e.indexOf("http")||0===e.indexOf("//")}(t)?r+t:(t.startsWith("http://")&&(t=t.replace("http://","https://")),t)):e.url,n.default.navigate(e)}var i={init:function(){}}},"31OO":function(e,t,r){var n=r("Fcif"),a=r("+66q"),o=(e,t)=>{var{activities:r}=t||{},a=(r||[]).find(t=>t.type===e.type);return a?Object(n.a)({},a.activityInfo,{activityInfo:a.activityInfo},e):e},i=r("xyw3"),s=(e,t,r)=>t===r?Object(i.a)(e).toYuan():Object(i.a)(t).toYuan()+"-"+Object(i.a)(r).toYuan(),c=r("3m7Z"),u={containerStyle:"display: inline-flex; align-items: center; height: 20px; padding: 0 var(--theme-goods-price-tag-padding, 6px); color: var(--ump-main-text, #ffffff); background: var(--ump-main-bg, #323233); border-radius:1rem;",preStyle:"font-size: 12px;",textStyle:"font-size: 16px; font-family: var(--price-font-family);font-weight: var(--theme-common-price-font-weight) 600; padding: 0;",sufStyle:"font-size: 12px; margin-left: 2px;",umpType:"coupon"},d=(e,t,r)=>{var a=t.replace("券后￥","").split(" ");return Object(n.a)({},u,{preText:e,text:a[0],sufText:a[1]||"",type:r})},l=(a.f,{[a.a.HELPCUT]:e=>{var{activityId:t}=e;return{type:a.a.HELPCUT,identification:t}},[a.a.INSOURCING_FISSION]:e=>{var{umpAlias:t}=e;return{type:a.a.INSOURCING_FISSION,identification:t}},[a.a.LUCKYDRAW_GROUP]:e=>{var{activityId:t}=e;return{type:a.a.LUCKYDRAW_GROUP,identification:t}},[a.a.SECKILL]:e=>{var{umpAlias:t}=e;return{type:a.a.SECKILL,identification:t}}}),p=[a.k.SECKILL],h=(e,t,r,o,i,s)=>{var u;u=s.umpSkuData;var{currentActivity:l={},umpActivity:h={}}=e,f=Object.keys(u).reduce((e,r)=>(e[r]=Object(n.a)({},t.goods,u[r],p.includes(r)?{disableSoldoutSku:!0}:{}),e),t);return o&&(f=((e,t,r,o)=>{var{type:i,isStart:s}=o,u={};return Object.keys(e).forEach(o=>{var l=e[o],{noneSku:p,list:h}=l,{voucherPreferenceCopyWriting:f,couponSkuPrices:g={},couponPreferenceModels:[{isNewcomerVoucher:v=!1}]}=t,m=h,y=l.priceTags||[],b=Array.from(new Set([...(r.tags||[]),...(l.priceTags||[])])),_=b.reduce((e,t)=>Object(n.a)({},e,{[t.type]:t}),{}),O=!!i,{needMergeTag:S={},restTags:P}=(e=>{var t=e.findIndex(e=>Object.keys(a.l).indexOf(e.type)>-1),r=[...e.slice(0,t),...e.slice(t+1)];return{needMergeTag:e[t],restTags:r}})(b),w=O?_[i]:S,I=!1,k="券后￥",C="coupon";w&&(I=Object.keys(a.l).indexOf(w.type)>-1),I&&O&&(k=a.l[w.type],C=w.type);var T=f;v&&(k="新人专享￥",T=f.replace(/新人专享￥|券后￥/g,"")),w=d(k,T,C);var x=Object(c.e)(g);p||(m=h.map(e=>{var{skuId:t}=e;if(!x[t])return e;var{priceTitle:r}=x[t],a=v?r.replace(/新人专享￥/g,""):r,i=d(k,a,C),s=Object(n.a)({},e,{priceTitle:[i],tags:[i],tagsConfig:{[w.type]:i},id:t});return"depositExpansion"===o&&(s.tagsConfig[o+"Extra"]={text:e.priceTitle}),s})),o!==a.a.GROUP_ON&&o!==a.a.TIMELIMITED_DISCOUNT||s||(w={text:a.m[i]});var j=O?[w]:[w,...P];u[o]=Object(n.a)({},l,{priceTags:j,tags:j,list:m}),a.g.indexOf(o)>-1&&(u[o].priceTags=[...y,w],u[o].tags=[w])}),u})(f,h.coupon,r,l)),i&&(f=(e=>{var{goods:t={}}=e,{priceTags:r=[]}=t,a=[...r,{text:"送礼"}];return Object(n.a)({},e,{gift:Object(n.a)({},t,{activityInfo:{activityType:99999},priceTags:a,tags:a})})})(f)),f};t.a={state:{goodsActivity:{},umpActivity:null,alias:"",kdtId:0,query:{},goodsBaseInfo:{},goodsEstimatePriceData:{},marketing:{},currentActivity:{}},getActions:e=>({setActivityInfoForPrice(e){var{umpType:t}=e,r=l(t),n=r?r(e):{};this.setCtxData(n,"activityInfoForPrice")},setUmpShareIcon(t){var r=(this.marketing.activities||[]).find(e=>e.type===a.a.SHARE_ENCOURAGE);return r?(e.logger&&e.logger.log({et:"custom",ei:"view_share_activity",en:"分享有礼活动曝光",params:{activityId:r.activityId}}),Object(n.a)({},t,{color:"var(--ump-icon, #323233)",icon:"point-gift",wordStyle:"color: var(--ump-icon, #323233)",animation:!0})):t},parseUmpActivies(t){try{var r,{sku:i={},priceInfo:c={},activity:u={},marketing:l={},pageFeature:p={},ump:f}=t,g=l.activities||[],v=((e,t)=>{var r;r=e.ump;var{umpActivity:n,marketActivity:i,promotionActivity:s}=r,{currentActivity:c}=r,u=["seckill","tuan","fCode","auction"];return Object.keys(n).forEach(t=>{var r="ladderGroupOn"===t?"groupOn":t;a.f.indexOf(t)>-1&&u.includes(r)&&(e.pageFeature.showMultiStoreRecommend=!1)}),c=o(c,e.marketing),Object.keys(i).forEach(t=>{i[t]=o(i[t],e.marketing)}),{umpActivity:n,currentActivity:c,marketActivity:i,promotionActivity:s}})(t);this.goodsActivity=u;var m=[],{umpActivity:y,currentActivity:b={}}=v;Object.getOwnPropertyNames(y).forEach(e=>{m.push((e=>{var{type:t="",couponPreferenceModels:r=[],id:n,activityId:o,alias:i,activityAlias:s}=e;switch(t){case a.a.COUPON:return{act_id:r.map(e=>e.id).join(","),act_type:t};default:return{act_type:t,act_id:n||o||i||s||""};}})(y[e]))}),e.logger.log({et:"custom",ei:"view_goods",params:{ump_params:m}}),r=f.isCoupon;var{showGiftBtn:_}=p,O=h(v,i,c,r,_,f),S=((e,t,r,o,i)=>{var{currentActivity:c={},umpActivity:u={}}=e,{type:l,subType:p,ladderPrice:h={},activityLeadInMembershipInfo:f}=c;if(l===a.a.TIMELIMITED_DISCOUNT&&!!f)return Object(n.a)({},r);var g=p||l;if(!g){if(o){var{coupon:v={}}=u,{voucherPreferenceCopyWriting:m,couponPreferenceModels:[{isNewcomerVoucher:y=!1}]}=v,{tags:b=[]}=r;if(b.forEach((e,t)=>{Object.keys(a.l).indexOf(e.type)>-1&&(b[t]=d(a.l[e.type],m,e.type))}),y){var _=m.replace(/新人专享￥|券后￥/g,"");b=[d("新人专享￥",_,"coupon")]}else 0===b.length&&m&&(b=[d("券后￥",m,"coupon")]);return Object(n.a)({},r,{tags:b})}return r}var O={},S="ladderGroupOn"===g;if(S){var P=-1,w=-1;Object.keys(h).forEach(e=>{h[e].forEach(e=>{var{skuPrice:t}=e;P=P<0?t:Math.min(P,t),w=w<0?t:Math.max(w,t)})}),O={ladderMinPrice:P,ladderMaxPrice:w}}var I=t[g],{price:k,minPrice:C,maxPrice:T,oldPrice:x,oldMinPrice:j,oldMaxPrice:A,tags:E=[],maxDepositPrice:D,minDepositPrice:M,startPrice:N,stockNum:L}=I,R=!!g&&a.i.indexOf(g)>-1,U=r.hideStock||["seckill","helpCut","auction"].indexOf(g)>-1,B=Object(n.a)({hideStock:U,showPriceBlock:!!(()=>{var{presale:e}=i||{};if(!!e){var{preSaleEnd:t}=e,{joinActivityStatus:r}=c;return t<Date.now()&&+r===a.d.NOT_PARTICIPATE}return!1})()||!R,price:s(k,C,T),minPrice:S?O.ladderMinPrice:C,maxPrice:S?O.ladderMaxPrice:T,originPrice:s(x,j,A),depositPrice:s(M,M,D),originMinPrice:j,originMaxPrice:A,oldMinPrice:j,oldMaxPrice:A,tags:g===a.a.FCODE?[]:E,startPrice:N},O,{stockNum:L}),F={};return g===a.a.FCODE&&(F.soldNum=0,F.stockNum=1),Object(n.a)({},r,B,F)})(v,O,c,r,u);this.marketing=l,this.currentActivity=b;var P=g.find(e=>e.type===a.a.FANS_BENEFIT),w=g.find(e=>e.type===a.a.WECOM_FANS_BENEFIT),I=g.find(e=>e.type===a.a.SHARE_ENCOURAGE);return this.setCtxData(Object(n.a)({},v,{fansBenefit:P,wecomFansBenefit:w,isGroupOn:b.type===a.a.GROUP_ON,seActivity:I,buttonUmpTimelimitModel:this.marketing.buttonUmpTimelimitModel,isCoupon:r,isNotPresent:b.type!==a.a.PRESENT_EXCHANGE,marketing:this.marketing})),Object(n.a)({},t,{umpActivityData:v,sku:O,priceInfo:S})}catch(t){throw t.message=(k="处理营销数据异常",C="parseUmpActivies",T=t.message,"goods-detail_ump_page-setup: "+k+", "+C+", "+T.toString()),e.hummer&&e.hummer.capture(t),t}var k,C,T}})}},"3Hke":function(e,t,r){r.d(t,"a",function(){return u});var n=r("SVbq"),a=r("mQXz"),o=r.n(a),i=r("w2Y9"),s=r.n(i),c=r("u8kV");function u(){var e=Object(c.d)(),t="/"+encodeURIComponent(s.a.add(e.route,o()(e.options||{},"subKdtId")));return Object(n.m)({redirectUrl:t})}},"3KXO":function(e,t,r){r.d(t,"a",function(){return n});var n=function(e){var t=!1;try{t=e(["goods-detail","trade-buy","buy","goods-detail_v2"]).some(function(e){return e.hasDesignV1||e.hasDesignV2})}catch(e){}return t}},"3XjN":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("O1uH"))&&n.__esModule?n:{default:n};var o=function(e,t){return Array.isArray(e)?0!==e.length?(0,a.default)(e,t,function(e,t){return e>t}):void 0:e};t.default=o,e.exports=t.default},"3hrn":function(e,t){},"3m7Z":function(e,t,r){r.d(t,"b",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return u});var n=r("Fcif"),a=r("+66q"),o=function(e){void 0===e&&(e={});var t,{startTime:r=0,endTime:n=0,serverDeltaTime:a=0,current:o=+new Date}=e,i=+new Date(r),s=+new Date(n),c=i-a,u=s-a,d=0,l=!1,p=!1;return c-o>0?(t="距开始仅剩",d=c):u-o>0?(t="距结束仅剩",d=u,l=!0):(t="活动已结束",d=o,l=!0,p=!0),{startAt:c,endAt:u,countDownDesc:t,endTimeAt:d,isStart:l,isEnd:p,serverStartAt:i,serverEndAt:s,startTime:r,endTime:n}},i=function(e){return void 0===e&&(e=[]),e.reduce((e,t)=>Object(n.a)({},e,{[t.skuId]:t}),{})},s=e=>{var{orderActivityInfo:t}=e,{code:r,id:n,alias:a,type:o}=t;return{activityType:o,activityAlias:a,activityId:n,activityCode:r}},c=(e,t)=>{var{skuPrices:r,ladderPrice:o,skuStocks:c,spuPrice:u,spuStock:d,type:l}=e,{noneSku:p,list:h}=t,f=i(r),g=i(c),v=i(h),m=h,y=1/0,b=-1/0,_=o||{};Object.keys(_).forEach(e=>{_[e].forEach(e=>{var{skuPrice:t}=e;y=Math.min(y,t),b=Math.max(b,t)})}),p||(m=h.map(e=>{var{skuId:t}=e,r=_[t],o={},{isActivitySku:i}=f[t]||{},s={};if(!1===i&&(s={priceTitle:[{text:"",type:l}],tags:[]}),r){var c=1/0,u=-1/0;r.forEach(e=>{c=Math.min(c,e.skuPrice),u=Math.max(u,e.skuPrice)}),o.minPrice=c,o.maxPrice=u}return Object(n.a)({},e,{oldPrice:v[t].price},f[t],g[t],{id:t},o,{priceTitle:a.m[l]},s)}));var{minPrice:O,oldMinPrice:S,oldMaxPrice:P,price:w}=t,I=-1/0,k=t.price;S=0===S?1/0:S;var C=0,T=0;return p?(t.collectionPrice=t.price,S=P=k,I=Math.max(b,u.price),O=Math.min(y,u.price),w=u.price,C=d?d.stockNum:t.stockNum,T=t.soldNum):m.forEach(e=>{t.stockNum>0&&0===e.stockNum&&l!==a.k.LIMITED_SECKILL||(O=Math.min(O,e.price),I=Math.max(I,e.price),S=Math.min(S,e.oldPrice),P=Math.max(P,e.oldPrice),C+=e.stockNum,T+=e.soldNum)}),O===I&&(w=O),t.price=t.price||O||I||0,isFinite(P)||(P=0),isFinite(S)||(S=0),isFinite(I)&&!Number.isNaN(I)||(I=t.maxPrice),Object(n.a)({},t,e,{list:m,minPrice:Math.min(O,y),price:w,maxPrice:I,oldPrice:k,oldMinPrice:S,oldMaxPrice:P,ladderMinPrice:y,ladderMaxPrice:b,activityInfo:s(e),stockNum:C,soldNum:T})},u=(e,t)=>{var{sku:r={}}=e,{goods:a={}}=r,{limit:o={}}=a,{quota:i,quotaUsed:s,quotaCycle:c}=t;return Object(n.a)({},o,{quota:i||o.quota,quotaUsed:s||o.quotaUsed||0,quotaCycle:c||o.quotaCycle||0})}},"3t/z":function(e,t,r){r.d(t,"a",function(){return i});var n=r("US/N"),a=r("tS13"),o=r("+66q");function i(e,t){var{skuId:r,kdtId:i,num:s,isAbleGetCoupons:c=!0}=e,{isCoupon:u,umpActivity:d,isGroupOn:l,skuShowData:p,isGift:h,query:f,goodsEstimatePriceData:g}=t,{activityType:v,activityAlias:m,activityId:y,activityCode:b}=e,{num:_}=g;o.f.indexOf(v)>-1&&Object.assign(e.commonExtra,{activity_type:b||0,activity_id:y,activity_alias:m}),v===o.a.FCODE&&(e.goodsExtra.fcode=f.f_code);var O=!h&&l&&p.skuScene===a.c.SEL_SKU,S=null,P=!1;if(null!=g&&g.estimatedPriceCoupon){var{isHoldCoupon:w}=g.estimatedPriceCoupon;P=!w&&s>=_&&s<=4}if(u&&!O){var{coupon:{couponPreferenceModels:I,couponSkuPrices:k}}=d;I.length&&(S=I[0].alias);var C={};(k||[]).forEach(e=>{C[e.skuId]={preferentialCoupon:e.useThresholdAndValueCopywriting,activityAlias:e.activityAlias}}),C[r]&&(S=C[r].activityAlias)}else if(P){var{alias:T}=g.estimatedPriceCoupon;S=T}return h&&(e.commonExtra.order_type=1,e.activityType=0),S&&c?function(e){var{alias:t,kdtId:r,source:a}=e;return Promise.resolve(n).then(e=>e.default({path:"/wscgoods/getCoupon.json",data:{alias:t,kdtId:r,source:a,requestId:t+"-"+new Date().getTime()},withCredentials:!0}))}({alias:S,kdtId:i,source:"goods_details_auto_take"}).then(()=>(e.commonExtra.preToastDesc="已为你领取1张优惠券，下单享优惠",e)).catch(function(t){void 0===t&&(t={msg:"领取失败"});var{msg:r}=t;return e.commonExtra.preToastDesc=r,e}):e}},"3uds":function(e,t,r){r.d(t,"d",function(){return n}),r.d(t,"e",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var n="showcase-container:pulldown-refresh",a="showcase-container:reach-bottom",o="showcase-container:page-show",i="showcase-container:page-hide",s=["hot_words_reference"]},"3vAz":function(e,t,r){r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n={timelimitedDiscount:"timelimitedDiscount",discountInvite:"discountInvite",discount:"discount",customerDiscount:"customerDiscount",groupOn:"groupOn",points:"points",luckyDrawGroup:"luckyDrawGroup",helpCut:"helpCut",tuan:"tuan",seckill:"seckill",auction:"auction",fCode:"fCode",present:"present",inSourcingFission:"inSourcingFission",presale:"presale"},a={timelimitedDiscount:0,groupOn:2,ladderGroupOn:2,customerDiscount:1,discount:1,deposit:3,depositExpansion:3,fullPresale:3,coupon:4,goods:4}},"42EB":function(e,t,r){r.d(t,"a",function(){return a});var n=r("Fcif");function a(e){void 0===e&&(e=[]),this.__webviewMsg||(this.__webviewMsg={}),e.filter(e=>"object"==typeof e&&e.type).forEach(e=>{var{type:t,payload:r,config:a}=e;"object"!=typeof(r=r||a||{})&&(r={payload:r}),this.__webviewMsg[t]=Object(n.a)({},this.__webviewMsg[t]||{},r)})}},"49Kr":function(e,t,r){var n=r("zHBu"),a=r("VlGz"),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function l(e){return(e||"").toString().replace(o,"")}var p=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function f(e){var t,r=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},n={},a=typeof(e=e||r);if("blob:"===e.protocol)n=new m(unescape(e.pathname),{});else if("string"===a)for(t in n=new m(e,{}),h)delete n[t];else if("object"===a){for(t in e)t in h||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=s.test(e.href))}return n}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=l(e)).replace(i,""),t=t||{};var r,n=u.exec(e),a=n[1]?n[1].toLowerCase():"",o=!!n[2],s=!!n[3],c=0;return o?s?(r=n[2]+n[3]+n[4],c=n[2].length+n[3].length):(r=n[2]+n[4],c=n[2].length):s?(r=n[3]+n[4],c=n[3].length):r=n[4],"file:"===a?c>=2&&(r=r.slice(2)):g(a)?r=n[4]:a?o&&(r=r.slice(2)):c>=2&&g(t.protocol)&&(r=n[4]),{protocol:a,slashes:o||g(a),slashesCount:c,rest:r}}function m(e,t,r){if(e=(e=l(e)).replace(i,""),!(this instanceof m))return new m(e,t,r);var o,s,c,u,h,y,b=p.slice(),_=typeof t,O=this,S=0;for("object"!==_&&"string"!==_&&(r=t,t=null),r&&"function"!=typeof r&&(r=a.parse),o=!(s=v(e||"",t=f(t))).protocol&&!s.slashes,O.slashes=s.slashes||o&&t.slashes,O.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||d.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!g(O.protocol)))&&(b[3]=[/(.*)/,"pathname"]);S<b.length;S++)"function"!=typeof(u=b[S])?(c=u[0],y=u[1],c!=c?O[y]=e:"string"==typeof c?~(h="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(O[y]=e.slice(0,h),e=e.slice(h+u[2])):(O[y]=e.slice(h),e=e.slice(0,h))):(h=c.exec(e))&&(O[y]=h[1],e=e.slice(0,h.index)),O[y]=O[y]||o&&u[3]&&t[y]||"",u[4]&&(O[y]=O[y].toLowerCase())):e=u(e,O);r&&(O.query=r(O.query)),o&&t.slashes&&"/"!==O.pathname.charAt(0)&&(""!==O.pathname||""!==t.pathname)&&(O.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,a=r[n-1],o=!1,i=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),i++):i&&(0===n&&(o=!0),r.splice(n,1),i--);return o&&r.unshift(""),"."!==a&&".."!==a||r.push(""),r.join("/")}(O.pathname,t.pathname)),"/"!==O.pathname.charAt(0)&&g(O.protocol)&&(O.pathname="/"+O.pathname),n(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(h=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,h),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(h+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin="file:"!==O.protocol&&g(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}m.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||a.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,c.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t));}for(var u=0;u<p.length;u++){var d=p[u];d[4]&&(o[d[1]]=o[d[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&g(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,r=this,n=r.host,o=r.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var i=o+(r.protocol&&r.slashes||g(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):"file:"!==r.protocol&&g(r.protocol)&&!n&&"/"!==r.pathname&&(i+="@"),(":"===n[n.length-1]||c.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}},m.extractProtocol=v,m.location=f,m.trimLeft=l,m.qs=a,e.exports=m},"4Kfr":function(e,t,r){function n(){try{var e=getApp(),t=(null==getCurrentPages?void 0:getCurrentPages())||[],r=t.length>0?t[t.length-1]:{},n=(null==r?void 0:r.options)||{};if(null!=n&&n.from_params)return(null==e?void 0:e.getBuyerId())||""}catch(e){}return""}r.d(t,"a",function(){return n})},"4XQZ":function(e,t,r){r.d(t,"a",function(){return a});var n=r("wB7X"),a={show:Boolean,title:String,message:String,useSlot:Boolean,className:String,customStyle:String,asyncClose:Boolean,messageAlign:String,overlayStyle:String,useTitleSlot:Boolean,showCancelButton:Boolean,closeOnClickOverlay:Boolean,confirmButtonOpenType:String,width:{type:null,default:320},zIndex:{type:Number,default:2e3},confirmButtonText:{type:String,default:"确认"},cancelButtonText:{type:String,default:"取消"},confirmButtonColor:{type:String,default:n.f},cancelButtonColor:{type:String,default:n.b},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},transition:{type:String,default:"scale"},isPageDefault:Boolean}},"4a20":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"4cW6":function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});r("bb6g"),r("Tewj");var n=r("Br49"),a=(n.a,n.c),o=n.b},"4mhO":function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},"5+rW":function(e,t,r){var n=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function i(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},"5HXs":function(e,t,r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e)return(t+e).trim();var r=Array.isArray(e)?e:Object.keys(e).filter(function(t){return e[t]});return r.reduce(function(e,r){return"".concat(e?"".concat(e," "):"").concat(t+r)},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){var t=e.prefix,r=void 0===t?"":t,a=e.block,o=e.elementPrefix,i=void 0===o?"__":o,s=e.modifierPrefix,c=void 0===s?"--":s;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s="".concat(r).concat(a),u=e?n(e,s+i):"",d=t&&!u?" ".concat(n(t,s+c)):"",l=t&&u?" ".concat(n(t,u+c)):"",p=o?" ".concat(n(o)):"",h=e?u+l:s+d;return(h+p).trim()}};t.default=a,e.exports=t.default},"5JV4":function(e,t,r){r.d(t,"a",function(){return d});var n=r("9ZMt"),a=r("MLLI"),o=Object(a.b)(),i={bottom:58,height:32,left:278,right:365,top:26,width:87},s={inited:!1,rectInfo:{}},c=()=>{var e,{statusBarHeight:t=20,system:r}=o,a=t+(/android/i.test(r)?48:44);try{e=n.default.$native.getMenuButtonBoundingClientRect()}catch(e){}return e||(e=Object.create(null)),e.top=e.top||a,s.rectInfo=e,s.inited=!0,e},u=Object.create(null);function d(){var{top:e,height:t}=u,{statusBarHeight:r=20}=o,n=e-r+6+t+r;return n<=105?n:105}Object.keys(i).forEach(e=>{Object.defineProperty(u,e,{get(){if(!s.inited||!s.rectInfo[e]&&"canUseNav"!==e){var t=c()[e];return t||!1===t?t:(setTimeout(c,300),i[e])}return s.rectInfo[e]}})})},"5kn2":function(e,t,r){r.d(t,"a",function(){return i}),r.d(t,"c",function(){return H}),r.d(t,"b",function(){return I});var n,a,o,i,s=r("Y28S"),c=r("w2Y9"),u=r.n(c),d=r("9DIb"),l=r.n(d),p=r("tuFO"),h=r.n(p),f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g="salesman_advance_personal_space_ability",v="/wscsalesman/salesman/shop/checkShopAbility.json",m="/wscsalesman/bind-customer.json",y="/wscump/salesman/share.json",b=function(){},_=function(){function e(e){var t=e.kdtId,r=void 0===t?"":t,n=e.rootKdtId,a=e.buyerId,o=e.guideBindSourceType,i=e.st,s=e.buildEnv,c=e.runEnv,u=e.path,d=e.query,l=void 0===d?{}:d,p=e.fromSeller,h=e.shareInfo,f=void 0===h?{}:h,g=e.goodsInfo,v=void 0===g?{}:g,m=e.shareData,y=void 0===m?{}:m,_=e.rightsInfo,O=void 0===_?{}:_,S=e.scenes,P=void 0===S?"":S,w=e.smartTextData,I=e.nativeAjax,k=void 0===I?function(){return Promise.resolve()}:I,C=e.nativeAjaxUseCdn,T=void 0===C?function(){return Promise.resolve()}:C,x=e.nativeMonitor,j=void 0===x?b:x,A=e.nativeLogger,E=void 0===A?b:A,D=e.nativeNavigate,M=void 0===D?b:D,N=e.nativeYunExtension,L=void 0===N?function(){return Promise.resolve([])}:N,R=e.h5UrlLogParams,U=void 0===R?{}:R,B=e.h5SetShareData,F=void 0===B?b:B,G=e.hasGuideMaterial,H=void 0!==G&&G,q=e.offlineId,z=void 0===q?"":q;this.kdtId=r,this.rootKdtId=n||this.getKdtId(),this.buyerId=a,this.buildEnv=s,this.st=i||l.st||1,this.guideBindSourceType=o||14,this.runEnv=c||s,this.path=u,this.query=l,this.fromSeller=p||l.fromSeller||l.sl||l.sls,this.shareInfo=f,this.goodsInfo=v,this.shareData=y,this.rightsInfo=O,this.scenes=P,this.smartTextData=w,this.nativeLogger=E,this.nativeNavigate=M,this.nativeYunExtension=L,this.nativeAjax=k,this.nativeAjaxUseCdn=T,this.nativeMonitor=j,this.h5UrlLogParams=U,this.h5SetShareData=F,this.hasGuideMaterial=H,this.offlineId=z,this.shopAbilities={},this.updateAbility(this.getKdtId())}return e.prototype.update=function(e,t){"kdtId"===e&&this.updateAbility(t),this[e]=t},e.prototype.batchUpdate=function(e){var t=this;Object.keys(e).forEach(function(r){"kdtId"===r&&t.updateAbility(e[r]),t[r]=e[r]})},e.prototype.getKdtId=function(){return"function"==typeof this.kdtId?this.kdtId():this.kdtId},e.prototype.getBuyerId=function(){return"function"==typeof this.buyerId?this.buyerId():this.buyerId},e.prototype.monitor=function(e){return void 0===e&&(e={}),this.nativeMonitor({appName:"wsc-h5-salesman",logIndex:"wsc_wap_salesman_share_track",topic:"front",extra:f({kdtId:this.getKdtId(),type:this.buildEnv,buyerId:this.getBuyerId()},e)})},e.prototype.ajax=function(e){return e.url=e.path,this.nativeAjax(e)},e.prototype.navigate=function(e){if("web"===this.buildEnv)return this.nativeNavigate(e);var t=e.url,r=e.weappUrl,n=e.qqUrl,a="";switch(!0){case"weapp"===this.buildEnv:a=r||t;break;case"qq"===this.buildEnv:a=n||t;}return this.nativeNavigate({url:a})},e.prototype.updateAbility=function(e){this.getKdtId()!==e&&this.getShopAbility(e,g)},e.prototype.getShopAbility=function(e,t){var r=this;if(e){var n={data:{kdtId:e,abilityName:t},method:"GET",url:v,path:v};return this.nativeAjaxUseCdn(n).then(function(e){var n;return r.update("shopAbilities",f(f({},r.shopAbilities),((n={})[t]=e.valid,n))),Promise.resolve(e.valid)}).catch(function(){return Promise.resolve(!1)})}},e}(),O=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S=function(){return(S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.getCubeShow=function(e){var t=e.share,r=e.freedomShare;return t||r},t.prototype.handleLog=function(e,r){if(void 0===e&&(e={}),void 0===r&&(r={}),this.shareData&&t.getCubeShow(this.shareData)){var n=this.scenes,a=this.shareData,o=this.getKdtId(),i=this.goodsInfo||{},s=i.id||i.goodsId||i.itemId,c=(a||r).seller,u=a||r,d=u.sl,l=u.salesmanType;c=c||d;var p=e.params,h=o+"-"+c;e.params=S(S({scenes:n,sl:c,mark:h,goods_id:s,salesman_type:l},p),r),this.nativeLogger(e)}},t.prototype.getH5GoodsUrl=function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n=!0);var a="";if(e=e||this.goodsInfo,t=t||this.shareData,n&&window&&window.location&&window.location.href)a=window.location.href,a=u.a.remove(a,"sid"),a=u.a.remove(a,"isWeapp"),a=u.a.remove(a,"hide_buy_btn");else if(e.alias){var o=e.alias,i=e.goodsActivityInfo||{},c=i.activityType,d=i.activityAlias,l=i.type,p=i.activityId;if(a=h()("wscgoods/detail/"+o,"h5",this.getKdtId()||""),l||c){var f={ump_type:l||c,ump_alias:d,activityType:l||c,activityId:p};"seckill"===f.activityType&&delete f.activityId,a=u.a.add(a,f)}}var g=S(S(S({},Object(s.c)({sl:t.seller||"",kdtId:this.getKdtId()||""})),{sub_kdt_id:this.getKdtId()||t.dsKdtId}),r);return u.a.add(a,g)},t.prototype.getWeappGoodsPath=function(e){var t=e||{},r=t.activityType,n=void 0===r?0:r,a=t.activityAlias,o=void 0===a?"":a,i=t.activityId,s=void 0===i?0:i,c=t.goodsAlias,u=void 0===c?"":c,d=t.alias,l={alias:u||(void 0===d?"":d)};return 6===n&&(l=S(S({},l),{activityType:"seckill",umpAlias:o,umpType:"seckill"})),21===n&&(l=S(S({},l),{activityType:"helpCut",activityId:s})),{basePath:"packages/goods/detail/index",query:l}},t.prototype.setShareOption=function(e,t){if("web"===this.buildEnv){var r=S(S({},this.shareInfo),e),n=r.url;n||(n=this.goodsInfo.alias?this.getH5GoodsUrl():window.location.href),n=u.a.add(n,{st:this.st});var a={link:n=Object(s.a)({url:n,sl:this.shareData.seller,kdtId:this.getKdtId(),shareParams:this.h5UrlLogParams})};if(r.title&&(a.title="[分享]"+r.title),r.cover&&(a.cover=r.cover,a.imgUrl=r.cover),r.desc&&(a.desc=r.desc),this.update("shareInfo",S(S({},a),{url:n})),!t)return;this.h5SetShareData(a)}},t}(_),w=function(e){return{et:"click",ei:"share",en:"分享",params:{share_type:"salesman",share_cmpt:e}}},I={nativeCustom:w("native_custom"),poster:w("poster"),copylink:w("copylink"),copyWeappLink:w("weapp_link"),qrCode:w("qr_code"),miniprogram:w("miniprogram"),savepictures:w("savepictures"),clickShare:{et:"click",ei:"sales_money",en:"点赚字",params:{version:"v2"}},salesMoneyView:{et:"view",ei:"salesmoney_view",en:"赚字曝光",params:{version:"v2"}}},k=["salesman_coupon"],C={Goods:"goods",BenefitCard:"benefit_card",ShopNote:"shop_note",Feature:"feature",FeaturePage:"feature_page",HomePage:"home_page",SalesmanZone:"zone",SalesmanGoods:"salesman_goods",SalesmanCoupon:"salesman_coupon"},T=((a={})[C.Goods]="商品",a[C.Feature]="微页面",a[C.FeaturePage]="微页面",a[C.HomePage]="首页",a),x=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(){return(j=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.bindRelation=function(){var e=this,t=this.fromSeller,r=this.st,n=this.guideBindSourceType,a=void 0===n?14:n,o=(this.query||{}).from_params;if(t){this.monitor({url:m,path:this.path,sellerFrom:t,guideBindSourceType:a,bindSourceType:r});var i=function(){return e.ajax({path:m,method:"POST",data:{sellerFrom:t,guideBindSourceType:a,bindSourceType:r,fromParams:o}})};return i().catch(i)}return Promise.resolve()},t.prototype.getShareData=function(){var e=this,t={type:"NORMAL"};return this.goodsInfo.id&&(t.goodsId=this.goodsInfo.id),"web"===this.buildEnv&&(t.redirectUrl=encodeURIComponent(window.location.href)),this.monitor({path:this.path,url:y}),this.ajax({path:y,data:t,config:{cache:!0,expire:10}}).then(function(t){var r=l()(t);return r.isShoppingGuide=1===r.salesmanType,e.update("shareData",r),k.includes(e.scenes)&&e.update("kdtId",r.dsKdtId),e.handleLog(I.salesMoneyView),r})},t.prototype.getSmartText=function(e){var t=this;return this.ajax({path:"/wscsalesman/common-api/smart-text/getSmartText.json",method:"GET",data:e}).then(function(e){return t.update("smartTextData",e),e})},t.prototype.getShareMoney=function(e,t,r){var n={goodsId:e},a="/guide/salesman-cube/getShareMoney.json";t&&(n.rateShareList=t.filter(function(e){return!!e.stockNum}).map(function(e){return{skuId:e.id,price:e.price}})),r&&(a="/guide/goods/batchBudgetCommission.json",n.budgetGoods=[{goodsId:e,minPrice:r.minPrice,maxPrice:r.maxPrice}]);var o=this.shareData.salesmanType===i.Guide,s=o?a:"/wscsalesman/share-icon/share-money/getShareMoney.json";return o&&this.shareInfo.shortLinkKdtId&&(n.shareKdtId=this.shareInfo.shortLinkKdtId),this.ajax({path:s,method:"POST",data:n,contentType:"application/json"})},t.prototype.getShareMoneyRange=function(e,t,r){var n={goodsId:e,showPoints:!0};t&&(n.rateShareList=t.filter(function(e){return!!e.stockNum}).map(function(e){return{skuId:e.id,price:e.price}})),r&&(n=j(j({},n),r));return this.ajax({path:"/wscsalesman/share-icon/share-money/getShareMoneyV2.json",method:"POST",data:n,contentType:"application/json"})},t.prototype.checkIconIsRecruitEntry=function(e){return void 0===e&&(e=function(){}),this.shareData.freedomShare?this.navigate({url:h()("/wscump/salesman/tutorial?kdt_id="+this.getKdtId(),"h5",this.getKdtId()),weappUrl:"/packages/salesman/tutorial/index"}):e()},t.prototype.subscribeMessage=function(e){var t=this;if(void 0===e&&(e=function(){}),"weapp"!==this.buildEnv||!wx.requestSubscribeMessage)return e();this.ajax({path:"/wscump/salesman/im/getSubMsg.json"}).then(function(r){if(Array.isArray(r)&&r.length){(n=r,new Promise(function(e){wx.requestSubscribeMessage({tmplIds:n,success:function(t){"requestSubscribeMessage:ok"===t.errMsg?e(!0):e()},fail:function(){e()}})})).then(function(n){n&&t.ajax({path:"/wscump/salesman/im/subscriptionCallback.json",method:"POST",data:{scene:"salesmanOrder",templateIdList:r}}),e()})}else{var n;e()}}).catch(e)},t.prototype.getTaxSignInfo=function(){return this.ajax({path:"/wscsalesman/common-api/assets/new-tax/getShopAndUserTaxInfo.json"})},t.prototype.getOpenAssistantData=function(){return this.ajax({path:"/wscsalesman/operation/salesman-aide/isNeedGuide.json",data:{isForCenter:!1},method:"POST"})},t.prototype.getShopRights=function(){var e=this;return this.ajax({path:"/wscump/salesman/shop/checkShopRights.json"}).then(function(t){return e.update("rightsInfo",t),t}).catch(function(){return{}})},t.prototype.getNewBeginGuide=function(){return this.ajax({path:"/wscump/salesman/guide/is-success-guide.json",data:{type:14}})},t.prototype.completeNewBeginGuide=function(){return this.ajax({path:"/wscump/salesman/guide/add-success-guide.json",method:"POST",data:{type:14}})},t.prototype.publishMaterial=function(e){return this.ajax({path:"/wscump/salesman/zone/publishMoments.json",method:"POST",data:e}).then(function(){return{material:1}}).catch(function(){return{material:0}})},t.prototype.getShortUrl=function(e){return this.ajax({path:"/wscshop/ump/salesman/short-url.json",data:{url:e}}).catch(function(){return e})},t.prototype.getUrlWithSl=function(e){var t=j(j({},Object(s.c)({sl:this.shareData.seller,kdtId:this.getKdtId()})),{sub_kdt_id:this.getKdtId()||this.shareData.dsKdtId});return u.a.add(e,t)},t.prototype.getSlUrl=function(e){var t=this.getUrlWithSl(e);return this.getShortUrl(t).catch(function(){return t})},t.prototype.getShortLink=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=this.getShortLinkParams(e,t);return this.ajax({method:"POST",contentType:"application/json",data:r,path:"/wscsalesman/common-api/short-link/generateShortLink.json"})},t.prototype.getShortLinkParams=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=this,n=r.shareData,a=r.query,o=r.path,i=r.offlineId,c=r.scenes,d=this.getKdtId(),l=j(j(j({offlineId:i},a),Object(s.c)({sl:n.seller,kdtId:d})),e);[C.HomePage,C.FeaturePage].includes(c)&&(l.kdt_id=d);var p=u.a.add(o,l),h=T[c]||"商品";return j({isPermanent:!1,pageTitle:h,pageUrl:p},t)},t}(P),E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(){return(D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},M=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},N="pages/common/blank-page/index",L="pages/common/webview-page/index",R="packages/goods/detail/index",U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.generateCodeJsonOrPosterJsonParams=function(e,r){void 0===e&&(e={}),void 0===r&&(r={});var n=t.getAppSceneObj(D({kdtId:this.rootKdtId,guestKdtId:this.getKdtId(),page:this.path,goodsInfo:this.goodsInfo,sl:this.shareData.seller,share_from:"poster",offlineId:this.offlineId},r)),a=n.sceneObj,o=n.formatGoodsInfo;return D(D(D({},o),{kdtId:this.rootKdtId,page:this.path,scene:encodeURIComponent(JSON.stringify(a))}),e)},t.prototype.generateCreatePosterJsonParams=function(e,t){var r=this.shareData;return D({page:"weapp"===this.runEnv?N:this.path,scene:JSON.stringify(D(D(D({kdtId:this.rootKdtId,guestKdtId:this.getKdtId(),page:this.path},this.query),Object(s.c)({sl:r.seller,kdtId:this.getKdtId()})),t))},e)},t.prototype.getCodeParams=function(e){var t=this.goodsInfo;if("qq"===this.runEnv)return"web"===this.buildEnv?this.generateCodeJsonOrPosterJsonParams({page:R},{share_from:"qrcode",page:R}):this.generateCodeJsonOrPosterJsonParams({},{share_from:"qrcode"});if("weapp"!==this.runEnv||!t||!t.weappUrl)return{kdtId:this.rootKdtId,isWeapp:"weapp"===this.runEnv?1:0,url:e};if("weapp"===this.runEnv){var r=t.weappUrl.split("?")[0]||R;return this.generateCodeJsonOrPosterJsonParams({isWeapp:1,url:e,weappUrl:"pages/common/blank-page/index"},{page:r,share_from:"qrcode"})}},t.prototype.getZonePosterParams=function(e){var t=e.salesmanAvatar,r=e.nickname,n=e.backgroundUrl;return this.generateCreatePosterJsonParams({type:"moment",page:N,avatar:t,nickname:r,backgroundImg:n,width:292,height:422},{page:"packages/salesman/zone/home/index"})},t.prototype.getGoodsPosterParams=function(e){void 0===e&&(e={params:{},scene:{}});var t=this.goodsInfo.goodsAlias||this.goodsInfo.alias;if("web"===this.buildEnv){if("weapp"===this.runEnv)return this.generateCodeJsonOrPosterJsonParams(D({qrCodeType:"weapp",isWeapp:1,alias:t,page:N},e.params),D({page:"/"+R,share_from:"poster"},e.scene));if("qq"===this.runEnv)return this.generateCodeJsonOrPosterJsonParams(D({page:"/"+R,alias:t},e.params),D({page:"/"+R,share_from:"poster"},e.scene));var r=this.shareInfo.url,n=this.generateCodeJsonOrPosterJsonParams(D({alias:t,url:encodeURIComponent(Object(s.a)({url:r,sl:this.shareData.seller,st:3,kdtId:this.getKdtId()}))},e.params));return delete n.scene,n}return"weapp"===this.buildEnv?this.generateCodeJsonOrPosterJsonParams(D({page:N,alias:t},e.params),D({page:"/"+R,share_from:"poster"},e.scene)):this.generateCodeJsonOrPosterJsonParams(D(D({},e.params),{alias:t}),e.scene)},t.prototype.getGoodsPosterInfo=function(){var e=this.goodsInfo,r=t.formatGoodsActivityParams(e);return this.ajax({path:"/wscgoods/poster/goods-poster-info.json",data:r,method:"GET"})},t.prototype.getGoodsPoster=function(e){var t=this;void 0===e&&(e={params:{},scene:{}});var r=this.getGoodsPosterParams(e);return this.nativeYunExtension(r).then(function(e){return e.length?e[0]:t.ajax({path:"/wscgoods/weapp-poster/goods.json",data:r,method:"GET"})}).then(function(e){return e.imgUrl?e:Promise.reject("生成失败")})},t.prototype.getCodeOrQrCode=function(){var e=this;if("web"===this.buildEnv){var t=this.shareInfo.url;return t=u.a.add(t,{st:1}),"web"===this.runEnv?(this.handleLog(I.qrCode),t=u.a.add(t,{share_cmpt:"qr_code"})):(this.handleLog(I.miniprogram),t=u.a.add(t,{share_cmpt:"miniprogram"})),this.getSlUrl(t).then(function(t){var r=e.getCodeParams(t);return e.ajax({path:"/wscump/salesman/poster/getCode.json",data:r})})}this.handleLog(I.miniprogram);var r=this.generateCreatePosterJsonParams({type:"qrcode",width:292,height:292});return this.createPosterRequest(r)},t.prototype.createPosterRequest=function(e){return this.ajax({path:"/wscsalesman/poster-service/create-poster.json",data:e})},t.prototype.getZoneCodePoster=function(){if("web"===this.runEnv||"weapp"===this.runEnv){this.handleLog(I.poster,{posterType:"zoomPoster"});var e=this.getZonePosterParams(this.rightsInfo);return this.createPosterRequest(e)}return Promise.resolve()},t.prototype.getTuwenPoster=function(){if(this.handleLog(I.poster,{posterType:"tuwenPoster"}),"web"===this.buildEnv){var e,t=this.shareInfo.url;return e="weapp"===this.runEnv?this.generateCreatePosterJsonParams({type:"tuwen",page:N},{page:L,src:encodeURIComponent(t)}):"qq"===this.runEnv?{type:"tuwen",page:"pages/web-view/index?url="+encodeURIComponent(t),scene:JSON.stringify({kdtId:this.getKdtId()})}:{kdtId:this.getKdtId(),isWeapp:0,url:t},this.createPosterRequest(e)}var r=this.generateCreatePosterJsonParams({type:"tuwen"});return this.createPosterRequest(r)},t.prototype.getFeaturePoster=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.handleLog(I.poster,{posterType:"featurePoster"});var r=this.generateFeaturePosterParams(e,t);return this.ajax({path:"/wscshop/poster/feature.json",data:r})},t.prototype.generateFeaturePosterParams=function(e,t){var r;void 0===e&&(e={}),void 0===t&&(t={});var n=this.getKdtId();if("weapp"===this.buildEnv)return D({isV2:1,page:N,pageType:"homepage",kdtId:n,scene:D(D({page:this.path,guestKdtId:n,kdtId:n,alias:null===(r=this.query)||void 0===r?void 0:r.alias},Object(s.c)({sl:this.shareData.seller,kdtId:n})),t)},e);var a=Object(s.a)({url:this.shareInfo.url,sl:this.shareData.seller,kdtId:this.getKdtId()}),o=window._global.poster_info,i=(void 0===o?{}:o).more,c=void 0===i?{}:i;if("weapp"===this.runEnv){var d=c.alias||u.a.get("alias")||"";return D({isV2:1,page:N,pageType:c.pageType||"homepage",qrCodeType:"weapp",kdtId:n,alias:d,scene:encodeURIComponent(JSON.stringify(D(D({page:L,kdtId:n,guestKdtId:n,src:encodeURIComponent(a),alias:d},Object(s.c)({sl:this.shareData.seller,kdtId:this.getKdtId()})),t)))},e)}return{kdtId:n,url:a,pageType:c.pageType||"homepage",alias:c.alias||""}},t.getAppSceneObj=function(e){var r=e.kdtId,n=e.guestKdtId,a=e.goodsInfo,o=e.page,i=e.sl,c=e.share_from,u=M(e,["kdtId","guestKdtId","goodsInfo","page","sl","share_from"]),d=t.formatGoodsActivityParams(a);return{formatGoodsInfo:d,sceneObj:D(D(D({kdtId:r,guestKdtId:n||r,page:o,share_from:c},u),d),Object(s.c)({sl:i,kdtId:n}))}},t.formatGoodsActivityParams=function(e){var t={},r=e.goodsAlias||e.alias;t.alias=r;var n=e.goodsActivityInfo;if(!n)return t;var a=n.activityId,o=n.type,i=n.activityType,s=void 0===i?o:i,c=n.activityAlias||e.activityAlias;return(a||s)&&("helpCut"===s||21===s?(t.activityType="helpCut",t.umpType="helpCut",t.activityId=a):6===s||"seckill"===s?(t.umpType="seckill",t.activityType="seckill",t.umpAlias=c):"luckyDrawGroup"===o?(t.activityId=a,t.activityType="luckyDrawGroup"):(t.activityId=a,t.activityType=s)),t},t}(A),B=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.checkHasGuideMaterial=function(){var e,t=this;return(e="weapp"===this.buildEnv?Promise.resolve(!0):this.ajax({path:"/guide/salesman-cube/hasGuideMaterial.json"})).then(function(e){return t.update("hasGuideMaterial",e),e}),e},t}(U),G=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){e.weapp="weapp",e.qq="qq",e.web="web"}(o||(o={})),function(e){e[e.Guide=1]="Guide",e[e.Salesman=2]="Salesman"}(i||(i={}));var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),t.getInstance=function(e){return!t.instance&&e&&(t.instance=new t(e)),t.instance},t.instance=null,t}(F)},"5mDF":function(e,t,r){r.d(t,"a",function(){return o});var n=r("9ME7"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={GoodsShowcase:a()}},"5yT6":function(e,t){e.exports={d:"goodsBaseInfo;4;goodsPriceInfo;4;finalBigButtons;4;skuData;4;isNoStock;4;kdtId;4;pageVars;4",e:"clickBigButton;preview-image:updated-current",el:"preview-image",w:"Main;NormalCover",wc:"UserAuthorize",wd:"Main",l:"",lc:"",p:"",pi:"",c:"",cc:""}},"6HL7":function(e,t){e.exports={d:"subscribeData;0;subscribeData;4",e:"",el:"",w:"",wc:"",wd:"Main",l:"",lc:"",p:"requestWechatSubscribeMessagePush",pi:"requestSubscribeMessagePush",c:"",cc:"SubscribeGuide"}},"6MKc":function(e,t,r){r.d(t,"l",function(){return o}),r.d(t,"j",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"m",function(){return c}),r.d(t,"k",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"b",function(){return l}),r.d(t,"f",function(){return p}),r.d(t,"n",function(){return h}),r.d(t,"c",function(){return f}),r.d(t,"h",function(){return g}),r.d(t,"i",function(){return v});var n=r("6S0u"),a=r("ECkf");function o(e,t,r){return Math.min(Math.max(e,t),r)}function i(e){Object(a.e)()?wx.nextTick(e):setTimeout(()=>{e()},1e3/30)}function s(e){if(Object(n.b)(e))return e=String(e),Object(n.e)(e)?e+"px":e}function c(e){return setTimeout(()=>{e()},1e3/30)}function u(e,t){return Object(n.g)(e)?Object.keys(e).reduce((r,n)=>(t.includes(n)||(r[n]=e[n]),r),{}):{}}function d(e,t){return new Promise(r=>{wx.createSelectorQuery().in(e).select(t).boundingClientRect().exec(function(e){return void 0===e&&(e=[]),r(e[0])})})}function l(e,t){return new Promise(r=>{wx.createSelectorQuery().in(e).selectAll(t).boundingClientRect().exec(function(e){return void 0===e&&(e=[]),r(e[0])})})}function p(e,t){Object(a.c)()?e.groupSetData(t):t()}function h(e){return Object(n.h)(e)?e:Promise.resolve(e)}r.d(t,"g",function(){return n.b}),r.d(t,"e",function(){return a.f});function f(){var e=getCurrentPages();return e[e.length-1]}var g=["mac","windows"].includes(Object(a.f)().platform),v="wxwork"===Object(a.f)().environment},"6NLS":function(e,t,r){r.d(t,"a",function(){return a});var n=r("BANk");function a(e,t){void 0===t&&(t={});var a=r("US/N").default;return"string"==typeof t&&(t={fileType:t}),a({path:t.uploadToShop?"/wscshop/token/shop-image-token.json":"/wscshop/token/upload-image.json",data:{kdt_id:t.kdtId}}).then(function(r){var a=r.token;return new Promise(function(r,o){return Object(n.a)({url:"https://up.yzcdn.cn/",filePath:e,fileName:"file",fileType:t.fileType||"image",formData:{token:a,"x:skip_save":1},success:function(t){var n,a=t.data;if(200!=+t.statusCode)return o(new Error("上传文件失败"));try{n=JSON.parse(a)}catch(e){return o(new Error("解析文件失败"))}if(!n||0!==n.code)return o(new Error("上传文件失败"));n.data.originFile=e,n.data.success=!0,r(n.data)}})})})}},"6i0Q":function(e,t,r){var n=r("Fcif"),a=r("uhII"),o={general:"general","main-bg":"main-bg","main-text":"main-text","vice-bg":"vice-bg","vice-text":"vice-text","gradient-start":"start-bg","gradient-end":"end-bg"},i=null;t.a={getThemeType(){return this.getTheme().then(e=>e.type)},getTheme:()=>new Promise((e,t)=>{if(!getApp)return e({type:0,colors:Object(n.a)({},a.b)});getApp().getShopTheme().then(t=>{e(t)}).catch(()=>t())}),getThemeColorWithType(e){var t=o[e];return t?i?i[t]:a.b[t]:e},getThemeColor(e){return this.getTheme().then(t=>(i=t.colors,this.getThemeColorWithType(e)))},switchHexToRgb(e){var t=0,r=0,n=0,a=e=>parseInt(e,16);if(3===(e=e.slice(1)).length||6===e.length)return 3===e.length?(t=17*a(e[0]),r=17*a(e[1]),n=17*a(e[2])):(t=a(e[1])+16*a(e[0]),r=a(e[3])+16*a(e[2]),n=a(e[5])+16*a(e[4])),[t,r,n]}}},"7/pW":function(e,t,r){r.d(t,"a",function(){return c});var n=r("9mFz"),a=r("y293"),o=Behavior({properties:{rmId:{type:String},_rm:{type:Object},_rw:{type:Object}},attached(){var{rmId:e}=this.data;if(e){var t=Object(a.a)(this)[Symbol.for("vm")].$root.bBliTuYgvrvR.getModuleContext(e,{onlyCtx:!1}),r=t.hasOwnProperty("store")&&!t.moduleId,n=r?t.ctx:t;r&&(this.store=t.store),this.ctx=n}},detached(){this.data.rmId&&(this.store&&(this.store=null),this.ctx=null)}}),i=Behavior({created(){this._isRantaWeapp=!0,this[n.a]=[]},detached(){this[n.a].forEach(e=>null==e?void 0:e())}});var s=r("u8kV"),c=function(e){e.behaviors=e.behaviors||[];var t,r=new s.a;return e.behaviors.push(r.getBehavior()),(t=e).behaviors||(t.behaviors=[]),t.behaviors.push(i,o),Component(t)}},"7IP4":function(e,t){e.exports=function(){}},"7WUL":function(e,t,r){r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"e",function(){return c});var n=["offlinepage","weapplink","goods","tag","weappfeature","feature","homepage","usercenter","cart","allgoods","chat","pointsstore","coupon","platform_coupon","seckill","zodiac","paidcolumn","paidcontent","mypaidcontent","paidlive","shopnote","calendar_checkin","shopnote_detail","allcourse","course","educourse","allofflinecourse","eduappointment","course_group","course_category","edumoments","hotellist","recharge_center","red-package","member_code","vipcenter","mp_article","marketing_page","video_number","video_number_dynamic","goods_classify","booking_mall","express_mall"],a=["/pages/home/dashboard/index","/pages/goods/cart/index","/pages/usercenter/dashboard/index","/pages-retail/usercenter/dashboard-v2/index"],o={SCAN_GO:"scan_order_way",FREE_GO:"free_order_way",SELF:"self_order_way",TAKEOUT:"takeout_order_way",SaleToday:"sale_today",SaleAdvance:"sale_advance",NEARBY_STORE:"nearby_store_way",SHELF_GOODS:"shelf_goods",SHELF_GROUP:"shelf_group",WX_SCAN_CODE:"wx_scan_code"},i={[o.SELF]:0,[o.SaleToday]:0,[o.SaleAdvance]:0,[o.TAKEOUT]:1},s="packages/retail-shelf/shelf/index",c={[o.SELF]:s+"?mode=0",[o.SaleToday]:s+"?mode=0&filter=1",[o.SaleAdvance]:s+"?mode=0&filter=2",[o.TAKEOUT]:s+"?mode=1"}},"7WjY":function(e,t,r){r.d(t,"a",function(){return n});var n={kdtId:0,im:null,nav:{},vip:null,base:null,store:null,config:null,copyright:{isCustomized:!1,logo:"https://img01.yzcdn.cn/weapp/wsc/jda6QN.png"},theme:{themeClass:"th0",isFantasy:!1,themeFetched:!1,type:0},isMultiStore:!1,autoEntryStore:0,soldOutRecommend:!1,openHideStore:0,multiStoreSwitch:!1,hideTopBar:0,hasBase:!1,logo:"",shop_name:"",shop_type:0,kdt_id:0,service:{},security:{},wechat_sync_shopping_list:0,isServiceDue:!1,virtualGoodsCannotWePay:!1,offlineId:0,chainStoreInfo:{},shop_business_isopen:!0,suspend_message:""}},"7ayS":function(e,t,r){r.d(t,"a",function(){return o});var n=r("iNgw"),a=r.n(n);class o{constructor(e){var{ctx:t,wrapperType:r}=e;this.ctx=t,this.wrapperType=r}}o.widgets={Main:a()}},"7o+A":function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"7sy2":function(e,t,r){r.d(t,"a",function(){return l}),r.d(t,"b",function(){return h}),r.d(t,"d",function(){return f}),r.d(t,"e",function(){return g}),r.d(t,"c",function(){return v}),r.d(t,"f",function(){return m});var n=r("Fcif"),a=r("3tyi"),o=r("PZW/"),i=r("2wjL"),s=r("zMoS"),c=r("sbwY"),u=r("Y28S"),{state:d}=c.a;function l(e){var t,r=Object(a.a)(e||{},["from_params","IS_SALES","NEW_SALES_KDTID","NEW_SALES_ID"]),n=getApp();if(!r.from_params){var o,i,s=null==n||null==(o=n.logger)?void 0:o.getLogParams();r.from_params=(null==s||null==(i=s.context)?void 0:i.from_params)||""}r.from_params||(r.from_params=(null==n||null==(t=n.globalData)?void 0:t.from_params)||"");return r}function p(e){return null!=e&&e.path?i.a.add("/"+(null==e?void 0:e.path),(null==e?void 0:e.query)||{}):""}function h(e,t){var{level:r="info",message:a,detail:o={},extra:i={}}=e;void 0===t&&(t={});try{var s,c,u,d,l=getApp(),h=(null==l||null==(s=l.logger)?void 0:s.getGlobal())||{};null==l||null==(c=l.logger)||null==c.appError||c.appError({appName:"guide-b-h5",logIndex:"guide_b_log",name:"weapp",message:a,level:r,extra:Object(n.a)({sourceApp:"weapp",userId:(null==h||null==(u=h.user)?void 0:u.li)||"",mobile:(null==h||null==(d=h.user)?void 0:d.m)||""},i),detail:Object(n.a)({},o,{url:p(t)})})}catch(e){}}function f(e,t){try{var r;t=t||getApp();var a=Object(n.a)({},(null==e?void 0:e.query)||{},(null==d||null==(r=d.sceneData)?void 0:r.pageData)||{});Object(o.a)({query:a,url:p(e),sourceApp:"weapp",appObj:t})}catch(t){h({level:"error",message:"关联关系上报_兜底catch",detail:{error:t}},e)}}var g=e=>{var t,{query:r}=null==(t=wx)||null==t.getLaunchOptionsSync?void 0:t.getLaunchOptionsSync(),a=getApp(),{from_params:o,IS_SALES:i,NEW_SALES_ID:s,NEW_SALES_KDTID:c}=l(r);return a.request(Object(n.a)({},e,{header:Object(n.a)({},e.header,{"x-guide-biz-data":"from_params="+o+";is_sales="+i+";new_sales_kdtId="+c+";new_salesId="+s})}))};function v(e){return!(""===(t=e)||null==t||"null"===t||"undefined"===t)&&/[^\s]+~[^\s]+/.test(e);var t}function m(e){var t="";try{var r=getApp(),a=null==r?void 0:r.logger,o=Object(s.a)(null==a?void 0:a.getLogParams(),"context.from_params",""),{from_params:c}=i.a.getAll(e)||{},d=/(sl|sales_id)~/.test(c);if(h({message:"webview页更新小程序上下文数据_前置打点",detail:{h5Url:e},extra:{isValid:v(c),hasSL:d,fromParamsStrOfH5Query:c,fromParamsStrOfContext:o}}),c!==o&&v(c)&&d){var l=Object(u.d)(o||""),p=Object(u.d)(c),f=Object(u.e)(Object(n.a)({},l,p));h({message:"webview页更新小程序上下文数据_有有效from_params值",detail:{mergedFromParamsStr:f,fromPramsObjOfContext:l,fromPramsObjOfH5Query:p}}),t=f,null==a||a.setContext({from_params:f},1)}}catch(e){h({level:"error",message:"webview页更新小程序上下文数据_失败",detail:{error:e}})}return t}},"7ueE":function(e,t){e.exports={wd:"Widget",p:"queryWechatSubscribeResult;requestSubscribeMessagePush;getTemplateByScene",c:"SubscribeGuide"}},"7xhV":function(e,t){e.exports={d:"contact;4",w:"MessageContact",wc:"UserAuthorize",wd:"MessageContact",lc:"getUserInfo",p:"showYZIm",c:"MessageContactButton"}},"7yS6":function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r("HmHG"))&&n.__esModule?n:{default:n}).default;t.default=a,e.exports=t.default},"82CI":function(e,t,r){r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i});var n=100,a=30,o=54,i=16},"87Y/":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("string"!=typeof e)return"";3===(e=e.slice(1)).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+t+")"},e.exports=t.default},"8B9M":function(e,t,r){r("Fcif"),r("taYb");var n=r("QTc8"),a=r("jA1y"),o=r("2ktG"),i=()=>{},s={},c={globalData:{shopInfo:{isMultiStore:!1}},db:n.a,carmen:a.b,request:a.c,logger:{requestError:i,onError:i,getGlobal:i,appError:i},isSwitchTab:()=>Promise.resolve(!1),updateYouzanUserInfo(){},getOfflineId(){var{shopInfo:e={}}=s;return e.offlineId||0},getKdtId:()=>s.kdtId||0,getFansType:()=>"",getSessionId(){var{token:e={}}=s;return e.sessionId||""},getShopConfigData:()=>new Promise(e=>{e({show_buy_btn:!0,hide_shopping_cart:!1})}),getShopInfo:()=>Promise.resolve({}),getImData:()=>new Promise(e=>{e({})}),getUserInfo(){},getPointsName:()=>Promise.resolve({pointsName:"积分"}),getPoints:()=>Object(a.c)({path:"wscump/integral/user_points.json"})};c.storage=Object(o.a)(),t.a=function(){return getApp?getApp():c}},"8Ggg":function(e,t,r){function n(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function a(e,t,r){return Math.min(Math.max(e,t),r)}function o(){var e={startX:0,startY:0,deltaX:0,deltaY:0,offsetX:0,offsetY:0,direction:"",isVertical:null,isHorizontal:null,move:null,start:null,reset:null};return e.isVertical=()=>"vertical"===e.direction,e.isHorizontal=()=>"horizontal"===e.direction,e.move=t=>{var r,n,a=t.touches[0];e.deltaX=a.clientX-e.startX,e.deltaY=a.clientY-e.startY,e.offsetX=Math.abs(e.deltaX),e.offsetY=Math.abs(e.deltaY),e.direction||(e.direction=(r=e.offsetX,n=e.offsetY,r>n&&r>10?"horizontal":n>r&&n>10?"vertical":""))},e.start=t=>{e.reset(),e.startX=t.touches[0].clientX,e.startY=t.touches[0].clientY},e.reset=()=>{e.deltaX=0,e.deltaY=0,e.offsetX=0,e.offsetY=0,e.direction=""},e}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o})},"8VmE":function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},"8v1J":function(e,t){e.exports={d:"pageStyleCSS;2;pageStyleConfig;2;themeIcon;4;themeCSS;4;appStyleConfig;4",wd:"Main",lc:"objectToCSS"}},"8zua":function(e,t,r){r.d(t,"a",function(){return n});var n={UNKNOWN:-1,GROW:1,REGISTER:2,CONSUME:3,SAVING:4}},"9+N+":function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("9ZMt");function a(e){n.default.$native.onError(e)}function o(e){n.default.$native.offError(e)}},"9+gc":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",n=t.getFullYear(),a=t.getMonth(),o=t.getDate();return new Date("year"===r?n+e:n,"month"===r?a+e:a,"day"===r?o+e:o)};t.default=n,e.exports=t.default},"9Bnu":function(e,t,r){t.a=()=>getApp().resolveTeeAPI().then(e=>e.getUserPrivacy())},"9DLJ":function(e,t,r){r.d(t,"c",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"i",function(){return o}),r.d(t,"k",function(){return s}),r.d(t,"j",function(){return c}),r.d(t,"a",function(){return u}),r.d(t,"h",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"g",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"d",function(){return f}),r.d(t,"l",function(){return g});var n={ACTIVE:"#f44",UNACTIVATED:"#969799",RESET_UNACTIVE:"#666"},a={SHOP:"shop",CUSTOM:"custom"},o={DEFAULT:1,MAIN_ICON:2,XUAN_FU:3,MAIN_ICON_STYLE_TWO:4},i="packages",s={WSC:i+"/usercenter/dashboard/index",RETAIL:i+"/retail/usercenter/dashboard-v2/index"},c=/packages\/(retail\/)?usercenter\/dashboard(-v2)?\/index/,u={OLD:i+"/shop/goods/all/index",NEW:i+"/goods-list/all/index"},d={["/"+u.OLD]:"AllGoodsList"},l={TRANS:i+"/home/tab/one",EXT:i+"/ext-home/tab/one",OLD:i+"/old-home/tab/one"},p={TRANS:i+"/home/tab/two",EXT:i+"/ext-home/tab/two",OLD:i+"/old-home/tab/two"},h={TRANS:i+"/home/tab/three",EXT:i+"/ext-home/tab/three",OLD:i+"/old-home/tab/three"},f={TRANS:i+"/home/dashboard/index",EXT:i+"/ext-home/dashboard/index",OLD:i+"/old-home/dashboard/index"},g={TRANS:i+"/usercenter/dashboard/index",PAGE:"pages/usercenter/dashboard/index"}},"9DaQ":function(e,t,r){r.d(t,"a",function(){return i});var n=r("h+Rz"),a=r("DHu0"),o=r("AC3C");function i(e){var t=e.phoneNumber;return"string"!=typeof t?Promise.reject(Object(o.a)({code:a.a.ParamsError,message:"phoneNumber类型出错"})):n.a.makePhoneCall({phoneNumber:t})}},"9KEa":function(e,t,r){r.d(t,"a",function(){return a});var n={inited:!1,isFetching:!1,systemInfo:{SDKVersion:"",batteryLevel:100,benchmarkLevel:1,brand:"",fontSizeSetting:16,language:"zh",model:"",pixelRatio:1,platform:"",screenHeight:0,screenWidth:0,statusBarHeight:0,system:"",version:"",windowHeight:0,windowWidth:0}};n.isFetching||(n.isFetching=!0,wx.getSystemInfo({success(e){void 0===e&&(e={}),n.systemInfo=e,n.inited=!0},fail(e){},complete(){n.isFetching=!1}}));var a=Object.create(null);Object.keys(n.systemInfo).forEach(e=>{Object.defineProperty(a,e,{get:()=>n.inited?n.systemInfo[e]:(n.systemInfo=wx.getSystemInfoSync(),n.inited=!0,n.systemInfo)[e]})}),Object.defineProperty(a,"isAndroid",{get:()=>/android/i.test(a.system)}),Object.defineProperty(a,"isIphoneX",{get:()=>/iphone x/i.test(a.model)}),t.b=function(e){return void 0===e&&(e=!0),n.inited&&e||(n.systemInfo=wx.getSystemInfoSync(),n.inited=!0),n.systemInfo}},"9VdR":function(e,t,r){r.r(t),r.d(t,"getClipboardData",function(){return n.a}),r.d(t,"setClipboardData",function(){return n.b}),r.d(t,"getSystemInfo",function(){return a.a}),r.d(t,"getSystemInfoSync",function(){return a.b}),r.d(t,"makePhoneCall",function(){return o.a}),r.d(t,"getLaunchOptionsSync",function(){return i.a}),r.d(t,"ScanType",function(){return u}),r.d(t,"scanCode",function(){return d}),r.d(t,"getPerformance",function(){return l.a}),r.d(t,"chooseImage",function(){return p.b}),r.d(t,"previewImage",function(){return p.d}),r.d(t,"saveImageToPhotosAlbum",function(){return p.e}),r.d(t,"detectWebpSupport",function(){return p.c}),r.d(t,"checkCanWebp",function(){return p.a}),r.d(t,"chooseVideo",function(){return h}),r.d(t,"saveVideoToPhotosAlbum",function(){return f}),r.d(t,"previewMedia",function(){return v}),r.d(t,"createInnerAudioContext",function(){return _}),r.d(t,"getAuthCode",function(){return O.a}),r.d(t,"openAddress",function(){return S}),r.d(t,"requestSubscribeMessage",function(){return P}),r.d(t,"request",function(){return w.a}),r.d(t,"uploadFile",function(){return I.a}),r.d(t,"getNetworkType",function(){return k.a}),r.d(t,"getShareInfo",function(){return C.a}),r.d(t,"showShareMenu",function(){return C.f}),r.d(t,"updateShareMenu",function(){return C.g}),r.d(t,"hideShareMenu",function(){return C.b}),r.d(t,"shareFileMessage",function(){return C.c}),r.d(t,"shareVideoMessage",function(){return C.d}),r.d(t,"showShareImageMenu",function(){return C.e}),r.d(t,"stopPullDownRefresh",function(){return T.b}),r.d(t,"startPullDownRefresh",function(){return T.a}),r.d(t,"setNavigationBarTitle",function(){return x.b}),r.d(t,"setNavigationBarColor",function(){return x.a}),r.d(t,"pageScrollTo",function(){return j.a}),r.d(t,"createIntersectionObserver",function(){return A.a}),r.d(t,"getMenuButtonBoundingClientRect",function(){return E}),r.d(t,"downloadFile",function(){return D}),r.d(t,"disableAlertBeforeUnload",function(){return M}),r.d(t,"enableAlertBeforeUnload",function(){return N}),r.d(t,"getLocation",function(){return L.b}),r.d(t,"chooseLocation",function(){return L.a}),r.d(t,"getExtConfigSync",function(){return R.a}),r.d(t,"setStorageSync",function(){return U.h}),r.d(t,"getStorageSync",function(){return U.d}),r.d(t,"removeStorageSync",function(){return U.f}),r.d(t,"clearStorageSync",function(){return U.b}),r.d(t,"setStorage",function(){return U.g}),r.d(t,"getStorage",function(){return U.c}),r.d(t,"removeStorage",function(){return U.e}),r.d(t,"clearStorage",function(){return U.a}),r.d(t,"onError",function(){return B.b}),r.d(t,"offError",function(){return B.a}),r.d(t,"onUnhandledRejection",function(){return F.b}),r.d(t,"offUnhandledRejection",function(){return F.a}),r.d(t,"onPageNotFound",function(){return G.b}),r.d(t,"offPageNotFound",function(){return G.a}),r.d(t,"on",function(){return q}),r.d(t,"off",function(){return z}),r.d(t,"openSetting",function(){return W}),r.d(t,"navigateToMiniProgram",function(){return K}),r.d(t,"navigateBackMiniProgram",function(){return Y}),r.d(t,"openEmbeddedMiniProgram",function(){return V}),r.d(t,"offEmbeddedMiniProgramHeightChange",function(){return X}),r.d(t,"onEmbeddedMiniProgramHeightChange",function(){return J});var n=r("Q56H"),a=r("MLLI"),o=r("9DaQ"),i=r("mM1a"),s=r("9ZMt"),c=r("h+Rz"),u=function(e){return e.barCode="barCode",e.qrCode="qrCode",e.datamatrix="datamatrix",e.pdf417="pdf417",e}({});function d(e){var t=e.scanType,r=c.a.scanCode;return s.default&&s.default.getEnv&&"ant"===s.default.getEnv()&&(t=function(e){var t;void 0===e&&(e=[u.barCode,u.qrCode]);var r=((t={})[u.datamatrix]="dmCode",t[u.pdf417]="pdf417Code",t);return e.map(function(e){return r[e]?r[e]:e})}(t),r=c.a.scan),r({scanType:t})}var l=r("HSl3"),p=r("882d");function h(e){return c.a.chooseVideo(e)}function f(e){return c.a.saveVideoToPhotosAlbum(e)}var g=r("nibL");function v(e){return Object(g.a)(Array.isArray(e.sources),"previewMedia options.sources accept type `PreviewMediaSource[]`"),c.a.previewMedia(e)}var m=r("DHu0"),y=r("AC3C");function b(e){switch(e){case m.a.Media.SystemError:return"系统错误";case m.a.Media.NetworkError:return"网络错误";case m.a.Media.FileError:return"文件错误";case m.a.Media.FormatError:return"格式错误";default:return"未知错误";}}function _(e){return c.a.createInnerAudioContext().then(function(t){t.src=e.src,t.startTime=e.startTime||0,t.loop=e.loop||!1,t.volume=e.volume||1,t.playbackRate=e.playbackRate||1;var r=new Map,n=t.onError,a=t.offError,o=t.destroy;return t.onError=function(e){var a=function(t){e(function(e){var t=m.a.Unknown;return-1!==e.errCode&&(t=e.errCode%1e3+140),Object(y.b)({code:t,msg:b(t)})}(t))};r.set(e,a),n.call(t,a)},t.offError=function(e){var n=r.get(e);a.call(t,n)},t.destroy=function(){r.clear(),o.call(t)},t})}var O=r("MVYo");function S(){return c.a.chooseAddress().then(function(e){return{address:e.detailInfo,city:e.cityName,county:e.countyName,userName:e.userName,tel:e.telNumber,province:e.provinceName,areaCode:"",postalCode:e.postalCode}})}function P(e){return c.a.requestSubscribeMessage(e)}var w=r("akjn"),I=r("BANk"),k=r("Tr3L"),C=r("GRMa"),T=r("TO+A"),x=r("R2NP"),j=r("fChk"),A=r("Vnr7");function E(){return c.a.getMenuButtonBoundingClientRect()}function D(e){return c.a.downloadFile(e)}function M(){return c.a.disableAlertBeforeUnload()}function N(e){return c.a.enableAlertBeforeUnload(e)}var L=r("hcPn"),R=r("U0uK"),U=r("GFyo"),B=r("9+N+"),F=r("LHnf"),G=r("Xr+B"),H=r("pnMF");function q(e,t){H.a.on(e,t)}function z(e,t){H.a.off(e,t)}function W(){return c.a.openSetting()}function K(e){return c.a.navigateToMiniProgram(e)}function Y(e){return c.a.navigateBackMiniProgram(e)}function V(e){return c.a.openEmbeddedMiniProgram(e)}function X(e){return c.a.offEmbeddedMiniProgramHeightChange(e)}function J(e){return c.a.onEmbeddedMiniProgramHeightChange(e)}},"9aHS":function(e,t){e.exports={d:"shop;4;themeColors;4;biz;4;quickMode;4;enableMultiplePay;4;origin;4;loginCheck;4",e:"cashier:pay:success;cashier:pay:fail;cashier:close;cashier:ready;cashier:opened",w:"",wc:"UserAuthorize",wd:"Main",lc:"getUserInfo",p:"startPay;queryPayChannels;doPay;requestOrderPayment;extPay",pi:"beforePay;onPaySuccessSync;onPayItemClick",cc:"UserAuthorizePopup"}},"9aUh":function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},AC3C:function(e,t,r){r.d(t,"b",function(){return u}),r.d(t,"a",function(){return d});var n=r("sQvh");var a=r("P+uj");function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function i(e,t,r){return(i=o()?Reflect.construct.bind():function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return r&&Object(n.a)(o,r.prototype),o}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,Object(a.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(n.a)(o,e)})(e)}var c=function(e){var t,r;function a(t){var r,n=t.code,a=t.msg;return(r=e.call(this,a)||this).code=void 0,r.msg=void 0,r.name="TeeError",r.code=n,r.msg=a,r}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,Object(n.a)(t,r),a}(s(Error));function u(e){return new c(e)}function d(e){return{name:"TeeError",code:e.code,message:e.message,error_msg:e.message}}},AfOI:function(e,t,r){var n;r.d(t,"a",function(){return n}),function(e){e.NORMAL="normal",e.SEPARATE="separate"}(n||(n={}))},AqAW:function(e,t,r){var n=r("DXKY"),a=r("8B9M");function o(){var e=getCurrentPages()||[];return e.length?e[e.length-1].route:""}t.a={_isAppEvent:!0,on(e,t,r){var i=Object(a.a)();(r=r||this||{})._route=o(),n.a.on.apply(i,[e,t,r])},once(e,t,r){var i=Object(a.a)();(r=r||this||{})._route=o(),n.a.once.apply(i,[e,t,r])},off(e,t,r){n.a.off.apply(Object(a.a)(),[e,t,r||this||{}])},trigger(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.a.trigger.apply(Object(a.a)(),t)}}},B9LC:function(e,t,r){var n=r("DXqK");function a(e,t){this.tid=null,this.leftTime=0;var r=Date.now();t=t||{},this.isTimeList=Array.isArray(e),this.leftTime=e,this.options=t,this.isTimeList?this._walkTimeList(r,this.leftTime):this._walkTime(r,this.leftTime)}a.prototype={stop(){clearTimeout(this.tid),this.tid=null,this.stopped=!0},start(){if(!this.tid){this.stopped=!1;var e=Date.now();this.isTimeList?this._walkTimeList(e,this.leftTime):this._walkTime(e,this.leftTime)}},setTime(e){this.stop(),this.leftTime=e,this.isTimeList=Array.isArray(e),this.start()},_walkTime(e,t){t<=0?this.options.onEnd&&this.options.onEnd():this.stopped||(this.tid=setTimeout(()=>{var r=Date.now(),a=t-(r-e),o=Object(n.c)(a);this.options.onChange&&this.options.onChange(o.data,o.strData),this.leftTime=a,this._walkTime(r,this.leftTime)},this.options.timeout||500))},_walkTimeList(e,t){if(t.forEach((e,r)=>{"number"==typeof e&&e<=0&&("function"==typeof this.options.onEnd&&this.options.onEnd(r),t[r]=void 0)}),t.reduce((e,t)=>e&&void 0===t,!0))return this.stop();this.stopped||(this.tid=setTimeout(()=>{var r=Date.now(),a=t.map(t=>void 0===t?t:t-(r-e)),o=a.map(e=>void 0===e?{}:Object(n.c)(e));"function"==typeof this.options.onChange&&this.options.onChange(o.map(e=>e.data),o.map(e=>e.strData)),this.leftTime=a,this._walkTimeList(r,this.leftTime)},this.options.timeout||500))}},t.a=a},BAZ7:function(e,t){e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},BILe:function(e,t,r){r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return i});var n,a,o=r("QxN7");!function(e){e.NONE="none",e.PENDING="pending",e.READY="ready",e.ERROR="error"}(n||(n={})),function(e){e.NATIVE="native",e.YOUZAN="youzan"}(a||(a={}));var i=[o.AuthPopType.MOBILE,o.AuthPopType.PROTOCOL,o.AuthPopType.FILL_NICKNAME_AND_AVATAR,o.AuthPopType.YZ_AUTH,o.AuthPopType.FILL_YZ_AUTH]},BKUC:function(e,t,r){r.d(t,"a",function(){return a});var n=["country","province","city","county","community","addressDetail","address_detail","houseNumber"];function a(e,t,r,a){void 0===t&&(t=0),void 0===r&&(r=n.length),void 0===a&&(a="");var o=n.slice(t,r);return e[o[1]]&&e[o[1]]===e[o[2]]&&o.splice(1,1),"中国"===e[o[0]]&&o.shift(0),o.filter(t=>e[t]).map(t=>e[t]).join(a)}},BM4D:function(e,t,r){r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=r("aOlM");function a(){return wx.getApiCategory?wx.getApiCategory():wx.getEnterOptionsSync?wx.getEnterOptionsSync().apiCategory:"default"}function o(){return"embedded"===a()}function i(e){var t=a(),r=Object(n.a)(r=>{t!==r&&(t=r,e(r))},500);wx.onApiCategoryChange&&wx.onApiCategoryChange(e=>{r(e.apiCategory)}),wx.onEmbeddedMiniProgramHeightChange&&wx.onEmbeddedMiniProgramHeightChange(()=>{r(a())}),wx.onAppShow(e=>{r(e.apiCategory||a())})}},BXdv:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="".concat(e);t||(t=0);-1===r.indexOf(".")&&(r+=".");if(r+=new Array(t+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,".concat(t+1,"})?)\\d*$")).test(r)){var n="0".concat(RegExp.$2),a=RegExp.$1,o=!0;if(RegExp.$3.length===t+2){var i=n.match(/\d/g);if(parseInt(i[i.length-1],10)>4)for(var s=i.length-2;s>=0&&(i[s]="".concat(parseInt(i[s],10)+1),"10"===i[s]);s--)i[s]="0",o=1!==s;n=i.join("").replace(new RegExp("(\\d+)(\\d{".concat(t,"})\\d$")),"$1.$2")}return o&&(n=n.substr(1)),(a+n).replace(/\.$/,"")}return"".concat(e)},e.exports=t.default},BaeO:function(e,t,r){r.d(t,"a",function(){return a});var n=r("Fcif");class a{constructor(e){this.getSalesmanTradeData=e=>{var t,r;null!=(t=this.query)&&t.paymentSuccessRedirect&&(e=Object(n.a)({},e,{commonExtra:Object(n.a)({},e.commonExtra,{payment_success_redirect:null==(r=this.query)?void 0:r.paymentSuccessRedirect})}));return e},this.ctx=e.ctx}beforePageMount(e){var{query:t}=e;this.query=t,this.ctx.process.define("setSalesmanTradeData",this.getSalesmanTradeData)}pageDestroyed(){this.ctx.process.undef("setSalesmanTradeData",this.getSalesmanTradeData)}}},BoIy:function(e,t,r){r.d(t,"a",function(){return i});var n=r("Fcif"),a=r("8B9M"),o="iPhone-X"===Object(a.a)().deviceType?84:50;class i{constructor(e,t){void 0===e&&(e=30),void 0===t&&(t=10);var r=getCurrentPages(),n=r[r.length-1].__wxExparserNodeId__,a=i.instanceMap[n];if(a)return a;this.id=n,this.base=e,this.gap=t,this.iconMap={},i.instanceMap[this.id]=this}setBase(e){return this.base=e,this}setGap(e){return this.gap=e,this}setIcon(e,t){void 0===t&&(t={});var{__wxExparserNodeId__:r}=e;return this.iconMap[r]&&(t.priority=t.priority||this.iconMap[r].priority||0,t.height=0===t.height?0:t.height||this.iconMap[r].height,t.cb=t.cb||this.iconMap[r].cb),Object.keys(this.iconMap).some(e=>this.iconMap[e].priority===t.priority&&(delete this.iconMap[e],!0)),this.iconMap[r]=Object(n.a)({ctx:e},t),Object.keys(this.iconMap).sort((e,t)=>this.iconMap[t].priority-this.iconMap[e].priority).reduce((e,r,n,a)=>{var{ctx:o,priority:i,height:s,cb:c}=this.iconMap[r];return a.length>1&&i<=t.priority&&("function"==typeof c?c.call(o,e):Array.isArray(c)&&"function"==typeof c[0]&&c[0].call(o,e)),e+s+(s>0?this.gap:0)},o+this.base),this}setAlone(e,t){return Object.keys(this.iconMap).forEach(r=>{var{ctx:n,cb:a}=this.iconMap[r];r!==e.__wxExparserNodeId__&&Array.isArray(a)&&"function"==typeof a[1]&&a[1].call(n,t)}),this}destroy(e){var{__wxExparserNodeId__:t}=e;t&&(delete this.iconMap[t],0===Object.keys(this.iconMap).length&&delete i.instanceMap[this.id])}}i.instanceMap={}},Br49:function(e,t,r){var n,a,o,i;r.d(t,"a",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return i}),function(e){e.POPUP_TRIGGER="user-authorize:popup-trigger",e.POPUP_CALLBACK="user-authorize:popup-callback",e.USER_INFO_CHANGED="passport-tee-auth-success"}(n||(n={})),function(e){e.POPUP_SHOW="popup-show"}(a||(a={})),function(e){e.POPUP_VISIBLE="popup-visible",e.SHOW_TOAST="toast",e.OPEN_WEBVIEW="on-open-webview",e.POPUP_AUTH_SUCCESS="success",e.POPUP_AUTH_FAIL="fail",e.AUTH_POPUP_SHOW="auth-popup-show",e.AUTH_STATUS_CHANGE="auth-status-change"}(o||(o={})),function(e){e.MAIN="main",e.POPUP="popup"}(i||(i={}))},BrFj:function(e,t,r){r.d(t,"g",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"a",function(){return f}),r.d(t,"e",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"b",function(){return y}),r.d(t,"c",function(){return b});var n=r("Fcif"),a=r("US/N"),o=r("9DIb"),i=r.n(o);function s(){return getApp({allowDefault:!0})||{}}function c(e){return new Promise(t=>{var r=s();e&&r.prefetchCache?t(delete r.prefetchCache[e]):t(!1)})}function u(e){var t,{prefetchKey:r,fallback:a}=e;return(t=r,new Promise((e,r)=>{var{prefetchCache:n}=s(),a=(n||{})[t];return a&&a.value?a.expiredAt<Date.now()?r("cache is expired"):e(a.value):r("no cache")})).then(e=>(c(r),Object(n.a)({},e,{__isPrefetched:!0}))).catch(e=>(c(r),a()))}function d(e){var t,r=e.subKdtId||e.sub_kdt_id||0,{alias:a,umpAlias:o="",umpType:s="",type:c="",activityType:u="",activityId:d="",oid:l=0}=i()(e);return Object(n.a)({},e,{ump_alias:o,ump_type:s,activityId:d,activityType:(t=u||c,["share_goods","new_goods"].includes(t)?"":t),alias:a,subKdtId:+r,oid:l,fullPresaleSupportCart:"true",platform:"weixin",client:"weapp",isGoodsWeappNative:1,withoutSkuDirectOrder:"1",useNewSkuOrder:!0})}var l={listGoodsSalableStore:!1,hqStoreSearchService:!1};function p(e){return l.listGoodsSalableStore?Promise.reject():(l.listGoodsSalableStore=!0,Object(a.default)({path:"/wscgoods/detail-api/list-goods-salable-store.json",data:e,method:"POST",withCredentials:!0}))}var h=e=>Object(a.default)({method:"GET",path:"/wscshopcore/getPhysicalStoreList.json",data:e});function f(){return Object(a.default)({method:"GET",path:"/wscshopcore/getStoreConfig.json"})}function g(e){return Object(a.default)({path:"/v2/showcase/goods/retailSellingShops.json",data:{alias:e}})}var v=function(e,t){void 0===e&&(e={});var{goodsData:r}=e;"function"==typeof t&&r&&t(e)},m=(e,t)=>new Promise((r,n)=>{(function(e){var t=d(e);return Object(a.default)({path:"/wscgoods/tee-app/detail.json",data:t,withCredentials:!0,origin:"h5m",options:{useCdn:!0}})})(e).then(function(e){if(void 0===e&&(e={}),v(e,t),function(e){void 0===e&&(e={});var{needRedirect:t,goodsData:r}=e;return!(!t&&r)}(e))return r(e)}).catch(e=>{}),function(e){var t=()=>Object(a.requestV2)({path:"/wscgoods/tee-app/detail-v2.json",data:d(e),withCredentials:!0});return u({prefetchKey:e.prefetchKey||"fetch:lanunch:goodsDetail",fallback:t}).then(e=>e&&e.goodsData?e:t())}(e).then(function(e){void 0===e&&(e={}),v(e,t),r(e)}).catch(e=>n(e))}),y=()=>Object(a.default)({path:"/wscgoods/detail-api/cart-count.json",withCredentials:!0});function b(e){return Object(a.requestUseCdn)({path:"/wscdeco/biz-component/list.json",data:e,withCredentials:!0})}},BwoW:function(e,t,r){r.d(t,"a",function(){return l});var n=r("Y28S"),a=r("w2Y9"),o=r.n(a),i=r("US/N"),s=r("YeA1"),c=r("9ZMt"),u=r("zjWU"),d=function(e,t){void 0===t&&(t="error"),u.a.end({name:u.b.goods_detail,type:t,level:"error"===t?"error":"info",extra:{message:e}})},l=(e,t,r)=>{var{msg:a,data:u={},message:l,deal:p}=e;if(p)return Promise.reject(e);"object"==typeof e&&(e.deal=!0);var{NO_TRY:h}=e,f=a||l||u.msg||u.message||"",g=e.code||u.code,{showError:v=!0}=u||{},m=!0;if(301010050!==g&&5001001!==g&&1001001!==g||(h=!0,m=!1),302===g){var{location:y}=u||{};f="Redirect to "+y,v=!1;var{sl:b,sls:_}=t,O=Object(n.c)({sl:b,sls:_});if(y){var S=o.a.add(y,O);return Object(s.a)().dmc.redirectTo(S),void d("特殊商品重定向","finish")}m=!1}160900100===g&&(v=!1,f="多网点，需要跳转至网点选择",m=!1),429!==g&&101302001!==g&&101302002!==g||(f="店铺太火爆啦，请稍后重试",m=!1),m&&function(e,t,r){void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r={});var{code:n=0,message:a="",stack:o=""}=t,s=JSON.stringify({title:e,extra:{code:n,message:a,stack:o,info:t,extra:r}});Object(i.default)({path:"/wscgoods/log",method:"GET",data:{logtype:c.default.getEnv(),msg:s,timestamp:+new Date}})}("ext-tee-wsc-goods::page-setup:error",e,{query:t}),e.isClientError&&(f="系统繁忙，请刷新重试"),d(h?"商品不存在":f||"系统繁忙，请刷新重试",h||g||!v?"finish":"error");var P,w={},I=(getCurrentPages()||[]).length>1,k=f||"系统繁忙，请刷新重试",C=h?"进店逛逛":"刷新";return v&&m&&(P={name:"errorDialog",message:k,extra:e},getApp().logger.requestError(P)),v&&wx.showModal({content:k,showCancel:I,cancelText:"返回",confirmText:C,confirmColor:"#EE0A24",cancelColor:"#323233",success(e){e.confirm?h?Object(s.a)().dmc.switchTab("Home",w):r():e.cancel&&I&&c.default.navigateBack()},fail(){wx.showToast({message:k})}}),Promise.reject(e)}},C6tv:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},CBNg:function(e,t){e.exports={d:"retailLoading;2;coreReady;0;orderNo;2;orderNos;2;limitOrder;2;asyncOrder;2;orderCreation;2;state;2;contact;0;prepareData;0;confirmData;0;address;2;expressType;0;display;0;tradeTag;0;groupon;0;env;0;currentAddress;0;currentContact;0;selfFetchTime;0;receiveByGroupHeader;0;addressEditable;0;postage;0;goods;0;delivery;0;dine;2;pickUpWay;2;invoice;0;order;0;customerCards;0;unavailableCustomerCards;0;displayCard;0;displayFreeCard;0;orderCreated;0;showPoiPrompt;0;forcePoiSelect;0;shop;0;extra;0;valueCard;0;rechargeFreeOrderRule;0;periodBuy;0;memberCard;0;pointDeduction;0;pointsName;0;points;0;pay;0;fansBenefit;0;hasHaitaoGoods;0;idcard;0;ignoreIdBinding;0;storeGiftsInfo;0;dataLoaded;0;isChoosedCard;0;guaranteeOrderInfo;0;isOrderPage;0;guaranteeFreightBarPaddingConfig;0;useBeforePayData;0;guarantee;0;shopConfig;0;hotel;0;allMeetReduceActivities;0;showWxSubscribe;0;sellingPoint;0;appEnv;0;selfFetch;0;orderKeepApply;0;payAssetActivityTagDesc;0;shopStoredDiscountInfo;0;useStoredCustomerDiscount;0;useStoreBalancePayInFull;0;useStoredMemberCustomerDiscount;0;recommendDetaid;0;drugMessage;0;isPrescriptionDrugGoods;0;enableUseOrderBehaviorParam;0;enableUseUserAuthorize;0;isDrugShop;0;orderPaid;0;isScanCodeBuy;0;bookKey;0;totalPrice;0;isDepositPresale;0;prepayCardAvailable;0;prepayCardAvailableExclusion;0;prepayCardTotalAmount;0;couponDecrease;0;valueCardDecrease;0;prepayCardDecrease;0;couponDecreasedPhasePayment;0;finalPrice;0;finalNeedPayPrice;0;haitaoZeroOrder;0;orderFinalPrice;0;showDisplayCardPrice;0;balanceMkExclusion;0;isExistDiscountExcludePrePayCard;0;asyncOrderUnLimitCode;0;meituanCoupons;2;showPrepay;2;orderResult;0;umpBlockBase;0;retailLoading;4;grouponModel;4;couponModel;4;yzGuarantee;4;yzGuaranteeInfo;4;yzGuaranteeDocs;4;kdtId;4;presentData;4;themeColors;4;isTTVerifyScene;4;payRechargeInfo;4;orderedChosenCoupons;4;isRetailOrderScene;4",e:"onPrepareByBookKey;onCreateOrder;onConfirmOrder;follow:show;trade-buy-core:validate-effect",el:"trade-recharge:on-close;trade-recharge:on-select;recharge-free-order:on-confirm",w:"QueueMain",wc:"QueueMain",wd:"Main",l:"validateIdCard",lc:"",p:"mutateState;prepareByBookKey;createOrder;confirmOrder;createPrepay;genPrepareByBookKeyParams;getCreateOrderParam;genConfirmParams;genCreateParams;handleAfterPrepareByBookKey;handleBeforeFetchShow;handleFetchShowResult;handlePrepareErrorOnFollow;handleBeforeCreateOrder;handleAfterCreateOrder;handleCreateOrderError;handleAfterOrderPrepay;switchAddressTab;setSelfFetch;selectContact;selectAddress;setNewContact;selectExpressType;setSelfFetchTime;setPeriodBuyChosenIndex;setPointDeductionUsed;setPointDeductionCost;setCustomCard;setDisplayCard;setOrderMessage;setOrderPrivacyBill;setInvoiceSubmit;mutateState;setVerifyFail;updateAddress;addAddress;setAddressId;deleteAddress;setIdcard;setPrepayCardCheckStatus;setDisableStoredDiscount;setOrderForbidCoupon;setOrderForbidPreference;getDeliveryParam;updateAddressState;setDepositAgreement;fetchPromotion;modifyCacheOrder;setUmpActivity;setBestActivity;setIgnoreVirtualCoupon;handlePrepareDefaultError;saveContact;checkOrderPay;updateByCrossStoreSelfFetchCache;updateContactState;deleteContact;resetTradeBuyCore",pi:"genCreateParams;genConfirmParams;genPrepareByBookKeyParams;hook:afterPrepareByBookKey;hook:afterPrepareByBookKeyError;hook:beforeFetchShow;hook:afterFetchShow;hook:afterFetchShowError;hook:beforeCreateOrder;hook:afterCreateOrder;hook:afterCreateOrderError;hook:afterPrepay;confirmOrder;reTryInit;submitOrderAfterRisk;hook:beforeUpdateAddress;hook:mutateStateAfterFetch;handleAfterCreateOrderParallel;onExpressChanged;freeOrderJumpToResult;genStartPayParams;doRecharge;saveContact;showPrePayCardRecharge;onPaySuccess;submitOrder;createPrepay;setCustomCard;updateContactState",c:"",cc:"",li:"pageDestroyed"}},CR7H:function(e,t,r){r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"a",function(){return u});var n,a=r("bb6g"),o=r("oGZU"),i=function(e){n=e},s=function(e,t){return Object(o.e)(e,Object(a.__assign)(Object(a.__assign)({},t),{query:Object(a.__assign)({kdt_id:n},null==t?void 0:t.query)}))},c=function(e){return void 0===e&&(e={}),s("/passport/api/authorize-dialog/user-auth.json",{method:"POST",data:Object(a.__assign)({protocolVersion:1},e)})},u=function(e){return void 0===e&&(e={}),Object(o.a)(Object(a.__assign)({kdt_id:n},e))}},CzB4:function(e,t,r){var n=r("w5ta"),a=r("RW/s"),o=r("0KRy");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},DHu0:function(e,t,r){t.a={ParamsError:100,Timeout:996,NoSupport:997,Unknown:998,Navigate:{},Device:{},Location:{Unsupport:130,Timeout:131},Media:{InvalidVideoSelection:140,SystemError:141,NetworkError:142,FileError:143,FormatError:144},Network:{},View:{},Storage:{},Setting:{},Message:{},Share:{},Log:{},Event:{}}},DLzb:function(e,t,r){r.d(t,"a",function(){return n});var n=(e,t)=>{e.logger.setEvent({params:{slg:t}}),e.logger.setContext({slg:t},t?30:-1)}},DRK6:function(e,t){},DXyM:function(e,t,r){r.d(t,"a",function(){return u});var n=r("+Y/m"),a=r.n(n),o=r("6iAT"),i=r.n(o),s=r("ucHI"),c=r.n(s);class u{constructor(e){this.ctx=e.ctx}}u.widgets={Main:a.a,EcardIntro:i(),CouponIntro:c()}},DZMJ:function(e,t,r){var n=r("FEiO"),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},E5w5:function(e,t,r){var n;!function(e){e.IOS="ios",e.ANDROID="android",e.UNKNOWN="unknown"}(n||(n={}))},Eagg:function(e,t,r){r.d(t,"e",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return c});r("eijD"),r("9KEa"),getApp();var n={};function a(){if(n.scene)return n.scene;var{scene:e}=wx&&wx.getEnterOptionsSync?wx.getEnterOptionsSync()||{}:wx.getLaunchOptionsSync()||{};return n.scene=e,n.scene}function o(){var e=a();return[1177,1176,1175,1195,1208].includes(e)}function i(){return 1208===a()}function s(){var e=a();return 1177===e||1176===e}wx&&(null==wx.onAppHide||wx.onAppHide(()=>{n={}}));o();function c(){return 1195===a()}},ErZi:function(e,t){e.exports={d:"",e:"",el:"",wd:"Widget",p:"getImSocketIns",pi:""}},EzII:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n={};return e&&0!==e.length&&"string"==typeof t?(e.forEach(function(e,a){var o=r+a,i=t?"".concat(t,"[").concat(o,"]"):o;n[i]=e}),n):n};t.default=n,e.exports=t.default},F6OL:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={compareVersions:((n=r("NgLJ"))&&n.__esModule?n:{default:n}).default};t.default=a,e.exports=t.default},F6Qw:function(e,t,r){r.d(t,"a",function(){return o});var n=r("ABDU"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx,this.widget=a.a}}o.widgets={MainWidget:a()}},F9Sv:function(e,t,r){r.d(t,"a",function(){return s});var n=r("9KEa"),a=r("QLod"),o=20;function i(e,t,r){return Math.round(e*r/t)}var s=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var{windowWidth:r}=Object(n.b)(),{supportCustomNav:s=!1}=t,{detail:c={},touches:[u={}]=[]}=e,d=c.x||u.pageX,l=c.y||u.pageY;if("number"!=typeof d||"number"!=typeof l)return null;var p=Object(a.e)();if(s){if(l<=p)return null;l-=p}return{loc_x:i(d,r,o),loc_y:i(l,r,o)}}},FEiO:function(e,t,r){var n=r("LSEb")(Object,"create");e.exports=n},FWHJ:function(e,t){e.exports={d:"delivery;4;themeColors;4;themeCSS;4;themeTag;4;address;4;selfFetch;4;extra;4;kdtId;4;contact;4",e:"",el:"showDeliveryScopePopup;showTimePickerPopup",w:"TimePicker;ContactList;DeliveryScopePopup",wc:"",wd:"Main",l:"",lc:"",p:"",pi:"",c:"",cc:""}},FfeU:function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},GE03:function(e,t,r){var n=r("xkFB"),a=r("4mhO"),o=r("4a20");function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},GFa9:function(e,t,r){var n=r("2wjL"),a=r("8B9M"),o={navigate:i,redirect:s};function i(e){void 0===e&&(e={}),(getCurrentPages()||[]).length>=10?s(e):wx.navigateTo(e)}function s(e){void 0===e&&(e={}),wx.redirectTo(e)}t.a={switchTab:function(e,t){void 0===e&&(e={}),void 0===t&&(t="navigate");var r=Object(a.a)(),n=o[t]||i;r.isSwitchTab(e.url).then(t=>{if(t)return wx.reLaunch(e);n(e)})},navigate:i,redirect:s,reLaunch:function(e){void 0===e&&(e={}),wx.reLaunch(e)},contactBack:function(e){var{detail:t}=e;t.path&&wx.navigateTo({url:n.a.add(t.path,t.query)})},navigateWithBack:function(e){var t=function(e){var t=-1,r=getCurrentPages()||[],a=r.findIndex(t=>{var{route:r,options:a}=t,o=n.a.add(r,a);return o===e||"/"+o===e});a>-1&&(t=r.length-a-1);return t}(e.url);if(t>-1)return wx.navigateBack({delta:t});i(e)}}},GGNd:function(e,t,r){r.d(t,"a",function(){return a});var n=r("/XVY"),a=Object(n.a)({tags:{default:()=>[]},type:{default:""}})},GI0s:function(e,t,r){var n=r("jgJv"),a=r("vMVM"),o=r("HLVI"),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},GRMa:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return d});var n=r("h+Rz");function a(e){return n.a.getShareInfo(e)}function o(e){return n.a.showShareMenu(e)}function i(e){return n.a.updateShareMenu(e)}function s(e){return void 0===e&&(e=["shareAppMessage","shareTimeline"]),n.a.hideShareMenu(e)}function c(e){return n.a.shareFileMessage(e)}function u(e){return n.a.shareVideoMessage(e)}function d(e){return n.a.showShareImageMenu(e)}},GUWE:function(e,t,r){r.d(t,"a",function(){return u}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return l});var n=r("Fcif"),a=r("ONqW"),o=r("NHEX"),i=r.n(o),s=r("noo5"),c=(r("BrFj"),r("hcPn"));var u=(e,t)=>t.needGetLocation?Object(c.b)().then(e=>{var{longitude:t,latitude:r}=e;return Promise.resolve({lng:+t,lat:+r})}).catch(()=>Promise.resolve({lng:0,lat:0})):Promise.resolve({lat:0,lng:0});function d(e,t){var{lng:r,lat:o}=t,{goodsData:s,shopData:c,pageParams:u,offlineData:d,shopMetaInfo:l}=e,{alias:p,goods:{id:h},shopConfig:f={},delivery:g={}}=s,{kdtId:v}=c,{id:m}=d||{},{shopType:y,shopRole:b}=l,{supportExpress:_=!0,supportLocalDelivery:O=!0,supportSelfFetch:S=!0}=g,{hideShoppingCart:P=0,freightInsurance:w=1,isGift:I=1,isWebImInGoods:k=1,isWish:C=1,showBuyBtn:T=1,showShopBtn:x=1,showWscWebIm:j=1,scrmCreditDiyName:A="{}",goodsActivityTagsPreposition:E=1}=f,D={};try{D=JSON.parse(A)}catch(e){}var{name:M="积分"}=D,N=Object(n.a)({},u,{alias:p,goodsId:h,kdtId:v,offlineId:m,stockNum:i()(s,"skuInfo.spuStock.stockNum",0),supportExpress:_,supportLocalDelivery:O,supportSelfFetch:S,shopType:y,shopRole:b,pointsName:M,hideShoppingCart:P,freightInsurance:w,isGift:I,isWebImInGoods:k,isWish:C,showBuyBtn:T,showShopBtn:x,showWscWebIm:j,soldOutRecommendSwitch:i()(s,"shop.multiStore.setting.soldOutRecommendSwitch",!1),isFastBuy:i()(s,"fastbuyFeature.isFastBuy",!1),buyBtnConfig:i()(s,"shopConfig.buyBtnConfig",""),goodsActivityTagsPreposition:E,extra:{needUnstartActivityInfo:"true",fullPresaleSupportCart:"true"}}),{shareUserId:L,shareGroupId:R}=u||{};N.extra=Object(n.a)({},N.extra,{shareUserId:L,shareGroupId:R});var U=Object(a.a)().getLogParams()||{},{scene:B}=U.context||{};1177===B&&(N.extra={sceneId:String(B)},d.status&&d.offlineSettings&&d.offlineSettings.separateStock&&(N.extra.independentStock="1"));return Object(n.a)({},N,{lng:r,lat:o})}function l(e,t){return Promise.resolve().then(()=>u(e,t.offlineData)).then(e=>{var{lng:r,lat:a}=e;return((e,t)=>{var{lng:r=0,lat:a=0}=t,{offlineData:o={}}=e,i=d(e,{lng:r,lat:a});return Promise.resolve(e).then(function(t){void 0===t&&(t={});var c=function(e,t){void 0===e&&(e={});var{marketing:r,pageFeature:n,quotaUsed:a,hasPurchaseRight:o,haitaoTariffAmount:i="",salableStores:s,soldNum:c,spuStock:u,skuStocks:d,buyLimitType:l,physicalStores:p,buyLimitGuideInfo:h,bosWorkFlow:f,itemExtendInfo:g={},logistics:v,wholesalerModel:m}=e;return{pageFeature:n,goodsExtra:{quotaUsed:a,hasPurchaseRight:o,haitaoTariffAmount:i,pointsName:t},buyLimitType:l,salableStores:s,soldNum:c,spuStock:u,skuStocks:d,isFastBuy:!1,marketing:r,physicalStores:p,buyLimitGuideInfo:h,bosWorkFlow:f,itemExtendInfo:g,logistics:v,wholesalerModel:m}}(t,i.pointsName),{lng:u,lat:d}=o.address||{},l=Object(s.calculateDistance)(d,u,a,r);return c.geoLocationData={distance:l,lng:r,lat:a},c.userGoodsStateParams=i,Promise.resolve(Object(n.a)({},e,c))})})(t,{lng:r,lat:a})})}},"GXW/":function(e,t,r){var n=r("Fcif"),a=r("lOd/"),o=r("OPDa"),i=r("x5Yp"),s=r("GrZP");t.a=Behavior({behaviors:[s.a],methods:{getComponentLoggerExtraParams(e){return void 0===e&&(e={}),Object(i.a)(e)&&(e=this.data.componentData),Object(a.a)(e)},getComponentIndex(){var{componentData:e}=this.data,{componentIndex:t=0}=e;return t},getComponentLoggerType(e){return void 0===e&&(e=""),e||(e=this.data.componentData.type),Object(a.b)(e)},getLoggerSpm:()=>o.a.getPageSpmTypeId(),getPageRandomNumber:()=>a.c,getBannerId(e){return void 0===e&&(e=0),this.getLoggerSpm()+"~"+this.getComponentLoggerType()+"."+(this.getComponentIndex()+1)+"~"+e+"~"+this.getPageRandomNumber()},getCloudLoggerInfo(e){var t=getCurrentPages(),{loggerParams:r,top:a,left:o,title:i}=e,{components_style_is_hotarea:s,item_type:c}=r||{},u=s?{hotarea_top:a,hotarea_left:o}:{};return"image_ad"===c&&(u.image_title=i),Object(n.a)({page_url:t[t.length-1].route,img_url:e.imageUrl},u)}}})},GYYO:function(e,t,r){r.d(t,"a",function(){return n});var n=Behavior({properties:{url:String,linkType:{type:String,value:"navigateTo"}},methods:{jumpLink(e){void 0===e&&(e="url");var t=this.data[e];t&&("navigateTo"===this.data.linkType&&getCurrentPages().length>9?wx.redirectTo({url:t}):wx[this.data.linkType]({url:t}))}}})},GrZP:function(e,t,r){var n=r("XCh3");t.a=Behavior({methods:{ensureAppLogger(e,t){if("view"!==e||t.length){var r=Object(n.b)(e,t);Object(n.a)(r)}}}})},"HC+1":function(e,t,r){r.d(t,"b",function(){return B}),r.d(t,"a",function(){return F});var n=r("bb6g"),a=r("pn6R"),o=r.n(a),i=r("QxN7"),s=r("R4YI"),c=r("BILe"),u=r("CR7H"),d=r("mQt2"),l=i.platform.authLogger.logAll,p=function(e){return Object(d.a)().then(function(t){return t.getUserAuthData(e)})},h=function(e){return Object(d.a)().then(function(t){return t.getFallbackUserAuthData(e)})},f=function(e){return Object(u.c)(Object(n.__assign)({url:""},e)).catch(function(t){throw l({logName:"更新用户授权状态异常",logData:Object(n.__assign)(Object(n.__assign)({},e),{errMsg:Object(i.getErrorMsg)(t)})}),t})},g=r("eWMZ"),v=r("YeA1"),m=function(e){var t="授权组件初始化降级",r=Object(n.__assign)(Object(n.__assign)({},e),{tee_env:i.teeEnv,component:"user_authorize"});!function(e){var t=(Object(v.a)()||{}).logger;"function"==typeof(null==t?void 0:t.log)&&t.log(e)}({ei:"user_authorize_demotion",et:"custom",en:t,params:r}),i.platform.authLogger.logSkynet(t,r)},y=r("bmpj"),b=i.platform.authLogger.logAll,_=function(e){var t=e.scene,r=e.authTypeList,n=e.kdtId,a=e.appId,o=e.ignoreCache,s=e.nativeAbility,c=e.needLatestNicknameAndAvatar,u=e.needUnionId,d=e.retryCount,l=void 0===d?0:d,f=e.comId,v=p({authTypeList:r,scene:t,kdtId:n,appId:a,nativeAbility:s,needLatestNicknameAndAvatar:c,needUnionId:u,ignoreCache:o}),y=new Promise(function(e,t){setTimeout(function(){return t("获取授权数据超时")},g.b)});return Promise.race([v,y]).then(function(t){return{authData:t,authOptions:e}}).catch(function(n){var a=Object(i.getErrorMsg)(n);if(b({logName:"授权组件获取数据异常",logData:{errMsg:a,error:n,options:e,retryCount:l,comId:f}}),!(l>=3))throw n;return h({scene:t,authTypeList:r,needLatestNicknameAndAvatar:c,needUnionId:u}).then(function(t){return m({reason:a,options:e}),{authData:t,authOptions:e,downgrade:!0,error:n}})}).catch(function(e){throw e})},O=function(e){var t=e.authTypeList,r=e.hasAuth,n=e.scene,a=e.userDeny,o=e.bizDataMap,i=e.unionAuthType;return r?Promise.resolve():f(a?{denyList:t,scene:n}:{typeList:t,unionAuthType:i,bizDataMap:Object(y.a)(o)})},S=r("0WZd"),P=r("7yS6"),w=r.n(P),I=r("5Xe+"),k=r.n(I),C=i.platform.authLogger,T=C.logAuthClick,x=C.logAuthOne,j=C.logAuthEnd,A=C.logSkynet,E=w()(T,3e3,{trailing:!0}),D={getLogParams:function(e){var t=this.$_initData||{},r=t.authData||{},a=this.userInfo||{};try{var s=Object(n.__assign)(Object(n.__assign)({},e),{eventTime:Date.now(),ctx:Object(n.__assign)(Object(n.__assign)({},k()(this,["kdtId","buttonType","dialogType","authPopType","nativeAuthPopType","nativeAbility","supportFillNick","noMobileFallback","status","downgrade","authorizing"])),{cpnType:"tee",privacy:this.authState,authTypeList:this.userAuthList,authPopTypeList:this.authList,allowDenyMap:this.$_authAllowDenyMap,retryCount:this.$_retryCount,errMsg:Object(i.getErrorMsg)(this.$_error)}),biz:Object(n.__assign)(Object(n.__assign)({},k()(this,["scene","authTypeList","allowDeny","disabled"])),{cpnMode:this.type,needUnionId:this.needGetUnionId,needLatestNicknameAndAvatar:this.needUpdateNicknameAndAvatar}),userInfo:{uid:a.userId,login:Object(S.d)(a.hasLogin)},init:{downgrade:t.downgrade,errMsg:Object(i.getErrorMsg)(t.error),privacy:r.authState,customAuthData:r.customAuthData,sceneAuthData:r.sceneAuthData}});return o()(s)}catch(e){return A("授权日志转换异常",{errMsg:Object(i.getErrorMsg)(e),err:e}),{}}},logAuthClick:function(e){var t=this.getLogParams(e);E(t)},logAuthOne:function(e){var t;x(this.getLogParams({auth:{cur:{mobile:e.mobile,authPopType:e.authPopType,authTypeList:e.authTypeList,authPopTypeList:e.authPopTypeList,agree:Object(S.d)(e.agree),allowDeny:Object(S.d)(e.allowDeny),verifyType:null!==(t=e.verifyType)&&void 0!==t?t:i.MobileVerifyType.Unknown},his:this.$_authHistory}}))},logAuthEnd:function(e){var t=(e||{}).success;j(this.getLogParams({success:Object(S.d)(t)}))}},M={execAuthOneAfterHooks:function(e){var t=this,r=e.agree,n=e.authTypes,a=void 0===n?[]:n,o={actionType:r?i.AuthActionType.Agree:i.AuthActionType.Disagree,authTypeList:a,authState:this.authState,leftAuthTypeList:this.userAuthList.slice(0),pageUrl:Object(i.getPageURL)()};return i.hooks.executeHookAsync(function(){var e;return[null===(e=t.hooks)||void 0===e?void 0:e.authItemAfter,i.hooks.authorizeHook.authItemAfter.get()].filter(Boolean)},[o],!0).then(function(e){var t=e[0],r=t;return Array.isArray(t)&&t.length&&(r=t[0]),void 0===r||!!r}).catch(function(e){return!1})}},N=i.platform.authLogger.logAll,L=Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},D),M),{handleBtnClick:function(e){Object(s.b)(s.a.buttonClickAfter.get),this.logAuthClick({btnDetail:e})},handleBtnDisabledClick:function(e){var t=this,r=function(r){t.logAuthClick({message:r,btnDetail:e})};r("授权组件按钮快速点击"),!this.authorizing&&this.disabled&&(this.status===c.a.ERROR&&(this.$_retryCount=this.$_retryCount+1||1,r("授权组件按钮点击重试"),this.rerender({source:"retry",ignoreCache:!0})),this.showToast({message:"系统处理中，请稍后重试",forbidClick:!0}))},rerender:function(e){var t=this;if(!this.kdtId)return Promise.reject("unready");if(this.disabled)return this.buttonType=-1,this.status=c.a.NONE,Promise.reject("disabled");Object(u.b)(this.kdtId);var r=e||{},n=r.source,a=r.nativeAbility,o=r.ignoreCache,s=void 0!==o&&o,d=Math.random();return this.$_renderSeq=d,this.status=c.a.PENDING,this.fetchAuthData({ignoreCache:s,nativeAbility:a}).then(function(e){if(t.$_renderSeq===d)return t.renderAuthData(e)}).then(function(e){e&&(t.$_error=null,t.status=c.a.READY)}).catch(function(e){throw t.status=c.a.ERROR,t.$_error=e,N({logName:"授权组件渲染异常",logData:{errMsg:Object(i.getErrorMsg)(e),error:e,comId:t.$_event.id}}),"retry"===n&&t.showToast({message:"授权初始化失败，请稍后重试",forbidClick:!0}),e})},fetchAuthData:function(e){var t=e||{},r=t.ignoreCache,n=t.nativeAbility;return _({ignoreCache:r,nativeAbility:n,kdtId:this.kdtId,appId:this.appId||Object(i.getAppId)(),scene:this.scene,authTypeList:this.authTypeList,needLatestNicknameAndAvatar:this.needUpdateNicknameAndAvatar,needUnionId:this.needGetUnionId,retryCount:this.$_retryCount,comId:this.$_event.id})},renderAuthData:function(e){var t=this,r=e.authData,n=e.downgrade,a=r.authPopType,i=r.authState,s=r.authTypeList,c=r.authPopTypeList,u=r.userInfo,d=r.platformConfig,l=r.authButtonType,p=r.authDialogType,h=r.sceneAuthData,f=r.nativeAuthPopType,g=r.nativeAbility,v=r.supportFillNickAvatar,m=r.randomNickList,y=r.noMobileFallback,b=(h||{}).authAllowDenyMap;return this.authPopType=a||"",this.buttonType=l||"",this.dialogType=p||"",this.authState=i,this.userAuthList=s,this.authList=c,this.nativeAuthPopType=f||"",this.userInfo=u,this.supportFillNick=v,this.aNickList=m,this.noMobileFallback=!!y,this.config=d,this.downgrade=n,this.$_nativeAbility=g,this.$_authAllowDenyMap=b,Promise.resolve().then(function(){t.$_initData=o()(e)}).catch(function(e){}),e},updateAuth:function(e){var t=e.authTypeList,r=e.unionAuthType,n=e.userDeny,a=e.hasAuth,o=e.bizDataMap;return O({scene:this.scene,authTypeList:t,unionAuthType:r,hasAuth:a,userDeny:n,bizDataMap:o})},authNext:function(e){var t=this,r=e.authPopType,n=e.authTypeList,a=e.agree,o=e.newRenderData.authData;return 0===o.authTypeList.length&&(this.logAuthEnd({success:!0}),this.success()),this.execAuthOneAfterHooks({authTypes:n,agree:a}).then(function(e){e&&a&&o.authPopType!==r&&t.showPopup()})},handleAuthStatusChange:function(e){var t=(e||{}).authorizing;this.authorizing=t},handleAuthorize:function(e){var t=this,r=e||{},a=r.userAuthList,o=void 0===a?[]:a,s=r.type,c=r.popupType,u=r.unionAuthType,d=r.hasAuth,l=r.data,p=r.cb,h=r.onError,f=r.userDeny,g=r.allowDeny,v=l||{},m=v.mobile,y=v.verifyType,b=v.needMobileAuth,_=!f,O={authPopType:s,agree:_,authTypeList:o,allowDeny:g,mobile:m,verifyType:y,needMobileAuth:b},P=function(e){try{p&&p()}catch(e){}return e};if(!s)return P(),void this.success();var w=Array.isArray(s)?s:[s];this.authorizing=!0,this.updateAuth({authTypeList:o,unionAuthType:u,userDeny:f,hasAuth:d,bizDataMap:this.bizDataMap}).then(function(){if(t.$_authHistory=(t.$_authHistory||[]).concat(s+"_"+Object(S.d)(_)),t.logAuthOne(O),_&&w.includes(i.AuthPopType.MOBILE))return new Promise(function(e){t.$emit("on-login",function(){return e()})})}).then(function(){return t.fetchAuthData({ignoreCache:!0})}).then(P).then(function(e){return Promise.resolve().then(function(){_&&t.exposeAuthPopupEvent(w,c,"auth-popup-allow"),t.$_event.authSuccess({authTypeList:o,authPopTypeList:w,scene:t.scene,userDeny:f})}),e}).then(function(e){return Object(S.c)(200).then(function(){return e})}).then(function(e){return t.renderAuthData(e),t.authNext({authPopType:s,authTypeList:o,agree:_,newRenderData:e})}).catch(function(e){var r=Object(i.getErrorMsg)(e);throw N({logName:"单项授权异常",logData:Object(n.__assign)(Object(n.__assign)({},O),{errMsg:r,err:e})}),t.showToast({message:"授权失败，"+(r||"请稍后重试")}),h&&h(e),e}).finally(function(){t.authorizing=!1})}}),R=r("pTxV"),U={appId:String,customStyle:String,scene:String,authTypeList:{type:Array,value:[]},kdtId:Number,trigger:String,needUpdateNicknameAndAvatar:{type:Boolean,default:!1},needGetUnionId:{type:Boolean,default:!1},type:{type:String,default:R.UserAuthorizeType.NORMAL},zIndex:Number,desc:{type:String,default:void 0},disabled:{type:Boolean,default:!1},privacyProtocol:Object,userProtocol:Object,popupCustomStyle:String,allowDeny:Boolean,protocolSource:String,protocolIsCloudSlot:{type:Boolean,default:!1},bizDataMap:Object,hooks:Object},B=function(e){return Object(n.__assign)(Object(n.__assign)({},U),e)},F=function(e){return Object(n.__assign)(Object(n.__assign)({},L),e)}},HE1N:function(e,t,r){var n=r("cm7J"),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},HLVI:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},HbRL:function(e,t,r){function n(e,t){try{if(e===t||!e||!t)return 0;for(var r=e.split("."),n=t.split("."),a=r.length,o=n.length,i=0,s=Math.min(a,o);i<s;i++){var c=parseInt(r[i],10),u=parseInt(n[i],10);if(isNaN(c)&&(c=0),isNaN(u)&&(u=0),c!==u)return c>u?1:-1}return a>o?1:a<o?-1:0}catch(e){return-1}}r.d(t,"a",function(){return n})},"HdG+":function(e,t){e.exports={d:"cloudDesignConfig;4",w:"ProtocolPopup;ProtocolContent;CloudProtocolContent",wc:"ProtocolContent;CloudProtocolContent",wd:"InjectProtocol",p:"invokeProtocolCloud",pi:"invokeAuthCloud"}},Hhx2:function(e,t,r){r.d(t,"a",function(){return i}),r.d(t,"h",function(){return c}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"i",function(){return l}),r.d(t,"c",function(){return p}),r.d(t,"g",function(){return h}),r.d(t,"f",function(){return f}),r.d(t,"b",function(){return g});var n=r("Fcif"),a=r("taYb"),o=r("a1Mm"),i=function(e){void 0===e&&(e={});var t=(e=a.a.toCamelCase(e)).tree&&e.tree.map(e=>{var t=e.v.map(e=>(e.imgUrl=Object(o.a)(e.imgUrl),e));return Object(n.a)({},e,{v:t})});return Object(n.a)({},e,{tree:t})},s=function(e){void 0===e&&(e=[]);var t={};return e.forEach(e=>{t[e.kS]=e.v}),t},c=function(e,t){void 0===e&&(e=[]);var r=Object.keys(t).filter(e=>""!==t[e]);return e.length===r.length},u=function(e,t){return void 0===e&&(e=[]),e.filter(e=>Object.keys(t).every(r=>String(e[r])===String(t[r])))[0]},d=function(e,t){if(void 0===e&&(e=[]),0===e.length)return[];var r=s(e);return Object.keys(t).reduce((e,n)=>{var a=r[n],o=t[n];if(""!==o){var i=a.filter(e=>e.id===o)[0];i&&e.push(i)}return e},[])},l=function(e,t,r){void 0===e&&(e=[]);var{key:a,valueId:o}=r,i=Object(n.a)({},t||{},{[a]:o}),s=Object.keys(i).filter(e=>""!==i[e]);return e.filter(e=>s.every(t=>String(i[t])===String(e[t]))).reduce((e,t)=>e+t.stockNum,0)>0},p=(e,t)=>{var r=[];return(e||[]).forEach(e=>{if(t[e.kId]&&t[e.kId].length>0){var a=[];e.v.forEach(r=>{t[e.kId].indexOf(r.id)>-1&&a.push(Object(n.a)({},r))}),r.push(Object(n.a)({},e,{v:a}))}}),r},h=(e,t)=>0===e.length||!e.filter(e=>{var{isNecessary:t}=e;return!1!==t}).some(e=>{var{kId:r}=e;return 0===(t[r]||[]).length}),f=e=>{var{skuTree:t=[],selectedSku:r,properties:n,selectedProp:a}=e,o=t.filter(e=>!r[e.kS]).map(e=>{var{k:t}=e;return t}),i=n.filter(e=>{var{isNecessary:t}=e;return!1!==t}).filter(e=>{var{kId:t}=e;return 0===(a[t]||[]).length}).map(e=>{var{k:t}=e;return t});return[...o,...i].length>0?"请选择"+[...o,...i].join("、"):""};function g(e){var{available_coupon_act_ids:t,availableCouponActIds:r}=e.option||{};return t&&t.length?t[0]:r&&r.length?r[0]:null}},HmHG:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n,a,o=r||{},i=o.leading,s=o.trailing,c=0,u=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];c=!1===i?0:new Date().getTime(),n=null,e.apply(a,t),n||(a=null)},d=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var d=new Date().getTime();c||!1!==i||(c=d);var l=t-(d-c);a=this,l<=0||l>t?(n&&clearTimeout(n),n=null,c=d,e.apply(a,r),n||(a=null)):n||!1===s||(n=setTimeout(function(){return u.apply(a,r)},l))};return d.cancel=function(){n&&clearTimeout(n),c=0,n=null},d}},IIov:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r("49Kr"))&&n.__esModule?n:{default:n}).default;t.default=a,e.exports=t.default},IL7q:function(e,t,r){var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,c=i(e),u=1;u<arguments.length;u++){for(var d in r=Object(arguments[u]))a.call(r,d)&&(c[d]=r[d]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(c[s[l]]=r[s[l]])}}return c}},J03g:function(e,t){e.exports={d:"themeColors;4;themeCSS;4;isDirectPushRoute;4",e:"",el:"",w:"Main",wc:"",wd:"Main",l:"",lc:"triggerEvent;getDb;onEventOnce",p:"",pi:"getLocation;hook:mutateListAfterFetch;autoEnterShop;setApplicationScene",c:"",cc:""}},J8k1:function(e,t,r){t.a=["text","title","store","search","feature_video_search","coupon","cube_v3","notice","groupon","points_goods","goods","goods_recommend","tag_list_top","tag_list_left","ump_seckill"]},J9xP:function(e,t,r){var n=r("cm7J");e.exports=function(e){return n(this.__data__,e)>-1}},JUQZ:function(e,t){e.exports={d:"kdtId;2;alias;2;offlineId;0;themeVars;2;themeColors;2;pageVars;2;pageParams;2;clientTemplate;2;serverStatus;2;env;2;pageSwitch;2;shopBaseInfo;2;shopConfig;2;shopMpInfo;2;shopMetaInfo;2;multistore;2;userState;2;buyConfig;2;openAppConfig;2;goodsBaseInfo;2;goodsPriceInfo;2;goodsMetaInfo;2;goodsCombineInfo;2;supplier;2;payWays;2;distribution;2;goodsDetail;2;activityInfo;2;goodsSkuData;2;pageFeature;2;marketActivity;2;memberActivity;2;promotionActivity;2;goodsActivity;2;query;2;buyerId;2;cpsConfigKey;2;goodsExtendInfo;2;retail;2;physicalStores;2;navigationText;2;userInfo;2;userGoodsStateParams;0;isHomePage;2;isTabPage;2;multiSkuDecision;2;marketing;0;logisticsTimeliness;2;isSupportSkuDirectOrder;2;platform;2;userStateSupportSkuDirectOrder;2;featureSwitch;2;staticConfig;2;wholesalerModel;2;pointsConfig;0;umpActivity;0;currentActivity;0;isGroupOn;0;isCoupon;0;buttonUmpTimelimitModel;0;activityInfoForPrice;0;seActivity;0;isNotPresent;0;fansBenefit;0;wecomFansBenefit;0;buyLimitGuideInfo;2;cartCount;2;guaranteeData;2;voucherModelList;2;isGuideNeedPkgShareUrl;0;hasFinishLoad;2;skuDirectVersion;2;pageKey;2;oid;4;yunDesignConfig;4;cloudDesignConfig;4",e:"goodsSetupReady;goodsSetupInit",el:"page-container:scrollLocked",l:"checkFromChannelsOpenFlow;checkFromShowcase;checkIsChannels;checkIsHalfScreen;checkIsNeedSyncOrderScene;checkIsOpenByLiveBag;checkIsOpenByLiveGoodsShare;checkIsWxvideoLive",lc:"getPlatform;getUserInfo;hasLogin",p:"setShareIcon;updateCartCount;getGoodsDetail",pi:"autoEnterShop;updateBtnsUI;beforeRefreshCartCount;updateSupportSkuDirectOrder;tee-api:getLocation",li:"beforePageMount;onPullDownRefresh;beforePageCreate;pageDestroyed"}},JdrY:function(e,t,r){r.d(t,"j",function(){return n}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"l",function(){return s}),r.d(t,"k",function(){return c}),r.d(t,"h",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"d",function(){return l}),r.d(t,"i",function(){return p}),r.d(t,"b",function(){return h}),r.d(t,"c",function(){return f});var n={HOME:1,CART:2,WISH:3,CONTACT:4,SHARE:5,USERCENTER:6,BACK_TO_TOP:7,SCAN:8,GUANG_LIVE:20,GOODS_SHOWCASE:21,WECHAT_VIDEO:22,CUSTOME:[101,102,103,104,105,106,107,108,109]},a={1:"主页",2:"购物车",3:"心愿单",4:"客服",5:"分享",6:"个人中心",7:"顶部",8:"扫一扫"},o={1:"/pages/home/dashboard/index","1-retail":"/pages-retail/home-shelf/index",2:"/packages/goods/cart/index",6:"/packages/usercenter/dashboard/index","6-retail":"/packages/retail/usercenter/dashboard-v2/index"},i=/\/(v2|wscshop)\/(showcase\/)?(goods|seckill)(\/adv)?/,s=/\/wscgoods\/wholesale_detail/,c={1:[/^(packages|pages)\/home\/dashboard/,/^packages\/tee-home|ext-home\/dashboard/,/\/(v2|wscshop)\/(showcase\/)?(homepage|home)/],3:[/^(packages|pages)\/home\/feature/,/^packages\/tee-home|ext-home\/feature/,/^(packages|pages)\/home\/tab/,/^packages\/ext-home\/tab\/(one|two|three)/,/\/(v2|wscshop)\/(showcase\/)?feature(?!\/goods\/all)/],8:[/^pages\/goods\/detail/,/^packages\/goods(:?-v\d+)?\//,i,/\/wscgoods\/(detail|seckill)/,s,/\/pay\/wscgoods_order/],9:[/^packages\/shop\/goods\/all/,/^packages\/shop\/goods\/group/,/^packages\/goods-list\/tag/,/^packages\/goods-list\/all/,/^packages\/shop\/goods\/tag-list\/index/,/\/wscshop\/(tag|allgoods)/,/\/v2\/(showcase\/)?(tag|allgoods)/,/\/feature\/goods\/all/,/\/wscshop\/showcase\/tag/]},u={HOME:1,FEATURE:3,GOODS_DETAIL:8,GOODS_GROUP:9},d={ADD_CART:"submit:act",PULL_DOWN:"home:refresh",SHARE:"share:show",SHOW_GOODS_CASE:"goods:showcase",PAGE_SCROLL:"page:scroll",CREATE_OR_UPDATE_INDEPENDENT_ICON:"create:or:update:inderendent:icon",UPDATE_ICON_POSITION:"floating:nav:update:position",SHOW_WISH_PANEL:"floating:nav:wish:show",WISH_STATE_CHANGE:"wish:state:change"},l={1:!0,3:!0,8:!0,9:!1},p={1:"homepage",3:"micropage"},h={GOODS_SHOWCASE:10},f={iconUrl:"https://b.yzcdn.cn/public_files/53ad2c5a0f8d476e9a9ccf9fadff7710.png",independent:!0,navType:5,order:1,status:1,title:"分享",isExtra:!0,isReplace:!0}},JijB:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY:MM:DD";e||0===e||(e=new Date);if("Invalid Date"===(e=new Date(e)).toString())throw new Error("Invalid Date");var r=function(e){return("00"+e).slice(-2)},n={"YYYY|yyyy":e.getFullYear(),"YY|yy":e.getFullYear().toString().substr(2),MM:r(e.getMonth()+1),M:e.getMonth()+1,"DD|dd":r(e.getDate()),"D|d":e.getDate(),"HH|hh":r(e.getHours()),"H|h":e.getHours(),mm:r(e.getMinutes()),m:e.getMinutes(),ss:r(e.getSeconds()),s:e.getSeconds()};return Object.keys(n).forEach(function(e){t=t.replace(new RegExp(e),n[e])}),t},e.exports=t.default},JjL0:function(e,t){},K3Aj:function(e,t,r){r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s});var n=r("MLLI"),a=r("hmrP"),o=r.n(a);function i(){var{windowWidth:e}=Object(n.b)(),t=Math.min(e,540);return o.a.isMobile()||function(){var{model:e}=Object(n.b)();return o.a.isIPad()||/ipad/gi.test(e)}()?e:t}function s(e){var t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},KQ2A:function(e,t,r){r.d(t,"d",function(){return v}),r.d(t,"c",function(){return y}),r.d(t,"a",function(){return b}),r.d(t,"b",function(){return _});var n=r("Fcif"),a=r("GFa9"),o=r("8B9M"),i=r("Yt9W"),s=r("jA1y"),c=r("2wjL"),u=Object(o.a)();function d(e){var t=c.a.getAll()||{},r=Object(n.a)({goods_id:e.goodsId,num:e.num,sku_id:e.skuId,price:e.price||0,dc_ps:i.b.getDCPS(),qr:e.qr||"",tpps:t.tp_ps||""},e.messages,{extensions:e.extensions||{},isInstallment:Boolean(e.isInstallment),propertyIds:e.propertyIds||[]}),a={kdt_id:e.kdtId||u.getKdtId(),postage:e.postage||0,activity_alias:e.activityAlias,activity_id:e.activityId,activity_type:e.activityType,use_wxpay:e.useWxpay||0,order_from:e.orderFrom||"",cloud_order_ext:e.cloudOrderExt||"",couponId:e.couponId};"string"==typeof e.price&&e.price.indexOf(!1)&&(r.price=100*+e.price),e.isPoints&&(r.points_price=e.pointsPrice,r.price=e.remainPrice),e.fcode&&(r.fcode=e.fcode),"number"==typeof e.deliverTime&&(r.deliver_time=e.deliverTime),e.gdtClickId&&(r.gdt_id=e.gdtClickId),e.channelId&&(r.channel_id=e.channelId);var o=e.storeId||u.getOfflineId();return o&&(a.store_id=o),e.umpStepPerson&&(a.ladder_num=e.umpStepPerson),e.hotelGoods&&(a.hotel_goods=e.hotelGoods),e.appointmentTime&&(a.card_goods={appointment_time:e.appointmentTime}),e.orderType&&(a.order_type=e.orderType),e.isPoints&&(a.is_points=e.isPoints),e.from&&(a.from=e.from),e.loginTicket&&(a.loginTicket=e.loginTicket),e.paymentSuccessRedirect&&(a.payment_success_redirect=e.paymentSuccessRedirect),e.selectedInstallmentPeriod&&(a.installmentRate=e.installmentRate,a.selectedInstallmentPeriod=e.selectedInstallmentPeriod),{goodsData:r,commonData:a}}var l="buyNow",p="addCart";function h(e){var{comboDetailModel:t,skuId:r,flag:n}=e,{comboGroupModels:a=[]}=t,o={};o=1!==a.length||a[0].skuId?a.find(e=>e.skuId===r)||{}:a[0];var{comboSubItemModels:i=[],goodsComboGroupId:s=""}=o;return{subComboList:i.reduce((e,t)=>{if(0===t.isDisplay)return e;var{skuRelatedModels:r=[],propModels:a=[]}=t,o=[],i=a.reduce((e,t)=>{var{textModels:r}=t;return r.forEach(t=>{e.push(t.id)}),e},[]);return r.forEach(e=>{var{combineNum:t,itemId:r,price:a,skuId:c}=e,u={goodsId:r,num:t,price:a,skuId:c};n===l&&(u.groupId=s),i.length&&(u.propertyIds=i),o.push(u)}),e.push(...o),e},[]),goodsComboGroupId:s}}var f=Object(o.a)(),g={actName:"buy",et:"click",ei:"buy",en:"购买"};function v(e){var t;void 0===e&&(e={});var{et:r,ei:a,en:o}=g;return f.logger&&f.logger.log({et:r,ei:a,en:o,params:{price:100*(e.price||0),goods_id:e.goodsId,goods_name:null==(t=e.itemDataModel)?void 0:t.title,num:e.num,sku_id:e.skuId},si:f.getKdtId()}),y(function(e){var{goodsData:t,commonData:r}=d(e),{itemDataModel:a}=e,{comboMark:o={},comboDetailModel:i={}}=a||{},{isCombo:s=!1,comboType:c=0}=o;if(s){var u=h({comboDetailModel:i,skuId:t.sku_id,flag:l}),{subComboList:p=[]}=u;t.extra={COMBO_INFO:{comboType:c,subComboList:p}}}var{birthdayInfo:f={}}=e;return t.extra||(t.extra={}),t.extra=Object.assign({},t.extra,f),{goodsList:[Object(n.a)({},t)],extraData:r}}(e))}function m(e,t){var r=getCurrentPages().pop();return r&&r[e]?r[e](t):Promise.resolve()}function y(e){void 0===e&&(e={});var{goodsList:t=[],extraData:r={}}=e;if(t&&0!==t.length){var o=r.storeId||r.store_id||f.getOfflineId();return o&&(r.store_id=o),wx.showLoading(),function(e){void 0===e&&(e={});var t={success:!0};if(e.couponId)return(r={id:e.couponId},Object(s.c)({path:"/wsctrade/order/detail/getVoucher.json",method:"POST",data:{activityId:r.id,bizName:"showcase",source:"wap_showcase"}})).then(()=>t).catch(()=>t);var r;return Promise.resolve(t)}(r).then(()=>m("beforeBuyEvent",Object(n.a)({},t[0]||{}))).then(()=>Object(s.c)({header:{"content-type":"application/x-www-form-urlencoded"},path:"/wsctrade/order/goodsBook.json",data:{goodsList:JSON.stringify(t),common:JSON.stringify(r),biz_trace_point_ext:i.b.getTradeLog()},method:"POST"})).then(e=>{var{bookKey:n}=e;if(n){var o="/packages/order/index?bookKey="+n;return r.orderFrom&&(o+="&orderFrom="+r.orderFrom),m("afterBuyEvent",{goodsList:t,extraData:r,url:o,bookKey:n}).then(()=>(a.a.navigate({url:o}),wx.hideLoading(),Promise.resolve())).catch(e=>(wx.hideLoading(),Promise.reject(e)))}return wx.hideLoading(),Promise.reject()}).catch(function(e){void 0===e&&(e={}),wx.hideLoading(),!e.noToast&&wx.showToast({title:e.msg||e.message||"购买失败，重新试试",icon:"none",duration:2e3})})}wx.showToast({title:"购买未选择商品",icon:"none",duration:2e3})}function b(e,t,r){void 0===t&&(t={}),f.logger&&f.logger.log({et:t.et||"click",ei:t.ei||"add_cart",en:t.en||"添加购物车",params:t.params||{goods_id:e.goodsId,num:e.num,sku_id:e.skuId}});var a=function(e){var{goodsData:t,commonData:r}=d(e),a=Object(n.a)({},t,r,{messages:JSON.stringify(e.cartMessages||[]),biz_trace_point_ext:i.b.getTradeLog(),extensions:JSON.stringify(t.extensions),propertyIds:JSON.stringify(t.propertyIds)}),{comboDetailModel:o,comboMark:s}=e.itemDataModel||{};if(s&&s.isCombo){var{isCombo:c=!1,comboType:u=0}=s;if(c){var{subComboList:l,goodsComboGroupId:f}=h({comboDetailModel:o,skuId:t.sku_id,flag:p}),g=[{id:f,subComboList:l}];a.comboType=u,a.isCombo=c,a.groupList=JSON.stringify(g)}}return e.cartBizMarkDTO&&(a.cartBizMarkDTO=e.cartBizMarkDTO||{}),a}(e),{birthdayInfo:o={}}=e;return a.extra=JSON.stringify(o),Object(s.c)({path:"/wscshop/trade/cart/goods.json",header:{"content-type":r||"application/x-www-form-urlencoded"},data:a,method:"POST"})}function _(e){return Object(s.c)({path:"/wscgoods/detail-api/calculate-price.json",method:"POST",data:Object(n.a)({},e,{itemSalePropList:JSON.stringify(e.itemSalePropList)})})}},KhBQ:function(e,t,r){r.d(t,"c",function(){return f}),r.d(t,"b",function(){return m}),r.d(t,"d",function(){return y}),r.d(t,"a",function(){return b});var n=r("Fcif"),a=r("BrFj"),o=r("US/N"),i=r("2wjL"),s=r("KEq0"),c=r.n(s),u=r("5Xe+"),d=r.n(u),l=r("YeA1"),p=r("Sipi"),h=r("GFyo");function f(){var e=getCurrentPages();return"packages/goods/share/index"===e[e.length-1].route}function g(e,t){var{needRedirect:r,redirectPath:a,metadata:o,goodsData:i}=t;return f()?Promise.resolve(t):r?(Object(l.a)().dmc.redirectTo(a,Object(n.a)({},e,o)),Promise.reject({msg:"商品后端重定向 ->"+a,data:{showError:!1}})):Promise.resolve(t)}function v(e,t,r){var{shopMetaInfo:o={}}=r||{},{kdtId:s}=o;if(function(e){var{shopMetaInfo:t={}}=e||{};return!!t.isChainStore}(r)){var c=Object(n.a)({},t);return delete c.shopAutoEnter,delete c.subKdtId,delete c.sub_kdt_id,function(e,t){var r=i.a.add(e.env.route,t);return e.dmc.route.createUrl("GoodsDetail",t).then(e=>e.url).catch(()=>r)}(e,c).then(o=>{var[i]=e.process.invoke("autoEnterShop",t,{redirectUrl:o,forceKdtId:s});return i.then(e=>e&&e!==s?Object(a.d)(Object(n.a)({},c,{subKdtId:e})):Promise.resolve(r))})}return Promise.resolve(r)}function m(e,t){var r="goodsDetail-"+t,a=Object(p.b)(r),o={};if(a){var{title:i="",image:s={},price:u=""}=a;e.data.goodsBaseInfo={alias:t,title:i,pictures:[Object(n.a)({},s,{url:c()(s.url,"!260x0.jpg")})],goodsPriceInfo:{showPriceBlock:!0,price:u}},o={goodsPriceInfo:{showPriceBlock:!0,price:u}},Object(h.e)(r)}Object(h.c)("goodsDetailRanta").then(function(r){void 0===r&&(r={});var a={},i=r.data||null;if(i){var{shopBaseInfo:s,theme:c,env:u,retail:l,kdtId:p,shopConfig:h,showTopBar:f}=i;a={shopBaseInfo:s,shopConfig:h,theme:c,env:u,retail:l,kdtId:p,showTopBar:f},i[t]&&(o=Object(n.a)({},o,d()(i[t],["goodsBaseInfo","goodsMetaInfo","distribution"])))}Object.assign(e.data,a,o)})}function y(e){Object(h.c)("goodsDetailRanta").then(function(t){void 0===t&&(t={});var{alias:r,kdtId:a,goodsBaseInfo:o,shopBaseInfo:i,shopConfig:s,goodsMetaInfo:c,theme:u,env:d,retail:l,distribution:p,showTopBar:f}=e,g=Object(n.a)({},t.data),{goodsRecord:v=[]}=g;(g.shopBaseInfo=i,g.shopConfig=s,g.theme=u,g.env=d,g.retail=l,g.kdtId=a,g.showTopBar=f,(v=v.filter(e=>e!==r)).push(r),v.length>10)&&delete g[v.shift()];g.goodsRecord=v,g[r]={goodsBaseInfo:o,goodsMetaInfo:c,distribution:p},Object(h.g)("goodsDetailRanta",g)})}function b(e,t,r){function n(e,t){var{kdtId:n}=(e||{}).shopMetaInfo||{};n&&Object(o.setKdtId)(n),e&&e.goodsData&&r instanceof Function&&t(e)}return Object(a.d)(t).then(function(e){return void 0===e&&(e={}),g(t,e)}).then(a=>(n(a,r),v(e,t,a))).then(e=>{var{goodsData:t,shopMetaInfo:a={}}=e||{},{isChainStore:o}=a;return t?(o&&n(e,r),Promise.resolve(e)):Promise.reject({code:301010050,msg:"商品不存在"})})}},LHcj:function(e,t,r){r.d(t,"d",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"b",function(){return c});var n=r("2ktG"),a=Object(n.a)(),o={};function i(e,t){o[e]=t}function s(e){return o[e]}function c(e){delete o[e]}},LHnf:function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("9ZMt");function a(e){n.default.$native.onUnhandledRejection(e)}function o(e){n.default.$native.offUnhandledRejection(e)}},LSEb:function(e,t,r){var n=r("Yzgk"),a=r("X/0h");e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},LYai:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"};return"".concat(e).replace(/(&|<|>|"|')/g,function(e){return t[e]})};t.default=n,e.exports=t.default},LrYe:function(e,t,r){t.a={mounted(){this._onPageScroll()},methods:{_getCurrentPage(){if("function"==typeof getCurrentPages){var e=getCurrentPages();return e&&e.length?e[e.length-1]||{}:null}},_onPageScroll(){var e=this._getCurrentPage();if(e&&e.onPageScroll){if("function"!=typeof this.onPageScroll)return;var t=e.onPageScroll;e.onPageScroll=r=>{t.call(e,r),this.onPageScroll(r)}}}}}},LvFB:function(e,t,r){r.d(t,"a",function(){return d});var n=r("Fcif"),a=r("lE6+"),o=r("0lqJ"),i=r("xRet");var s=r("vpHN");function c(){var e=getCurrentPages(),t="";try{t=e[e.length-1].__wxExparserNodeId__}catch(e){}return t}var u={"packages/usercenter/dashboard/index":"usercenter","pages/home/tab/one":"h-t-1","pages/home/tab/two":"h-t-2","pages/home/tab/three":"h-t-3"},d={data:{attachedPageId:""},onLoad(e){this.containerOptions=e,this.setAttachedPageId(),this.onRantaPageAttached(),this.triggerRantaTabPageReady()},onShow(){var e,t;(this.getTabBar()&&this.getTabBar().setData({selectedIndex:Object(o.a)()}),this.attachedPage)&&(null==(e=(t=this.attachedPage).onShow)||e.call(t))},onUnload(){var e,t;this.attachedPage&&(null==(e=(t=this.attachedPage).onUnload)||e.call(t))},onHide(){var e,t;this.attachedPage&&(null==(e=(t=this.attachedPage).onHide)||e.call(t))},onShareAppMessage(e){var t,r;return this.attachedPage?null==(t=(r=this.attachedPage).onShareAppMessage)?void 0:t.call(r,e):{}},onReachBottom(){var e,t;this.attachedPage&&(null==(e=(t=this.attachedPage).onReachBottom)||e.call(t))},onPageScroll(e){var t,r;this.attachedPage&&(null==(t=(r=this.attachedPage).onPageScroll)||t.call(r,e))},onPullDownRefresh(e){var t,r;this.attachedPage&&(null==(t=(r=this.attachedPage).onPullDownRefresh)||t.call(r,e))},setAttachedPageId(){u[this.route]||new Promise(function(e,t){Object(a.a)().then(function(r){var n=Object(o.a)(),a=r[n]||{},s=a.routingType,c=a.attachedId;if(s===i.c&&c)return e(c);t(r[n])})}).then(e=>{this.setData({attachedPageId:e})}).catch(e=>{if(delete getApp().globalData.tabBarParams,!e)return wx.reLaunch({url:"/pages/home/dashboard/index"});var t=Object(s.b)(e);wx.reLaunch({url:"/"+t})})},triggerRantaTabPageReady(){u[this.route]&&getApp().trigger("ranta-tab-page-ready-"+c())},onRantaPageAttached(){getApp().on("async-page-attached-"+c(),e=>{var t,r,{rantaCtx:a}=e,{attachedPageId:o}=this.data;o||(o=u[this.route]),this.attachedPage=this.selectComponent("#"+o);var i={_route:this.route};null==a||null==(t=a.env)||null==(r=t.router)||null==r.updateRoute||r.updateRoute(this.route),Object.assign(this.attachedPage[Symbol.for("vm")],i);var{tabBarParams:s={}}=getApp().globalData,c=s[o];if("retail-shelf"===o){var{tabbarOriginList:d={}}=getApp().globalData,l=d.find(e=>"retail-shelf"===e.attachedId),{extra:p={}}=l||{},h=wx.getStorageSync("ExtraArgsFromShopSelectToOriginalPage")||{};wx.clearStorageSync("ExtraArgsFromShopSelectToOriginalPage"),c=Object(n.a)({},p,c,h)}"feature"===o&&(c=Object(n.a)({},this.containerOptions,c)),this.execPageLifeCycle(this.attachedPage,c||this.containerOptions),delete getApp().globalData.tabBarParams})},onTabPageAttached(e){this.attachedPage=this.selectComponent("#"+e.currentTarget.id);var t=Object(n.a)({route:this.route,__route__:this.route},this.attachedPage.__freeData__||{});Object.assign(this.attachedPage,t);var{tabBarParams:r={}}=getApp().globalData,a=r[e.currentTarget.id];this.execPageLifeCycle(this.attachedPage,a||this.containerOptions),delete getApp().globalData.tabBarParams},execPageLifeCycle(e,t){Object(a.a)().then(r=>{var n=getApp(),a=r[Object(o.a)()],{spm:i}=a||{};if(i){var s=getCurrentPages(),{route:c}=s[s.length-1];n.logger.spmHelper.setMoreSpm({[c]:i})}null==e.onLoad||e.onLoad(t||{}),null==e.onShow||e.onShow(),null==e.onReady||e.onReady()})}}},"M+mJ":function(e,t,r){var n=r("DXKY"),{on:a,once:o,off:i,trigger:s}=n.a,c={off:i,trigger:s};Object.assign(c,{on:a,once:o}),t.a=c},MJHg:function(e,t,r){r.d(t,"a",function(){return i});var n=r("6MKc"),a=r("6S0u"),o=e=>({enter:"van-"+e+"-enter van-"+e+"-enter-active enter-class enter-active-class","enter-to":"van-"+e+"-enter-to van-"+e+"-enter-active enter-to-class enter-active-class",leave:"van-"+e+"-leave van-"+e+"-leave-active leave-class leave-active-class","leave-to":"van-"+e+"-leave-to van-"+e+"-leave-active leave-to-class leave-active-class"});function i(e){return Behavior({properties:{customStyle:String,show:{type:Boolean,value:e,observer:"observeShow"},duration:{type:null,value:300,observer:"observeDuration"},name:{type:String,value:"fade"}},data:{type:"",inited:!1,display:!1},ready(){!0===this.data.show&&this.observeShow(!0,!1)},methods:{observeShow(e,t){e!==t&&(e?this.enter():this.leave())},enter(){this.enterFinishedPromise||(this.enterFinishedPromise=new Promise(e=>{var{duration:t,name:r}=this.data,i=o(r),s=Object(a.f)(t)?t.enter:t;"enter"!==this.status&&(this.status="enter",this.$emit("before-enter"),Object(n.m)(()=>{"enter"===this.status&&(this.$emit("enter"),this.setData({inited:!0,display:!0,classes:i.enter,currentDuration:s}),Object(n.m)(()=>{"enter"===this.status&&(this.transitionEnded=!1,this.setData({classes:i["enter-to"]}),e())}))}))}))},leave(){this.enterFinishedPromise&&this.enterFinishedPromise.then(()=>{if(this.data.display){var{duration:e,name:t}=this.data,r=o(t),i=Object(a.f)(e)?e.leave:e;this.status="leave",this.$emit("before-leave"),Object(n.m)(()=>{"leave"===this.status&&(this.$emit("leave"),this.setData({classes:r.leave,currentDuration:i}),Object(n.m)(()=>{"leave"===this.status&&(this.transitionEnded=!1,setTimeout(()=>{this.onTransitionEnd(),this.enterFinishedPromise=null},i),this.setData({classes:r["leave-to"]}))}))})}})},onTransitionEnd(){if(!this.transitionEnded){this.transitionEnded=!0,this.$emit("after-"+this.status);var{show:e,display:t}=this.data;!e&&t&&this.setData({display:!1})}}}})}},MjBJ:function(e,t){e.exports={d:"biz;0;quickMode;0;isPreCashierPay;0;excludePayTools;0;buyerPhone;0;buyerId;0;orderAmount;0;preCashierChannel;0;bizExt;0;isPriorUseChosen;0;tradeTag;4;shop;4;display;4;state;4;appId;4;useBeforePayData;4;prepareData;4;confirmData;4;order;4;orderFinalPrice;4;preferredPayChannel;6;goods;4;orderNo;4;periodBuy;4;isPeriodBuy;4;yzGuaranteeInfo;4;buyButtonClickTime;4",el:"cashier:pay:success;cashier:pay:fail;cashier:close;cashier:opened;cashier:change",w:"Installment;Main",wd:"Main",l:"",lc:"",p:"startPay;onPaySuccessSync;queryPayChannels;doPay;handlePayAfterCreateOrder;handleBeforePay;onPayItemClick",pi:"startPay;showSubscription;queryPayChannels;doPay;startPay_preCashier;mutateState"}},Mqxx:function(e,t,r){r.d(t,"a",function(){return p}),r.d(t,"d",function(){return h}),r.d(t,"f",function(){return f}),r.d(t,"e",function(){return g}),r.d(t,"b",function(){return y}),r.d(t,"c",function(){return _});var n=r("Fcif"),a=r("z24M"),o=r("50K0"),i=r("SVbq"),s={},c="https://h5.youzan.com/";var u,d=(u=wx.request,function(e){return new Promise((t,r)=>{var o=u&&u(Object(n.a)({},e||{},{header:{"Extra-Data":JSON.stringify({is_weapp:1,client:"weapp",bizEnv:"wsc",skip_sid:1,version:Object(a.a)("userVersion")})},success(e){var n;0===(null==e||null==(n=e.data)?void 0:n.code)?t(e.data.data):r(null==e?void 0:e.data)},reject:r}));o&&o.then&&o.catch&&o.then(t,r)})});function l(e){var{path:t,kdtId:r,hadEnterShop:n}=e;return d({url:c+"wscdeco/homepage-detail.json",data:{stage:16,check_multi_store:1,fetchSepHqStoreDetail:Object(i.z)()?1:0,close_chainstore_webview_limit:!0,check_old_home:1,hadEnterShop:n,kdt_id:r||Object(a.a)("kdtId"),version_control:JSON.stringify({use_native_feature_page:1,feature_page_path:t})}})}function p(e,t){return t({path:"/wscdeco/brand-feature-detail.json",data:{stage:16,hadEnterShop:!0,kdt_id:e,labelType:"usercenter,freeMemberCenter,payMemberCenter"}})}function h(e){return o.a.getMiniappPrefetchData("homeFeature",{}).then(t=>{var r,{kdtId:n,homeDetailInfo:o}=e;if(o)return o.needEnterShop=!1,o;if(!t||null==t||null==(r=t.components)||!r.length)return l(e).catch(e=>Promise.reject({type:"homeErr",err:e}));var{shopMetaInfo:{kdtId:s}={}}=t;return+s!=+n?l(e).then(e=>e).catch(e=>Promise.reject({type:"homeErr",err:e})):(+Object(a.a)("kdtId")!=+s&&(t.needEnterShop=!1),Object(i.k)("装修预拉取数据",t),t)}).catch(t=>(Object(i.k)("装修预拉异常",t),t&&"homeErr"===t.type?Promise.reject(t.err):l(e)))}var f=(e,t,r)=>{var{pageData:a}=r,{guestKdtId:o,shopAutoEnter:i}=a||{},s=o||e;return Object(n.a)({},t,{kdt_id:s,shopAutoEnter:i})},g=(e,t)=>{var r=s[e.key];return r?Promise.resolve(r):d({url:c+"v3/weapp/scene-code-v2.json",data:e}).then(r=>{var{pageData:n}=r;return s[e.key]=f(e.kdt_id,t,{pageData:n}),s[e.key]})},v={fetch:null,result:null};function m(){return d({url:c+"wscdeco/homepage-video-ad.json",data:{kdtId:Object(a.a)("kdtId")}}).then(e=>(v.result=e,e))}function y(){return v.result?Promise.resolve(v.result):(v.fetch||(v.fetch=o.a.getMiniappPrefetchData("homeAd").then(e=>e?(v.result=e,e):m().catch(e=>Promise.reject(e))).catch(e=>m())),v.fetch)}function b(){var e="global_custom_loading";return d({url:c+"wscshopcore/extension/configs.json",method:"POST",data:{keys:[e],kdtId:Object(a.a)("kdtId")}}).then(t=>{var r=t[e]||"{}",{open:n,resource:a}=JSON.parse(r);return n?a:""})}function _(){return new Promise(e=>{o.a.getMiniappPrefetchData("globalCustomLoading").then(t=>{e(null==t?b():t)}).catch(()=>{e(b())})})}},NURP:function(e,t){e.exports={d:"cpsConfigKey;4;kdtId;4;buyerId;4",w:"Main",wd:"Main"}},NV8i:function(e,t,r){r.d(t,"a",function(){return o});var n=r("RmQ0"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}beforePageMount(e){var{query:t,route:r}=e}}o.widgets={Widget:a()}},NW04:function(e,t,r){r.d(t,"c",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=r("US/N");r("9ZMt"),r("MLLI");function a(e){return"object"!=typeof e||null==e?"":Object.keys(e).map(function(t){var r=e[t];return"object"==typeof r?"--"+t+": linear-gradient(to right, "+r.start+", "+r.end+")":"--"+t+": "+r}).join(";").concat(";")}var o=a({general:"#f44","main-bg":"#f44","main-text":"#fff","vice-bg":"#f85","vice-text":"#fff","start-bg":"#ff6060","end-bg":"#f44"});function i(e){var t=null==e?{}:{kdt_id:e};return Object(n.default)({path:"/wscshop/shop/theme_and_colors.json",method:"GET",query:t})}},NWgQ:function(e,t,r){var n=r("X7EK"),a=r("IL7q"),o=r("5+rW");function i(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t};}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:o(i),r(o(a),i,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))):n}t.extract=s,t.parse=c,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[i(t,e),"[",n,"]"].join(""):[i(t,e),"[",i(n,e),"]=",i(r,e)].join("")};case"bracket":return function(t,r){return null===r?i(t,e):[i(t,e),"[]=",i(r,e)].join("")};default:return function(t,r){return null===r?i(t,e):[i(t,e),"=",i(r,e)].join("")};}}(t);return e?Object.keys(e).sort(t.sort).map(function(n){var a=e[n];if(void 0===a)return"";if(null===a)return i(n,t);if(Array.isArray(a)){var o=[];return a.slice().forEach(function(e){void 0!==e&&o.push(r(n,e,o.length))}),o.join("&")}return i(n,t)+"="+i(a,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(s(e),t)}}},Na6L:function(e,t,r){function n(e){var t;if(e)t=e;else{var r=getCurrentPages();t=r[r.length-1]}if(!t.__uniqueKey__){var n=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}(t.route+JSON.stringify(t.options));t.__uniqueKey__=n}return t.__uniqueKey__}r.d(t,"a",function(){return n})},"NeL/":function(e,t,r){function n(e,t){var r="../"+e+"/index";return{relations:{[r]:{type:"ancestor",linked(){t&&t.call(this)},linkChanged(){t&&t.call(this)},unlinked(){t&&t.call(this)}}},mixin:Behavior({created(){Object.defineProperty(this,"parent",{get:()=>this.getRelationNodes(r)[0]}),Object.defineProperty(this,"index",{get:()=>{var e,t;return null===(t=null===(e=this.parent)||void 0===e?void 0:e.children)||void 0===t?void 0:t.indexOf(this)}})}})}}function a(e,t){var r="../"+e+"/index";return{relations:{[r]:{type:"descendant",linked(e){t&&t.call(this,e)},linkChanged(e){t&&t.call(this,e)},unlinked(e){t&&t.call(this,e)}}},mixin:Behavior({created(){Object.defineProperty(this,"children",{get:()=>this.getRelationNodes(r)||[]})}})}}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a})},NgLJ:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.validateOperator=function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+n(e));if(-1===a.indexOf(e))throw new TypeError("Invalid operator, expected one of "+a.join("|"))},t.default=t.OperatorResMap=void 0;var a=[">",">=","=","<","<="];t.OperatorResMap={">":[1],">=":[1,0],"=":[0],"<=":[-1,0],"<":[-1]};var o=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function i(e){var t,r,n=e.replace(/^v/,"").replace(/\+.*$/,""),a=(r="-",-1===(t=n).indexOf(r)?t.length:t.indexOf(r)),o=n.substring(0,a).split(".");return o.push(n.substring(a+1)),o}function s(e){return isNaN(Number(e))?e:Number(e)}function c(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!o.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}var u=function(e,t){[e,t].forEach(c);for(var r=i(e),n=i(t),a=0;a<Math.max(r.length-1,n.length-1);a++){var o=parseInt(r[a]||"0",10),u=parseInt(n[a]||"0",10);if(o>u)return 1;if(u>o)return-1}var d=r[r.length-1],l=n[n.length-1];if(d&&l){var p=d.split(".").map(s),h=l.split(".").map(s);for(a=0;a<Math.max(p.length,h.length);a++){if(void 0===p[a]||"string"==typeof h[a]&&"number"==typeof p[a])return-1;if(void 0===h[a]||"string"==typeof p[a]&&"number"==typeof h[a])return 1;if(p[a]>h[a])return 1;if(h[a]>p[a])return-1}}else if(d||l)return d?-1:1;return 0};t.default=u},Npz5:function(e,t){e.exports={d:"themeTag;4;yunDesignConfig;4;valueCard;4;display;4;pay;4;tradeTag;4;orderFinalPrice;4;prepayCardTotalAmount;4;prepayCardDecrease;4;prepayCardAvailable;4;prepayCardAvailableExclusion;4;themeColors;4;kdtId;4;payAssetActivityTagDesc;4;shopStoredDiscountInfo;4;useStoredCustomerDiscount;4;recommendDetaid;4;goods;4;shop;4;pointDeduction;4;pointsName;4;orderCreated;4;points;4;fansBenefit;4;themeCSS;4;customerCards;4;unavailableCustomerCards;4;displayCard;4;currentAddress;4;displayFreeCard;4;plusBuy;4;order;4;orderCreation;4;couponModel;4;isInCouponOverWhitelist;4;offlineId;4;state;4;postageModel;4;dataLoaded;4;useStoredMemberCustomerDiscount;4;useStoreBalancePayInFull;4;hasHaitaoGoods;4;postage;4;isExistDiscountExcludePrePayCard;4;meituanCoupons;6",e:"sku:show;sku:hide;showCouponList;postagetool:show;reward:show;toggleMembershipDialog",el:"submit:act;showCouponList;postagetool:show;postagetool:limitInfo;postagetool:unavailableItem;lifecycle:pageShow;toggleMembershipDialog",w:"TradeBuyUmpBlock;BaseBlock;ExtraFees;PrepayCardCell;FansCell;ActivityCell;ActivityDialog;PlusBuy;PlusBuySwipe;PlusBuySwipeItem;PlusBuyCard;CouponCell;CouponItem;CouponList;Postagetool;PostagetoolTip;PostagetoolCard;FansDialog;CouponListPopupBottom;CouponContainer;MembershipCell;PointCell;PointDeductionCell;MeituanCell;MembershipDialog;PrepayCardPopup;PointDeductionPopup;PointWarnPopup;AgreeDetailPopup",wc:"BaseBlock;ExtraFees;PrepaidRecommend;RechargeList;UserAuthorize;Price;PlusBuyCard;PlusBuySwipe;PlusBuySwipeItem;PostagetoolCard;FansDialog;PlusBuy;FansCell;PrepayCardCell;CouponListPopupBottom;CouponContainer;CouponItem;MembershipCell;PointCell;PointDeductionCell;CouponCell;MeituanCell;PointWarnPopup;AgreeDetailPopup",wd:"Main",p:"closeValueCard;showPrePayCardRecharge;openValueCard;selectCustomerCard;toggleCouponListPopup",pi:"closeValueCard;setPrepayCardCheckStatus;fetchShow;confirmOrder;setOrderForbidCoupon;setOrderForbidPreference;setDisableStoredDiscount;setPointDeductionUsed;setCustomCard;setDisplayCard;setPeriodBuyChosenIndex;switchPlusBuyGoodsProcess;switchGoods;addAllGoods;fetchSkuData;addCouponProcess;setCouponChosenIdProcess;exchangeCouponPromise;getAddsOnePageDetail;calcPostage;modifyCacheOrder;resetPostageTool;savePostageTool;setUmpActivity;setPointDeductionCost;mutateState;selectCustomerCard;openValueCard;toggleCouponListPopup;setIgnoreVirtualCoupon;showPrePayCardRecharge;setSelfFetch",c:"",cc:"UserAuthorizePopup"}},O1uH:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("NHEX"))&&n.__esModule?n:{default:n};var o=function(e,t,r){var n,o,i=function(e){return e};i="string"==typeof t?function(e){return(0,a.default)(e,t,null)}:t;for(var s=0;s<e.length;s++){var c=e[s],u=i(c);null==u||isNaN(+u)||(void 0!==o?r(u,o)&&(n=c,o=u):(o=u,n=c))}return n};t.default=o,e.exports=t.default},O8mO:function(e,t){e.exports={d:"goodsAttributes;2;goodsCombineInfoBizSku;0;offlineId;4;themeVars;4;containerStyle;6;multistore;6;kdtId;6;shopConfig;6;pointsConfig;6;themeTag;6;goods;4;sku;4;skuConfig;4",e:"sku:preview;sku:hide;submit:act",el:"sku:show;sku:addCart;sku:afterAddCart;sku:afterBuy;sku:independentShow;time:clickSkuButton",w:"Main",wc:"",wd:"Main",p:"sku:selectData;beforeFormatSku",pi:"sku:beforeAddCartAsync;sku:beforeBuyAsync;sku:afterBuyAsync;sku:selectData"}},OF9M:function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},"OMz+":function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("xih6");function a(e){if(!e)return!1;var t="/"+e.replace(/^\//,"");return Object(n.a)().some(e=>t.startsWith(e))}function o(){var e=getCurrentPages()||[];return a("/"+(e[e.length-1]||{}).route)}},ONTz:function(e,t){e.exports={d:"payChannels;4;payWaysData;6;kdtId;4;sku;4;goods;4;showCouponTips;4;supportSkuDirectOrder;4",e:"sku:hide;payWaysData:update;installment:selected",el:"sku:num-change;sku:selected;cashier:change",w:"Main;SubmitNotice",wd:"Main",p:"installment:update;installment:validate;setPayWayData"}},OPDa:function(e,t,r){var n=(wx.spm||(wx.spm={initSpm(){var e=getApp().logger;e&&e.spmHelper.initSpm()},getPageSpmTypeId(){var e=getApp().logger;return e&&e.spmHelper.gettCurrentPageSpm()},setCurrentSpm(e,t,r,n){void 0===n&&(n=[]);var a=getApp().logger;return a&&a.spmHelper.setCurrentSpm(e,t,r,n)},getSpm(){var e=getApp().logger;return e&&e.spmHelper.getSpm()},removePageSpm(){var e=getApp().logger;return e&&e.spmHelper.removePageSpm()}}),wx.spm);t.a=n},OgbJ:function(e,t){e.exports={d:"",e:"",el:"",w:"",wc:"",wd:"Main",l:"jumpToLink",lc:"",p:"jumpToLink",pi:"",c:"",cc:""}},OhfJ:function(e,t){e.exports={d:"",e:"",el:"",w:"Main",wc:"",wd:"Main",l:"",lc:"triggerEvent",p:"",pi:"getLocation",c:"",cc:""}},"P+uj":function(e,t,r){function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",function(){return n})},PHxc:function(e,t,r){var n=r("cm7J");e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},POYE:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=r("Fcif"),a={hqHomeToOtherHome:!1,cacheKdtId:{},cacheNavConfig:{},isWxProxyDone:!1,isProxyUpdateKdtId:!1,proxyUpdateEmitFunc:[],lastOnlineKdtId:null,proxyWxJumpPadding:!1,onAppRoutePadding:!1,blockEnterShopType:!1,isEnterWbViewPage:!1,switchShopRangeCache:{},hideUrl:"",tabbarNavCacheMap:{}},o=e=>JSON.parse(JSON.stringify(e)),i=o(a),s=()=>{var{tabbarNavCacheMap:e}=a;a=Object(n.a)({},o(i),{tabbarNavCacheMap:e})}},PYDc:function(e,t,r){var n=r("FEiO");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},Pv1N:function(e,t,r){var n=r("XS2z");r.d(t,"UserAuthorizeType",function(){return n.a});r("1LD1"),r("nHpP"),r("DRK6"),r("3hrn"),r("PzrG")},Pz1p:function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("MLLI");function a(){var e=Object(n.b)().model.replace(/\s/g,"-"),t=!1;return /iPhone SE/i.test(e)||(t=/iphone-x|iPhone11|iPhone13|iPhone12(?!,8>)|iPhone14|iPhone15|iPhone16|iPhone17|iPhone-14|iPhone-12/i.test(e)),t}function o(){var e=Object(n.b)(),t=e.platform.toLowerCase(),r=parseFloat(e.system.replace(/[a-zA-Z]/g,""));return"ios"===t&&r>17}},PzrG:function(e,t){},Q4pQ:function(e,t,r){r.d(t,"a",function(){return i});var n=r("Fcif"),a=r("q3MX"),o=r("ONqW"),i=e=>{try{var t=Object(o.a)(),{kdt_id:r,from_params:i,sl:s}=e,c=t.getLogParams(),{event:u,context:d}=c,{sl:l,from_params:p}=d,h=(()=>{var e,t,r=Object(a.b)({yai:"shop_guide_c",app:"ext-tee-wsc-goods",requestUrl:"https://tj1.youzan.com/v3/js/log"}),n=Object(o.a)();return r.setEvent(null==(e=n.getLogParams())?void 0:e.event),r.setUser(null==(t=n.getLogParams())?void 0:t.user),r})();(s||i||l||p)&&h.log(Object(n.a)({},u,{si:r,et:"view",ei:"customer_visit_with_sl",en:"客户访问带导购标页面",params:{sl:s,fromParams:i,ctxSl:l,ctxFromParams:p,bizChannel:"goods"}}))}catch(e){}}},Q56H:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r("h+Rz");function a(){return n.a.getClipboardData()}function o(e){return n.a.setClipboardData({data:e})}},QFll:function(e,t,r){r.d(t,"c",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n={WSC:"packages/usercenter/dashboard/index",RETAIL:"packages/retail/usercenter/dashboard-v2/index"},a=/packages\/(retail\/)?usercenter\/dashboard(-v2)?\/index/,o={OLD:"packages/shop/goods/all/index",NEW:"packages/goods-list/all/index"};o.OLD},QLod:function(e,t,r){r.d(t,"b",function(){return y}),r.d(t,"c",function(){return b}),r.d(t,"a",function(){return w}),r.d(t,"e",function(){return I}),r.d(t,"d",function(){return x}),r.d(t,"g",function(){return T}),r.d(t,"f",function(){return k});r("Fcif");var n=r("Sd3C"),a=r("MLLI"),o=r("BM4D"),i=r("9KEa"),s=r("z2TJ"),c="packages",u="pages",d="home/tab/one",l="home/tab/two",p="home/tab/three",h=c+"/shop/levelcenter",f="home/dashboard/index",g="usercenter/dashboard/index",v="goods/detail/index",m="home/feature/index",y={NEW_FEATURE_ROUTE:c+"/"+m,TAB_ONE_ROUTE:c+"/"+d,TAB_TWO_ROUTE:c+"/"+l,TAB_THREE_ROUTE:c+"/"+p,NEW_HOMEPAGE_ROUTE:c+"/"+f,APP_FEATURE_ROUTE:u+"/"+m,APP_TAB_ONE_ROUTE:u+"/"+d,APP_TAB_TWO_ROUTE:u+"/"+l,APP_TAB_THREE_ROUTE:u+"/"+p,APP_HOMEPAGE_ROUTE:u+"/"+f,OLD_GOODS_ROUTE:u+"/goods/",GOODS_DETAIL_TOUTE:u+"/"+v,KQ_GOODS_DETAIL:c+"/"+v,NEW_GOODS_ROUTE:c+"/goods/",TEMPLATE_ROUTE:c+"/showcase-template/index",RETAIL_HOME:"pages-retail/home-shelf/index",EXT_NEW_FEATURE_ROUTE:c+"/ext-"+m,OLD_NEW_FEATURE_ROUTE:c+"/old-"+m,EXT_NEW_MARKETING_PAGE_ROUTE:c+"/ext-marketing-page/index",EXT_TAB_ONE_ROUTE:c+"/ext-"+d,OLD_TAB_ONE_ROUTE:c+"/old-"+d,EXT_TAB_TWO_ROUTE:c+"/ext-"+l,OLD_TAB_TWO_ROUTE:c+"/old-"+l,EXT_TAB_THREE_ROUTE:c+"/ext-"+p,OLD_TAB_THREE_ROUTE:c+"/old-"+p,EXT_NEW_HOMEPAGE_ROUTE:c+"/ext-"+f,OLD_NEW_HOMEPAGE_ROUTE:c+"/old-"+f,USERCENTER_ROUTE:u+"/"+g,PACKAGES_USERCENTER_ROUTE:c+"/"+g,SHOPNOTE_DETAIL_ROUTE:c+"/shop/shopnote/detail/index"},b=[h+"/free/index",h+"/plus/index"],_=Object.keys(y),O={bottom:58,height:32,left:278,right:365,top:26,width:87,canUseNav:!0},S={inited:!1,rectInfo:{},enterEmbedded:!1},P=()=>{var e,{statusBarHeight:t=20,SDKVersion:r,isAndroid:n}=i.a,a=t+(n?48:44);try{e=wx.getMenuButtonBoundingClientRect()}catch(e){}return e||(e=Object.create(null)),r&&(e.canUseNav=Object(s.a)("2.5.2",r)<1),e.top=e.top||a,S.rectInfo=e,S.inited=!0,e},w=Object.create(null);Object.keys(O).forEach(e=>{Object.defineProperty(w,e,{get(){if(!S.inited||!S.rectInfo[e]&&"canUseNav"!==e){var t=P()[e];return t||!1===t?t:(setTimeout(P,300),O[e])}return S.rectInfo[e]}})});var I=function(e){void 0===e&&(e=!0);var t=Object(o.a)();if(S.enterEmbedded&&!t&&(S.enterEmbedded=!1,e=!1,P()),t)return S.enterEmbedded=!0,44;var{top:r,height:n,canUseNav:a}=w,s=e?i.a:wx.getSystemInfoSync(),{statusBarHeight:c=20}=s,u=r-c+6+n+c;return a?u<=105?u:105:0},k=e=>{var t;return Object(o.a)()?0:null!=e?e-44:(null==(t=Object(a.b)())?void 0:t.statusBarHeight)||20},C=[],T=e=>C.find(t=>t.route.indexOf(e)),x=function(e){if(void 0===e&&(e=""),!e){var t=Object(n.b)();e=t.route}return _.some(t=>e.indexOf(y[t])>-1)}},QNh1:function(e,t,r){r.d(t,"a",function(){return o});var n=r("DBeL"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Widget:a()}},QNtA:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("UdN6")),a=o(r("eX/V"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"zh";if(t=t||"default",e instanceof Date)return e;if("number"==typeof e)return new Date(e);var o=n.default.parse(e,t,"string"==typeof r?a.default[r]:r);return o||null};t.default=i,e.exports=t.default},QSkc:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e>=0&&e<10?"0".concat(e):String(e)};t.default=n,e.exports=t.default},QTc8:function(e,t,r){var n={},a=1;t.a={set(e){var t="db_"+a++;return n[t]=e,t},delete(e){delete n[e]},get(e,t){void 0===t&&(t=!0);var r=n[e];return t&&delete n[e],r}}},QlcU:function(e,t,r){r.d(t,"j",function(){return n}),r.d(t,"i",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"h",function(){return s}),r.d(t,"e",function(){return d}),r.d(t,"d",function(){return l}),r.d(t,"f",function(){return p}),r.d(t,"a",function(){return h}),r.d(t,"b",function(){return f});var n={new:1,old:0},a={show:1,hidden:0},o={default:1,custom:2},i={WeiXin:"WeiXin",WeiXinGroup:"WeiXinGroup",WecomGroup:"wecomGroup"},s={[i.WeiXin]:"member",[i.WeiXinGroup]:"group",[i.WecomGroup]:"wecom-group"},c="https://img01.yzcdn.cn",u=c+"/weapp/wsc/4RYyjww.png",d={member:c+"/weapp/wsc/1c9OGo.png",group:u,wecomGroup:u,official:c+"/weapp/wsc/UJ60enB.png"},l={member:"添加微信",group:"加入微信群",wecomGroup:"加入企业微信群",official:"关注公众号"},p={member:"点击"+l.member,group:"点击"+l.group,wecomGroup:"点击"+l.wecomGroup,official:"点击"+l.official},h="/packages/home/dashboard/index",f=c+"/weapp/wsc/1fxuP9X.png"},R18q:function(e,t,r){r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=r("Oq22"),a=r("Qzzd"),o={init:()=>o,mark:n.a,setEnv:a.c,setExtra:a.d,addTrack:()=>{},capture:a.b,captureEvent:()=>{},captureXhr:()=>{},addProcessor:()=>0,removeProcessor:()=>{},addFilter:()=>0,removeFilter:()=>{},addCaptor:()=>0,removeCaptor:()=>{},setPageGroup:()=>{},setOptions:a.e,markRendered:()=>{}},i=()=>{}},R2NP:function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("h+Rz");function a(e){return n.a.setNavigationBarTitle({title:e})}function o(e){return n.a.setNavigationBarColor(e)}},R4YI:function(e,t,r){r.d(t,"a",function(){return _}),r.d(t,"b",function(){return S});var n,a,o,i,s,c,u,d,l=r("3tAa");(n=Object(l.a)("getAppTokenHook",void 0))[0],n[1],(a=Object(l.a)("checkLoginGlobalHook",void 0))[0],a[1],(o=Object(l.a)("teeLoginFailHook",void 0))[0],o[1],(i=Object(l.a)("beforeYouzanLoginHook",void 0))[0],i[1],(s=Object(l.a)("youzanLoginFailHook",void 0))[0],s[1];function p(e,t){var r=Object(l.a)(e,t);return{get:r[0],set:r[1]}}!function(e){e.NativeMobile="mobile_n",e.NativeNickAvatar="nick_n",e.YZButton="yz"}(c||(c={})),function(e){e.YZMobile="mobile_yz",e.YZProtocol="protocol_yz",e.YZAuth="auth_yz",e.YZUserInfo="info_yz",e.YZExternal="external_yz"}(u||(u={})),function(e){e[e.External=1]="External"}(d||(d={}));var h;!function(e){e[e.Unknown=-1]="Unknown",e[e.Password=0]="Password",e[e.Sms=1]="Sms",e[e.Yz=2]="Yz",e[e.Weapp=3]="Weapp",e[e.AppSdk=4]="AppSdk"}(h||(h={}));var f,g,v,m,y,b,_={mobileChange:p("mobileChangeHook"),authItemAfter:p("authOneAfterHook"),buttonClickAfter:p("authBtnClickAfterHook"),popupShowAfter:p("authPopupShowAfterHook")},O=(f="protocolBeforeAgreeHook",v=Object(l.a)(f,g),m=v[0],y=v[1],b=function(){return m()||[]},function(e,t,r){try{if(!e)return r;var n=e();if(!n)return r;var a=t||[];return Array.isArray(n)?Promise.all(n.map(function(e){return e.apply(void 0,a)})):n.apply(void 0,a)}catch(e){}return r}),S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.resolve().then(function(){return O.apply(void 0,e)})}},RSyW:function(e,t,r){var n=r("Fcif"),a=r("NHEX"),o=r.n(a),i=r("lCVF"),s=r.n(i),c=r("sXPE");t.a={state:{points:null,buyLimitGuideInfo:{},shopConfig:{}},getActions:()=>({formatSku(e,t){var r=t.goods,a=c.g.reduce((t,a)=>{var o=e[a];return o&&(t[a]=Object(n.a)({},r,function(e,t){var{discount:r,spuPrice:{price:a,pointsPrice:o,pointsPriceText:i},skuPrices:s,skuStocks:u,activityInfo:d,type:l,quotaNum:p,quotaUsed:h,spuStock:f={},totalNum:g=t.stockNum}=e,v=1/0,m=0,y=1/0,b=0,_=0,O={};s.length>0&&(s.forEach(e=>{if(e.recommendedPrice){if(e.isVipPriceAdvantage=e.recommendedPrice<e.price,e.isVipPriceAdvantage){var t=e.price-e.recommendedPrice;y=Math.min(y,t),b=Math.max(b,t)}0===_&&(_=e.isVipPriceAdvantage),_=_&&e.isVipPriceAdvantage}O[e.skuId]=Object(n.a)({},e)}),(u||[]).forEach(e=>{Object.assign(O[e.skuId],e)})),(t.list||[]).length||(v=Math.min(v,a),m=Math.max(m,a));var S=(t.list||[]).map(e=>{var r=Object(n.a)({},e,O[e.skuId]||{},{oldPrice:e.price});return t.stockNum>0&&0===r.stockNum||(v=Math.min(v,r.price),m=Math.max(m,r.price)),r}),P=[...(t.priceTags||[])],w=c.e[l];P.push({text:w,type:l});var I=Object(n.a)({},t.limit);return p&&(I.quota=p,I.quotaUsed=h,I.quotaCycle=0),Object(n.a)({stockNum:g},f,{discount:r,price:a||v||0,pointsPrice:o,pointsPriceText:i,minPrice:v,maxPrice:m,oldPrice:t.price,oldMinPrice:t.minPrice,oldMaxPrice:t.maxPrice,list:S,priceTags:P,limit:I,activityInfo:d,minVipSavedPrice:y,maxVipSavedPrice:b,isAllVipPriceAdvantage:_})}(o,r),{useCustomTags:!1})),t},t);if(a[c.f.POINTS]){var o=a[c.f.POINTS];o.showPeriodText=!1,o.buyWayText="兑换",o.limit&&(o.limit.startSaleNum=1)}return a},formatPriceInfo(e,t){var r={tags:t.tags||[]},a=e[c.f.DISCOUNT];if(a){var{minPrice:o,maxPrice:i,oldMinPrice:u,oldMaxPrice:d,priceTags:l,pointsPriceText:p}=a;Object.assign(r,{price:s()({min:o,max:i},"-"),minPrice:o,maxPrice:i,oldPrice:s()({min:u,max:d},"-"),oldMinPrice:u,oldMaxPrice:d,pointsPriceText:p,tags:l.filter(e=>[c.a.CUSTOMER_DISCOUNT,c.a.GOODS_SCAN].indexOf(e.type)>-1)})}if(e[c.f.POINTS]){var{pointsPriceText:h}=e[c.f.POINTS];Object.assign(r,{pointsPriceText:h})}return Object(n.a)({},t,r)},parseMemeberActivies(e){var{marketing:t,sku:r,priceInfo:a,buyLimitGuideInfo:i={}}=e,s=function(e){var{activities:t,orderActivity:r}=e||{},n={},{code:a=0,alias:o="",id:i=0,type:s}=r||{};return(t||[]).forEach(e=>{r&&s===e.type&&(e.activityInfo={activityType:a,activityAlias:o,activityId:i});var t=e.recommendedPriceModel||{};switch(e.type){case c.a.CUSTOMER_DISCOUNT:1!=+e.discount&&(n[c.f.DISCOUNT]=e),1===t.recommendedStatus&&(n[c.f.DISCOUNT_INVITE]=e);break;case c.a.GOODS_SCAN:n[c.f.DISCOUNT]=e;break;case c.a.POINTS:e.activityInfo||(e.activityInfo={activityAlias:"",activityId:e.id,activityType:5}),n[c.f.POINTS]=e;break;case c.a.SCRM_CARRIER:n[c.a.SCRM_CARRIER]=e;}}),n}(t),u=this.formatSku(s,r),d=this.formatPriceInfo(u,a),{supportItemProps:l}=e;return this.points=!!o()(s,c.f.POINTS,null),this.buyLimitGuideInfo=i,this.points&&(l=!1),this.setCtxData(s,"memberActivity"),this.setCtxData(i,"buyLimitGuideInfo"),Object(n.a)({},e,{sku:u,priceInfo:d,supportItemProps:l,memberActivity:s,buyLimitGuideInfo:i})},setPointsConfig(){this.setCtxData(this.shopConfig.pointsConfig,"pointsConfig")}})}},"RW/s":function(e,t,r){var n=r("iOq2"),a=r("HE1N"),o=r("VZJX"),i=r("J9xP"),s=r("PHxc");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},RY8z:function(e,t,r){var n=r("GFa9");t.a=n.a},Rl7e:function(e,t){e.exports={d:"",e:"",el:"",l:"getScene;checkIsHalfScreen;checkIsChannels;checkIsChannelsAsync;checkFromShowcase;checkFromChannelsLive;checkIsOpenByLiveBag;checkIsOpenByLiveGoodsShare;checkIsWxvideoLive;checkFromChannelsOpenFlow;checkIsNeedSyncOrderScene;checkIsOpenedWxV3;getTradeModuleStatus;checkBeforeAddOrderPromise;checkFromFullScreenSceneAsync",lc:"",p:"setShareIcon",pi:"",li:"onAppShow"}},Rm8A:function(e,t,r){var n=r("bb6g"),a=r("9ZMt"),o=r("QxN7"),i=r("Tewj"),s=r("DXKY"),c=r("Xdhg"),u=r("pTxV"),d=o.platform.authLogger,l=["weapp","ks","tt"],p=function(){function e(e,t){this.path=e,this.isSeparated=t,this.offEventHandler=[],this.init()}return e.prototype.init=function(){var e=c.a.register(u.EventRegisterType.MAIN,this.path);e&&(this.id=e)},e.prototype.setCallback=function(e){this.callbackMap=e},e.prototype.onAuthSync=function(e){var t=Object(o.onUserAuthSync)(e);this.offEventHandler.push(t)},e.prototype.onAuthSuccess=function(e){var t=this,r=Object(o.onUserAuthSuccess)(function(r){r.__comId!==t.id&&e(r)});if(this.offEventHandler.push(r),l.indexOf(a.default.getEnv())>-1){var n="account:user-authorize:native-auth-success",i=function(t){d.logSkynet("触发已废弃事件",{eventName:n,params:t}),e(t)};s.a.on(n,i),this.offEventHandler.push(function(){return s.a.off(n,i)})}},e.prototype.onUserInfoChanged=function(e){i.default.on(u.EventName.USER_INFO_CHANGED,e),this.offEventHandler.push(function(){return i.default.off(u.EventName.USER_INFO_CHANGED,e)})},e.prototype.onLoginEndEvent=function(e){var t=function(t){!t.cache&&e()};i.default.on(o.TEE_LOGIN_END_EVENT,t),this.offEventHandler.push(function(){return i.default.off(o.TEE_LOGIN_END_EVENT,t)})},e.prototype.offEvent=function(){this.offEventHandler.forEach(function(e){return e()}),this.offEventHandler=[]},e.prototype.callPopup=function(e,t){if(this.isSeparated){var r=c.a.getLatestPopupId(t,this.path);i.default.trigger(u.EventName.POPUP_TRIGGER,{type:u.EventPopupTriggerTypes.POPUP_SHOW,data:e,mainId:this.id,callback:this.callbackMap,popupId:r})}},e.prototype.authSuccess=function(e){Object(o.emitUserAuthSuccess)(Object(n.__assign)(Object(n.__assign)({},e),{__comId:this.id}))},e}();t.a=p},RqPZ:function(e,t,r){var n=r("GI0s"),a=r("9aUh");e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},"Rz+h":function(e,t,r){r.d(t,"a",function(){return z});var n,a,o,i,s,c=r("+I+c"),u=r("Fcif"),d=r("9ZMt"),l=r("xers"),p=r.n(l),h=r("w2Y9"),f=r.n(h),g=r("tuFO"),v=r.n(g);function m(e){return Object.keys(e).reduce(function(t,r){return e[r]&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])),t},[]).join("&")}!function(e){e.WSC="wsc",e.LS="ls",e.FX="fx"}(n||(n={})),function(e){e.GOODS="goods"}(a||(a={})),function(e){e.INDEX="index",e.CONVERSATIONS="conversations"}(o||(o={})),function(e){e.CPS="cps",e.BRAND="brand"}(i||(i={})),function(e){e.IM="im",e.LAYER="layer"}(s||(s={}));var y="/",b="/conversations";function _(){var e,t;if("undefined"==typeof document)return"https://h5.youzan.com";var r=null===(t=null===(e=document)||void 0===e?void 0:e.location)||void 0===t?void 0:t.origin;return r&&(/h5.youzan.com/.test(r)||/shop[0-9]{6}[0-9]*(-[0-9]{2}){0,1}\.youzan\.com/.test(r))?r:r&&/shop[0-9]{6}[0-9]*(-[0-9]{2}){0,1}\.m\.youzan\.com/.test(r)?r.replace(/\.m\.youzan\.com/,function(){return".youzan.com"}):"https://h5.youzan.com"}var O="packages/retail-shelf/shelf/index",S={SCAN_GO:"scan_order_way",FREE_GO:"free_order_way",SELF:"self_order_way",TAKEOUT:"takeout_order_way",NEARBY_STORE:"nearby_store_way",SHELF_GOODS:"shelf_goods",SHELF_GROUP:"shelf_group",WX_SCAN_CODE:"wx_scan_code",SaleToday:"sale_today",SaleAdvance:"sale_advance",TABLE_BOOKING:"tableBooking"},P={[S.SELF]:0,[S.SaleToday]:0,[S.SaleAdvance]:0,[S.TAKEOUT]:1},w={[S.SELF]:O+"?mode=0",[S.SaleToday]:O+"?mode=0&filter=1",[S.SaleAdvance]:O+"?mode=0&filter=2",[S.TAKEOUT]:O+"?mode=1"},I=r("US/N"),k=r("tmLU"),C=r("Oq22"),T=r("AGZf"),x=(r("4jn8"),r("2wjL")),j=r("ONqW"),A=d.default.getApp();function E(e){var t=A.getKdtId();Object(k.c)({navigatePath:"retail-shelf",navigateCb:r=>{setTimeout(()=>{C.a.start("retail_shelf_init_"+A.globalData.shelfParams.mode),C.a.start("retail_shelf_config");var n="/"+e+"&prefetchKey="+r+"&prefetchKdtId="+t;d.default.$native.navigateTo({url:n})},150)},prefetchCb:()=>{var t,{mode:r,filter:n}=x.a.getAll(e)||{};return 0!==r||n?Promise.reject():(t={mode:r},Object(I.default)({path:"retail/h5/miniprogram/shelf-config/getFirstLevelConfigs",method:"POST",data:Object(u.a)({},t,{useSwitch:"v2",supportUnavailableGoods:2})}))}})}var D=function(e,t){void 0===t&&(t={}),d.default.$native.navigateTo({url:f.a.add(e,t)})},M=(e,t,r)=>{d.default.$native.getSetting({success:n=>{var a=n.authSetting["scope.userLocation"];if(void 0===a||!0===a)d.default.$native.getLocation({type:"gcj02",fail:()=>{null!=t&&t.handleShowAuthDialog&&t.handleShowAuthDialog()},success:t=>{if(r)return D(e,t);E(e)}});else if(!1===a){if(r)return D(e);E(e)}}})},N=(e,t)=>{var{linkType:r,linkUrl:n}=e;[S.SELF,S.TAKEOUT,S.SaleToday,S.SaleAdvance].includes(r)?(A.globalData.shelfParams={mode:P[r]},M(w[r],t)):[S.SCAN_GO,S.FREE_GO].includes(r)?(C.a.start("scan_order_decorate"),d.default.navigate({url:"/"+n})):[S.SHELF_GOODS,S.SHELF_GROUP].includes(r)?(e=>{var{linkId:t,linkType:r,alias:n,extraData:a={}}=e,o="shelf_goods"===r,i=((e,t,r)=>e&&t&&r?t.includes(1)&&r.includes(1)?0:1:0)(o,a[o?"groupSupportDeliveryType":"deliveryType"],o?a.goodSupportDeliveryType:[1,2,3]),s={mode:i};A.globalData.shelfParams={mode:i},"shelf_goods"===r&&Object.assign(s,{fromShared:1,sharedGoodsIdProp:t,sharedGoodsAliasProp:n}),M(f.a.add(O,s))})(e):r===S.WX_SCAN_CODE?(Object(j.a)().log({et:"custom",ei:"click_wx_scan_code",en:"点击扫一扫链接"}),wx.scanCode({success:e=>{e.path?(Object(T.a)({type:"success",message:"识别成功，正在跳转",duration:0}),wx.navigateTo({url:"/"+e.path,complete:()=>{T.a.clear()}})):T.a.fail("仅能扫此商家桌码/店铺码哦")},fail:()=>{T.a.error("识别失败")}})):r===S.TABLE_BOOKING&&M(n,t,!0)},L=r("SVbq"),R=e=>{var{videoDynamicParams:t,linkTitle:r}=e;return Object(u.a)({},t,{image_url:null==e?void 0:e.imageUrl,link_title:r})},U=r("YeA1"),B=["type"],F=["/pages/home/dashboard/index","/pages/goods/cart/index","/pages/usercenter/dashboard/index","/pages-retail/usercenter/dashboard-v2/index"];var G=1,H=2,q=(e,t)=>{"web"===d.default.getEnv()?t&&d.default.navigate({url:t}):e&&d.default.navigate({url:e})},z=function(e,t){void 0===t&&(t={});var r,{dmc:a}=Object(U.a)(),{type:i=""}=e,l="",h=!1,{alias:g,linkType:O="",linkId:P="",linkUrl:w="",linkTitle:k="",extraData:C={},query:x={},goodsAlias:A}=e,{kdtId:E,banner_id:D,imageUrl:M,goodsPreloadOpt:z,title:W}=t,K={kdt_id:E},Y={};if(D&&(Y.banner_id=D),"chat"===(i=O||i)){if("web"===d.default.getEnv()&&t){var V=function(e){var t=void 0===e?{kdtId:""}:e,r=t.channel,a=void 0===r?n.WSC:r,i=t.version,c=void 0===i?2:i,u=t.origin,d=void 0===u?"":u,l=t.kdtId,p=t.pageType,h=t.alias,f=void 0===h?"":h,g=t.fromSource,v=t.target,O=void 0===v?o.INDEX:v,S=t.clientKdtId,P=t.fromChannel,w=void 0===P?"":P,I=t.mod,k=void 0===I?s.IM:I,C=t.biz,T=void 0===C?"":C,x=Number(new Date),j={c:a,v:c,o:d,fc:w,biz:T,kdt_id:l};if("goods"===p?Object.assign(j,{type:p,alias:f}):"fx"===a&&Object.assign(j,{my_kdt_id:S||""}),g){g.site_id=g.site_id||void 0;var A=function(){try{return JSON.stringify(g)}catch(e){return""}}();Object.assign(j,{fs:A})}var E={id:l,t:x},D="";switch(O){case o.CONVERSATIONS:D=b;break;case o.INDEX:default:D=y;}switch(k){case s.LAYER:var M="/v3/im/index/layer?"+m(j)+"#"+D+"?"+m(E);return _()+M;case s.IM:default:M="/v3/im/index?"+m(j)+"#"+D+"?"+m(E);return _()+M;}}(t);V&&d.default.navigate({url:f.a.add(V,Y)})}}else if("homepage"===i)a.switchTab("Home",Object(u.a)({},Y,K)).catch(()=>{a.navigate("Home",Object(u.a)({},Y,K))});else if("goods"===i&&g){var{image:X={},price:J=""}=z||{};a.navigate("GoodsDetail",Object(u.a)({alias:g},x,Y),{bizParams:{alias:g,image:{url:M||X.url,width:X.width,height:X.height},title:W,price:J}})}else if("feature"===i&&g){var $=getApp(),Z=(r=getCurrentPages()).length>0?r[r.length-1].route:"";if(!$.isChainStoreSync()||!Object(L.y)(Z))return void a.navigate("Feature",Object(u.a)({alias:g},Y));var{enterConfig:Q={},featureSource:ee,kdtId:te}=C,{mode:re}=Q;if($.featureJump({bannerIdOpt:Y,alias:g,enterConfig:Q}))return;if(!re){if(ee===G)return void a.navigate("Feature",Object(u.a)({alias:g,kdtId:te},Y));if(ee===H){var ne=Object(u.a)({alias:g},Y);return Object(L.y)(Z)&&(ne.shopAutoEnter=4),void a.navigate("Feature",ne)}}a.navigate("Feature",Object(u.a)({alias:g},Y))}else if("tag"===i){var ae=g?{alias:g}:f.a.getAll(w);ae.alias&&a.navigate("GoodsTag",Object(u.a)({alias:ae.alias,title:k},Y))}else if("cart"===i)a.switchTab("Cart",Object(u.a)({},Y,K)).catch(()=>{a.navigate("Cart",Object(u.a)({},Y,K))});else if("usercenter"===i)a.switchTab("Usercenter",Object(u.a)({},Y,K)).catch(()=>{a.navigate("Usercenter",Object(u.a)({},Y,K))});else if("shopnote"===i)a.switchTab("Shopnote",Object(u.a)({},Y,K)).catch(()=>{a.navigate("Shopnote",Object(u.a)({},Y,K))});else if("allgoods"===i)a.navigate("AllGoodsList",Object(u.a)({title:k},Y));else if("coupon"===i)"web"===d.default.getEnv()&&w?q("",""+w):a.navigate("CouponDetail",Object(u.a)({id:e.link_id||e.linkId,type:7===(e.coupon_type||e.couponType)?"promocard":""},Y));else if("point_card"===i)q("/packages/pointstore/goods-details/index?goods_id="+e.pointGoodsId+"&"+D+"="+D,w);else if("pointsstore"===i)a.navigate("PointGoodsList",Object(u.a)({},Y,K));else if("seckill"===i)"web"===d.default.getEnv()&&w?q("",""+w):"web"===d.default.getEnv()?a.navigate("Seckill",Object(u.a)({alias:A,ump_alias:g,ump_type:"seckill",activityType:"seckill"},x,K)):a.navigate("Seckill",Object(u.a)({alias:g},A?{goodsAlias:A}:{},Y));else if("bargain"===i)a.navigate("GoodsDetail",Object(u.a)({alias:g,umpType:e.umpType||"",activityId:e.activityId},Y));else if("paidcolumn"===i)a.navigate("PaidContentColumn",Object(u.a)({alias:g},Y));else if("paidcontent"===i)a.navigate("PaidContentContent",Object(u.a)({alias:g},Y));else if("mypaidcontent"===i)a.navigate("PaidContentList",Object(u.a)({},Y,K));else if("paidlive"===i)a.navigate("PaidContentLive",Object(u.a)({alias:g},Y));else if("allcourse"===i)a.navigate("EduGoodsList",Object(u.a)({},Y,K));else if("course"===i||"educourse"===i||"allofflinecourse"===i||"eduappointment"===i||"course_group"===i||"course_category"===i||"edumoments"===i){if("web"===d.default.getEnv())q("",w);else{var oe=w.replace(/^http(s)?:\/\/shop\d+-?\d+/,"https://h5");a.navigate("EduWebview",Object(u.a)({targetUrl:oe},Y))}}else if("link"===i){var{linkUrl:ie}=e;"web"===d.default.getEnv()&&ie&&q("",ie),ie&&/mp.weixin.qq.com\/s/.test(ie)&&a.navigate("CommonWebview",Object(u.a)({src:ie},Y))}else if("weapplink"===i&&"1"===C.linkType){"/"!==(l=C.myWeappLink)[0]&&(l="/"+l);var se=l.split("?")[0];if(F.indexOf(se)>-1&&(h=!0),0===(l=f.a.remove(l,"shopAutoEnter")).indexOf("/pages/common/blank-page/index")){var ce=f.a.getAll(l);if(ce.weappSharePath){var ue=decodeURIComponent(ce.weappSharePath);ue=f.a.remove(ue,"shopAutoEnter"),ce.weappSharePath=ue,l=f.a.add("/pages/common/blank-page/index",ce)}}if(!p()(t)&&!h){var{banner_id:de}=t;l=f.a.add(l,{banner_id:de})}d.default.navigate({url:l}).catch(()=>{d.default.$native.reLaunch({url:l})})}else if("weapplink"===i&&"2"===C.linkType){getApp().logger.skynetLog({appName:"wsc",message:"跳转其他小程序",detail:Object(u.a)({},C)}),+C.useShortLink||+C.use_short_link?d.default.$native.navigateToMiniProgram({shortLink:C.shortLink||C.short_link}):d.default.$native.navigateToMiniProgram({appId:C.otherWeappAppid||C.other_weapp_appid,path:C.otherWeappLink||C.other_weapp_link})}else if("calendar_checkin"===i)a.navigate("Checkin",Object(u.a)({},K,Y));else if(["guaguale","wheel","zodiac","crazyguess"].includes(i)){var le=w||"",pe="";le.includes("lottery")&&(pe="LuckyLottery"),le.includes("cards")&&(pe="Cards"),le.includes("zodiac")&&(pe="Zodiac"),le.includes("crazy")&&(pe="CrazyGuess"),pe&&a.navigate(pe,Object(u.a)({alias:g},Y))}else if("shopnote_detail"===i)a.navigate("ShopnoteDetail",Object(u.a)({noteAlias:g},Y));else if("mp_article"===i)a.navigate("MpArticle",Object(u.a)({noteAlias:g},Y));else if("hotellist"===i||"recharge_center"===i||"point_coupon"===i||"room_typelist"===i||"combolist"===i)"web"===d.default.getEnv()?q("",w):a.navigate("CommonWebview",Object(u.a)({src:w},Y));else if("period_list"===i)a.navigate("PeriodBuyList",Object(u.a)({},K,Y));else if("point_store"===i)a.navigate("PointGoodsList",Object(u.a)({},K,Y));else if("groupon"===i||"collector_card"===i||"gift_card"===i)w&&d.default.navigate({url:w});else if("weapp_marketing_page"===i||"marketing_page"===i)a.navigate("MarketingPage",Object(u.a)({},K,Y,{id:C.id||""}));else if("survey"===i||"guaguale"===i||"history"===i)q("",w);else if("video_number"===i){var he=d.default.$native.getStorageSync("channelsLiveInfo")||"";if(!he)return;var{feedId:fe,nonceId:ge}=JSON.parse(he);d.default.$native.openChannelsLive&&d.default.$native.openChannelsLive({feedId:fe,nonceId:ge,finderUserName:P})}else if("social_fans"===i){var{qrcode:ve}=e,me=v()(f.a.add("/v3/message/live-qrcode/member",{kdtId:E,activitiesId:ve}),"h5",E);d.default.$native.navigateTo({url:"/pages/common/webview-page/index?src="+encodeURIComponent(me)})}else if("weapp_web_link"===i)q(f.a.add(w,Y),f.a.add(w,Object(u.a)({},K,Y)));else{if("red-package"===i)return d.default.$native.showRedPackage({url:w}),{};if("member_code"===i)d.default.$native.navigateTo({url:"/packages/member-code/index"});else if("vipcenter"===i)d.default.$native.navigateTo({url:"/packages/shop/levelcenter/free/index"});else if("category"===i)q("",f.a.add(w,Object(u.a)({},K,Y)));else if("pay_vipcenter"===i)d.default.$native.navigateTo({url:"/packages/shop/levelcenter/plus/index"});else if("shop_ranking_list"===i){var{tabType:ye}=e;if(ye){var be=v()(f.a.add("/wscshop/showcase/shop-ranking-list",{type:ye}),"h5",E);d.default.$native.navigateTo({url:"/pages/common/webview-page/index?src="+encodeURIComponent(be)})}}else if("video_number_dynamic"===i){var{}=e,_e=Object(c.a)(e.videoDynamicParams,B);(e=>{var t=R(e);Object(j.a)().log({et:"click",ei:"wxvideo_video_click",en:"视频号动态点击",params:t})})(e),d.default.$native.openChannelsActivity&&d.default.$native.openChannelsActivity(Object(u.a)({},_e,{success:()=>{(e=>{var t=R(e);Object(j.a)().log({et:"custom",ei:"wxvideo_video_jump_success",en:"视频号动态跳转成功",params:t})})(e)},fail:t=>{((e,t)=>{var r=R(e);Object(j.a)().log({et:"custom",ei:"wxvideo_video_jump_fail",en:"视频号动态跳转失败",params:Object(u.a)({},r,{error_msg:null==t?void 0:t.errMsg})})})(e,t)}}))}else if("storelist"===i||"nearby_store_way"===i)d.default.$native.navigateTo({url:"/packages/shop/physical-store/index"});else if("goods_classify"===i)a.navigate("CommonWebview",Object(u.a)({src:w},Y));else if(Object.values(S).includes(i)){var{context:Oe}=t;N(e,Oe)}else["booking_mall","express_mall"].includes(i)&&Object(I.default)({method:"GET",path:"wscdeco/decorate-api/getMallFeatureByType.json",data:{type:i}}).then(e=>{var{alias:t}=e;t?a.navigate("Feature",{alias:t}):Object(T.a)("未启用相关微页面")})}}},Sd3C:function(e,t,r){r.d(t,"d",function(){return c}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return d});var n=r("2wjL"),a=r("WLNV"),o=r("+fxQ"),i={cashier:"https://cashier.youzan.com",uic:"https://uic.youzan.com",carmen:"https://open.youzan.com",h5:"https://h5.youzan.com",h5m:"https://h5.m.youzan.com",trade:"https://trade.youzan.com",qiniu:"https://img01.yzcdn.cn",money:"https://money.youzan.com",guang:"https://g.youzan.com",baymax:"https://open.youzan.com/bifrost"},s={origin:"carmen",pathname:"",query:{}};var c=e=>((e=>/^http:\/\//.test(e))(e)&&(e=e.replace("http://","https://")),e),u=()=>{var e=getCurrentPages()||[];return e[e.length-1]||{}},d=function(e){void 0===e&&(e={});var{withSlash:t,withQuery:r}=e,{route:a,options:o={}}=u();if(!a)return"";var i=a;return t&&(i="/"+i),r&&(i=n.a.add(i,o)),i};t.a=function(e){var t=((e=Object(a.a)({},s,e)).pathname||"").startsWith("/");return Object(o.b)(e.origin).then(t=>t||i[e.origin]).catch(()=>i[e.origin]).then(r=>{var a=r+(t?"":"/")+e.pathname;return n.a.add(a,e.query)})}},Shdd:function(e,t,r){r.d(t,"c",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"b",function(){return c});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}c((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue;}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{state:n(n({},e.state),t.state),getters:n(n({},e.getters),t.getters),getActions:function(r){var a,o;return n(n(n(n({},null==e?void 0:e.actions),null==t?void 0:t.actions),null===(a=null==e?void 0:e.getActions)||void 0===a?void 0:a.call(e,r)),null===(o=null==t?void 0:t.getActions)||void 0===o?void 0:o.call(t,r))}}},s=function(e,t,r){return t.reduce(function(t,r){return a(void 0,void 0,void 0,function(){var n;return o(this,function(a){switch(a.label){case 0:return[4,t];case 1:return n=a.sent(),[2,r.bind(e)(n)];}})})},Promise.resolve(r))},c=function(e,t,r){return function(a){return void 0===a&&(a={}),new Promise(function(o){e.createSelectorQuery().select(t).boundingClientRect().exec(function(e){var t,i=e[0]?e[0].top:0;o(n(n({},a),((t={})[r]=i,t)))})})}}},Sm4f:function(e,t){e.exports={d:"shopCertConfig;0;isWsc;0",w:"Main",wd:"Main"}},T6h7:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("ZxyO"))&&n.__esModule?n:{default:n};var o=function(e,t){return e=new a.default(e),t=new a.default(t),parseFloat(e.minus(t).toFixed())};t.default=o,e.exports=t.default},"TO+A":function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("h+Rz");function a(){return n.a.stopPullDownRefresh()}function o(){return n.a.startPullDownRefresh()}},TOEM:function(e,t,r){r.d(t,"a",function(){return a});var n=r("/XVY"),a=Object(n.a)({btnName:{default:""},qrcode:{default:0},isH5Support:{default:!1},isWeappContactSupport:{default:!1},isWeappSupport:{default:!1},customLogo:{default:""},title:{default:""},scene:{default:""},bgColor:{default:""},logo:{default:""},subType:{default:1},desc:{default:""},type:{default:""},headImageUrl:{default:""},qrCodeUrl:{default:""},imgOpt:{default:{}},cardBg:{default:""},isFillet:{default:"1"},pagePadding:{default:0},componentVersion:{default:"0"},logoType:{default:"1"}})},Tr3L:function(e,t,r){r.d(t,"a",function(){return a});var n=r("h+Rz");function a(){return n.a.getNetworkType()}},TzfB:function(e,t,r){r.d(t,"a",function(){return a});var n=r("ECkf"),a=Behavior({externalClasses:["hover-class"],properties:{id:String,buttonId:String,lang:String,businessId:Number,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,ariaLabel:String,openType:String,getUserProfileDesc:String},data:{canIUseGetUserProfile:Object(n.b)()},methods:{onGetUserInfo(e){this.triggerEvent("getuserinfo",e.detail)},onContact(e){this.triggerEvent("contact",e.detail)},onGetPhoneNumber(e){this.triggerEvent("getphonenumber",e.detail)},onGetRealTimePhoneNumber(e){this.triggerEvent("getrealtimephonenumber",e.detail)},onError(e){this.triggerEvent("error",e.detail)},onLaunchApp(e){this.triggerEvent("launchapp",e.detail)},onOpenSetting(e){this.triggerEvent("opensetting",e.detail)},onAgreePrivacyAuthorization(e){this.triggerEvent("agreeprivacyauthorization",e.detail)},onChooseAvatar(e){this.triggerEvent("chooseavatar",e.detail)}}})},UL3R:function(e,t,r){r.d(t,"a",function(){return o});var n=r("Fcif"),a=r("svh/");function o(e){void 0===e&&(e={});var t=e.mapData||{};return e.getters&&(t=Object(n.a)({},t,Object(a.f)(e.getters))),e.state&&(t=Object(n.a)({},t,Object(a.h)(e.state))),e.mapData=t,e}},VZJX:function(e,t,r){var n=r("cm7J");e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},VbZR:function(e,t){e.exports=function(e){return e!=e}},VdoR:function(e,t,r){var n=r("Pv5g"),a=Object(n.a)({appName:"wsc",logIndex:"new_wsc_weapp_log"});t.a=a},VfJb:function(e,t,r){r.d(t,"a",function(){return c});var n,a=r("w2Y9"),o=r.n(a);!function(e){e.FreightInsurance="freightInsurance",e.FreightInsurancePro="freightInsurancePro",e.SupportQuickRefund="supportQuickRefund",e.IsExpiredAutoRefund="isExpiredAutoRefund",e.SupportUnconditionalReturn="supportUnconditionalReturn",e.SupportBarter="supportBarter",e.SupplierDirect="supplierDirect",e.HaitaoTaxContains="haitaoTaxContains",e.PhysicalStore="physicalStore",e.CashOnDelivery="cashOnDelivery",e.HaitaoTaxExtraPays="haitaoTaxExtraPays",e.TaxFreeExpress="taxFreeExpress",e.OverseaDirectMail="overseaDirectMail",e.UnsupportRefund="unsupportRefund",e.UnsupportRefundNoReason="unsupportRefundNoReason",e.SupportExpress="supportExpress",e.SupportSelfFetch="supportSelfFetch",e.SupportLocalDelivery="supportLocalDelivery",e.IsSecuredTransactions="isSecuredTransactions",e.IsSecuredTransactionsKuaishou="isSecuredTransactionsKuaishou",e.AfterSalesFromShop="afterSalesFromShop",e.PayShopDirectly="payShopDirectly",e.HaitaoShopCert="haitaoShopCert",e.HaitaoPersonalLimit="haitaoPersonalLimit"}(n||(n={}));var i=[{key:n.FreightInsurance,show:function(e){var t=e.shopConfig;return 1===Number(t.supportFreightInsurance)}},{key:n.FreightInsurancePro,show:function(e){var t=e.shopConfig;return 2===Number(t.supportFreightInsurance)}},{key:n.SupportQuickRefund,show:function(e){return e.goodsBaseInfo.supportQuickRefund}},{key:n.IsExpiredAutoRefund,show:function(e){var t;return null===(t=e.goodsActivity.virtualTicket)||void 0===t?void 0:t.isExpiredAutoRefund}},{key:n.SupportBarter,show:function(e){var t;return 1===(null===(t=e.goodsBaseInfo.barterModel)||void 0===t?void 0:t.isSupportBarter)}},{key:n.SupportUnconditionalReturn,show:function(e){return e.goodsBaseInfo.supportUnconditionalReturn}},{key:n.SupplierDirect,show:function(e){var t,r=e.goodsBaseInfo,n=e.staticConfig;return r.fxTradeMode===(null===(t=null==n?void 0:n.fxMode)||void 0===t?void 0:t.PROMOTION)},parser:function(e){var t,r=e.goodsBaseInfo,n=null===(t=e.staticConfig.certUrlMap)||void 0===t?void 0:t.shopInfo;return n?{url:o.a.add(n,{kdt_id:r.supplierKdtId,show:"supplier",no_footer:1,no_btn:1})}:null}},{key:n.HaitaoTaxContains,show:function(e){var t=e.goodsBaseInfo,r=e.goodsActivity;return t.isHaitao&&r.haitao&&0!==r.haitao.tariffRule}},{key:n.PhysicalStore,show:function(e){var t=e.shopConfig,r=e.env;return t.hasPhysicalStore&&!r.isNewHopeKdt}},{key:n.CashOnDelivery,show:function(e){return e.payWays.cashOnDelivery}},{key:n.HaitaoTaxExtraPays,show:function(e){var t=e.goodsBaseInfo,r=e.goodsActivity;return t.isHaitao&&r.haitao&&0===r.haitao.tariffRule}},{key:n.TaxFreeExpress,show:function(e){var t;return 1210===(null===(t=e.goodsActivity.haitao)||void 0===t?void 0:t.haiTaoTradeMode)}},{key:n.OverseaDirectMail,show:function(e){var t;return 9610===(null===(t=e.goodsActivity.haitao)||void 0===t?void 0:t.haiTaoTradeMode)}},{key:n.UnsupportRefund,show:function(e){var t;return!(null===(t=e.goodsMetaInfo.refund)||void 0===t?void 0:t.isSupport)}},{key:n.UnsupportRefundNoReason,show:function(e){var t=e.goodsBaseInfo,r=e.goodsActivity;return t.isHaitao&&r.haitao||t.isPrescriptionCategory}},{key:n.SupportExpress,show:function(e){return e.distribution.supportExpress},parser:function(e){var t=e.distribution,r=t.expressFee,n="免运费"===r?r:"运费："+r;return t.expressPayMode&&(n="为运费到付，运费最终以物流公司计算为准"),{desc:"可选择快递发货配送上门，本商品"+n+"。"}}},{key:n.SupportSelfFetch,show:function(e){return e.distribution.supportSelfFetch}},{key:n.SupportLocalDelivery,show:function(e){return e.distribution.supportLocalDelivery},parser:function(e){var t=e.distribution;return{desc:"可选择同城配送并预约送达时间"+(t.localDeliveryFee?"，本商品运费："+t.localDeliveryFee:"")+"。"}}},{key:n.IsSecuredTransactions,show:function(e){var t=e.shopConfig,r=e.env;return t.isSecuredTransactions&&"kuaishou"!==r.platform}},{key:n.IsSecuredTransactionsKuaishou,show:function(e){var t=e.shopConfig,r=e.env;return t.isSecuredTransactions&&"kuaishou"===r.platform}},{key:n.AfterSalesFromShop,show:function(e){return!e.shopConfig.isSecuredTransactions}},{key:n.PayShopDirectly,show:function(e){return!e.shopConfig.isSecuredTransactions}},{key:n.HaitaoShopCert,show:function(e){var t=e.goodsBaseInfo,r=e.goodsActivity;return t.isHaitao&&r.haitao}},{key:n.HaitaoPersonalLimit,show:function(e){var t=e.goodsBaseInfo,r=e.goodsActivity;return t.isHaitao&&r.haitao}}],s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function c(e){return i.reduce(function(t,r){var n=r.key,a=r.show,o=r.parser;if(!a||"function"==typeof a&&!a(e))return t;var i=e.staticConfig.serviceTagMap,c=(void 0===i?{}:i)[n],u=o?o(e):c;return(u||c)&&t.push(s(s({},c),u)),t},[])}},Vg0o:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r("QSkc")),a=h(r("5HXs")),o=h(r("LYai")),i=h(r("vgDv")),s=h(r("e2Yn")),c=h(r("OK7I")),u=h(r("9DIb")),d=h(r("w4n3")),l=h(r("cWxX")),p=h(r("s0cO"));function h(e){return e&&e.__esModule?e:{default:e}}var f={addZero:n.default,bem:a.default,escape:o.default,unescape:i.default,getLength:s.default,makeRandomString:c.default,mapKeysToCamelCase:u.default,mapKeysToSnakeCase:d.default,toCamelCase:l.default,toSnakeCase:p.default};t.default=f,e.exports=t.default},VlGz:function(e,t,r){var n=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,a,i=[];for(a in"string"!=typeof t&&(t="?"),e)if(n.call(e,a)){if((r=e[a])||null!=r&&!isNaN(r)||(r=""),a=o(a),r=o(r),null===a||null===r)continue;i.push(a+"="+r)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var o=a(t[1]),i=a(t[2]);null===o||null===i||o in n||(n[o]=i)}return n}},VmCB:function(e,t,r){r.d(t,"a",function(){return y});var n,a,o=r("Fcif"),i=r("9DIb"),s=r.n(i),c=r("NHEX"),u=r.n(c),d=0,l=1,p=((n={})[d]="全款预售",n[l]="定金预售",n),h=((a={})[d]="fullPresale",a[l]="deposit",a),f=r("KEq0"),g=r.n(f);var v={price:0,oldPrice:0,priceTitle:"",notShowPriceTitle:!1,soldNum:0,stockNum:0};function m(e){return void 0===e&&(e=[]),e.reduce((e,t)=>Object(o.a)({},e,{[t.skuId]:t}),{})}function y(e,t,r){void 0===r&&(r={});var n=u()(e,"staticData.goodsData",{}),a=u()(t,"showDefaultCartText"),{skuInfo:i,goods:c}=n,d=u()(c,"periodBuyExtra",null),f=function(e,t,r){void 0===e&&(e={}),void 0===t&&(t=null);var{props:n=[],messages:a=[],skus:i=[],hideStock:c=!1,birthdayInfo:d={}}=e,l=[],p=n.map(e=>(e.v=e.v.map(e=>{var{imgUrl:t}=e;return t&&(t=g()(t)),Object(o.a)({},e,{imgUrl:t})}),e)),h=Object(o.a)({},v,{hideStock:c,tree:p,list:l,messages:a,birthdayInfo:d}),f=m(e.skuPrices),y=m(e.skuStocks);if(r.isDisplaySkuPicture&&p.length>0&&(p[0].largeImageMode=!0),t){var b=m(t.skuPrices),_=m(t.skuStocks);l=i.map(e=>{var{skuId:t}=e,r=f[t].price,n=_[t];n&&n.disable&&(n=Object(o.a)({},n,{stockNum:0}));var a=b[t];return a&&a.price>0&&(a=Object(o.a)({},a,{notShowPriceTitle:a.price>=r})),Object(o.a)({},v,e,{oldPrice:r},a,n,{id:t})}),h=Object(o.a)({},h,t.spuStock,t.spuPrice,{collectionId:u()(t,"spuStock.skuId",0),collectionPrice:u()(t,"spuPrice.price",0),oldPrice:u()(e,"spuPrice.price",0),list:l})}else l=i.map(e=>{var{skuId:t}=e;return Object(o.a)({},v,e,{oldPrice:0},f[t],y[t],{id:t})}),h=Object(o.a)({},h,e.spuStock,e.spuPrice,{collectionId:u()(e,"spuStock.skuId",0),collectionPrice:u()(e,"spuPrice.price",0),list:l});var O=1/0,S=0,P=1/0,w=0,I=0===h.list.length;return I?(h.collectionPrice=O=S=h.price,P=w=h.oldPrice||0):(h.stockNum=h.list.reduce((e,t)=>e+(t.stockNum||0),0),h.list.forEach(e=>{e.disable||h.stockNum>0&&0===e.stockNum||(O=Math.min(O,e.price),S=Math.max(S,e.price),P=Math.min(P,e.oldPrice),w=Math.max(w,e.oldPrice))}),h.price=O||S||0,h.oldPrice=P||w||0),h.price=h.price||O||S||0,isFinite(w)||(w=0),h.oldPrice=h.oldPrice||P||w||0,s()(Object(o.a)({},h,{noneSku:I,minPrice:O,maxPrice:S,oldMinPrice:P,oldMaxPrice:w,previewOnClickImage:!1}))}(i,null,c),y=function(e,t){return void 0===t&&(t={}),{quota:e.quota||0,quotaUsed:(t.goodsExtra||{}).quotaUsed||e.quotaUsed||0,singleQuota:e.isHaitao||e.isVirtualTicket||e.isVirtualCoupon?100:0,quotaCycle:e.quotaCycle,startSaleNum:e.startSaleNum||1}}(c,r);if(f.limit=y,f.stepperTitle=d?"每期配送数量":a?"购买数量":"数量",c.preSaleInfo){var{preSaleType:b}=c.preSaleInfo,_=p[b],O=h[b];if(f.priceTags=[{text:_,type:O}],b===l){var S=function(e,t){var{price:r,minPrice:n,maxPrice:a,list:i}=t,{deposit:s,minDeposit:c,maxDeposit:u,skuDepositModels:d}=e;if(d&&d.length){var l=d.reduce((e,t)=>Object(o.a)({},e,{[t.skuId]:t.deposit}),{});i.forEach(e=>{e.price=l[e.skuId]})}return{price:s||c||u||0,minPrice:c||s,maxPrice:u||s,oldPrice:r,oldMinPrice:n,oldMaxPrice:a,list:i,pricePrefix:"定金"}}(c.preSaleInfo,f);Object.assign(f,S)}}return{goods:f}}},Vnr7:function(e,t,r){r.d(t,"a",function(){return a});var n=r("9ZMt");function a(e,t){return n.default.$native.createIntersectionObserver(e,t)}},W3qh:function(e,t,r){r.d(t,"a",function(){return s});var n=r("3lAQ"),a=r.n(n),o=r("F0jR"),i=r.n(o);class s{constructor(e){this.ctx=e.ctx}}s.widgets={Main:a(),SubmitNotice:i()}},WNIS:function(e,t,r){r.d(t,"j",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"i",function(){return c}),r.d(t,"h",function(){return u}),r.d(t,"l",function(){return d}),r.d(t,"k",function(){return l}),r.d(t,"g",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"d",function(){return f});var n={NUM:1,DISCOUNT:2,EXCHANGE:3,BUY_PRESENT:4,EXPRESS:5},a={FIXED:1,ASSIGNED:2,RANDOM:3,NOASSIGNED:4},o={Valid:1,Used:2,Expired:3,Invalid:4,Locked:5},i={Code:"code",Card:"card",Thirdparty:"thirdparty"},s={Normal:0,Code:1,Thirdparty:2},c={Birthday:1,MemberDay:2,Festival:3},u={NotStart:0,InProgress:1,Terminated:2,ActivePause:3,AbnormalPause:4,Finished:5},d="scene-market-subscribe",l="cimWeMiniProMsg",p="points-expire-subscribe",h="maCrmMiniProPoint",f={homeOrFeature:"homeOrFeature",memberCenterClick:"memberCenterClick",levelGuide:"levelGuide"}},WOkX:function(e,t,r){r.d(t,"b",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return c});var n=r("Y28S"),a=getApp(),o=()=>(a=a||getApp()).getKdtId(),i=e=>{var{sl:t,sls:r,oldFromParamsData:a={}}=e,i=o();return Object(n.b)({sl:t,sls:r,oldFromParamsData:a,kdtId:i})},s=e=>{var{sl:t,sls:r,oldFromParamsData:a}=e,i=o();return Object(n.c)({sl:t,sls:r,oldFromParamsData:a,kdtId:i})};function c(e){var{url:t,sl:r,sls:a}=e,i=o();return Object(n.a)({url:t,sl:r,sls:a,kdtId:i})}},WQRT:function(e,t,r){r.d(t,"c",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return d});var n=r("NHEX"),a=r.n(n),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(e){var t=a()(e,"goods.id",0),r=a()(e,"goods.postage",0);return{goodsId:t,kdtId:a()(e,"shop.kdtId",0),storeId:a()(e,"shop.multistore.id",0),storeName:a()(e,"shop.multistore.name",0),postage:"string"!=typeof r?r:0}}function s(e){var t=e.selectedNum,r=void 0===t?0:t,n=e.selectedSkuComb,a=void 0===n?{id:0,price:0}:n,i=e.messages,s=void 0===i?{}:i,c=e.cartMessages,u=void 0===c?{}:c,d=e.birthdayVal,l=void 0===d?{}:d,p=a.id,h=void 0===p?0:p,f=a.price,g=void 0===f?0:f;return o(o({},a),{skuId:h,num:r,price:g,messages:s,cartMessages:u,birthdayRelation:{BIRTHDAY_RELATION_NET_ORDER_MARK:l.birthdayRelationNetOrderMark,RELATION_BLESSING:l.text,RELATION_TYPE_ID:l.key,RELATION_TYPE_NAME:l.name}})}function c(e){var t=o(o({goods_id:e.goodsId,num:e.num,sku_id:e.skuId,price:e.price||0,extra:e.birthdayRelation},e.messages),e.goodsExtra),r=o({kdt_id:e.kdtId,store_id:e.storeId||0,store_name:e.storeName||"",postage:e.postage||0,activity_alias:e.activityAlias||"",activity_id:e.activityId||0,activity_type:e.activityType||0,use_wxpay:e.useWxpay||0,from:e.from||""},e.commonExtra);return e.from&&(r.from=e.from),{goodsData:t,commonData:r}}function u(e){var t=c(e),r=t.goodsData,n=t.commonData,a=r.propertyIds;a&&(r.propertyIds=JSON.stringify(a));var i=[];return Object.keys(e.cartMessages).forEach(function(t){i.push(e.cartMessages[t])}),o(o(o({},r),n),{messages:JSON.stringify(i),extra:JSON.stringify(r.extra||{})})}function d(e){var t=c(e),r=t.goodsData,n=t.commonData,a={goodsList:JSON.stringify([r]),common:JSON.stringify(n)};return e.extra&&(a.extra=JSON.stringify(e.extra)),e.cloudExtension&&(a.cloudExtension=e.cloudExtension),a}},WjON:function(e,t,r){var n=r("zcvR");e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},WlwD:function(e,t,r){r.d(t,"a",function(){return l});var n=r("Tewj"),a=r("ML4D"),o=r.n(a),i=r("JdrY"),s=r("n0bX"),c=r.n(s),u=r("gKWa"),d=r.n(u);class l{constructor(e){this.ctx=e.ctx,this.widget=o.a,this.ctx.data.random=Math.random()}onPullDownRefresh(){n.default.trigger(i.a.PULL_DOWN)}onPageScroll(e){n.default.trigger(i.a.PAGE_SCROLL,e)}}l.widgets={Main:o(),FloatingNavBg:c(),SubItem:d()}},Wnk8:function(e,t,r){r.d(t,"a",function(){return i});var n=r("1pB4"),a=e=>({enter:"vt-"+e+"-enter vt-"+e+"-enter-active enter-class enter-active-class","enter-to":"vt-"+e+"-enter-to vt-"+e+"-enter-active enter-to-class enter-active-class",leave:"vt-"+e+"-leave vt-"+e+"-leave-active leave-class leave-active-class","leave-to":"vt-"+e+"-leave-to vt-"+e+"-leave-active leave-to-class leave-active-class"}),o=()=>new Promise(e=>setTimeout(e,1e3/30)),i=function(e,t){return void 0===t&&(t="name"),{props:{customStyle:String,show:{type:Boolean,default:e},duration:{type:null,default:300},name:{type:String,default:"fade"},enterIsSleep:{type:Boolean,default:!0}},watch:{show(e,t){e!==t&&(e?this.enter():this.leave())}},mounted(){this.show?this.enter():this.leave()},data(){return{inited:!1,classes:"",style:this._getStyle()}},logicData:()=>({display:!1,currentDuration:0,transitionEnded:!1}),created(){["duration","status","display","customStyle"].forEach(e=>{this.$watch(e,()=>{this.style=this._getStyle()})})},methods:{_getStyle(){var{duration:e}=this,t=Object(n.f)(e)?"enter"===this.status?e.enter:e.leave:e;return"\n          -webkit-transition-duration: "+t+"ms;\n          transition-duration: "+t+"ms;\n          "+(this.display?"":"display: none;")+"\n          "+this.customStyle+"\n        "},enter(){var e=this[t],r=a(e);this.status="enter",this.$emit("before-enter"),(this.enterIsSleep?Promise.resolve().then(o):Promise.resolve()).then(()=>{if(this.checkStatus("enter"),this.$emit("enter"),this.inited=!0,this.display=!0,this.classes=r.enter,this.enterIsSleep)return o()}).then(()=>{this.checkStatus("enter"),this.transitionEnded=!1,setTimeout(()=>this.onTransitionEnd()),this.classes=r["enter-to"]}).catch(()=>{})},leave(){if(this.display){var{duration:e}=this,r=this[t],i=a(r),s=Object(n.f)(e)?e.leave:e;this.status="leave",this.$emit("before-leave"),Promise.resolve().then(o).then(()=>{this.checkStatus("leave"),this.$emit("leave"),this.classes=i.leave}).then(o).then(()=>{this.checkStatus("leave"),this.transitionEnded=!1,setTimeout(()=>this.onTransitionEnd(),s),this.classes=i["leave-to"]}).catch(()=>{})}},checkStatus(e){if(e!==this.status)throw new Error("incongruent status: "+e)},onTransitionEnd(){if(!this.transitionEnded){this.transitionEnded=!0,this.$emit("after-"+this.status);var{show:e,display:t}=this;!e&&t&&(this.display=!1)}}}}}},"X/0h":function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},X3j9:function(e,t,r){r.d(t,"a",function(){return o});var n=r("Fcif"),a=r("noo5");function o(e,t,r,o){var i,{geoLocationData:s,salableStores:c=[]}=t,{status:u,id:d,name:l,hideStore:p,openMultiStoreSwitch:h=0}=e,{city:f="",district:g="",address:v=""}=e.address||{};return r&&(r.showMultiStoreRecommend=!!d&&!o.goods.stockNum),{id:d,name:l,address:""+f+g+v,isMultiStoreEnabled:!!u,openMultiStoreSwitch:h,hideStore:p,distance:s.distance||0,salableStores:(i=c,i&&i.length>0?i.map(e=>Object(n.a)({},e,{query:{oid:e.id},distance:Object(a.formatDistance)(e.distance)})):[])}}},X7EK:function(e,t,r){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},"X9+V":function(e,t,r){r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"b",function(){return u});var n=r("Fcif"),a=r("YnUx"),o=r.n(a);function i(e,t,r){if(void 0===t&&(t=2),void 0===r&&(r=!1),"number"!=typeof e)return"";var n=(e/100).toFixed(t);return r?parseFloat(n):n}var s=function(e,t){return void 0===t&&(t="~"),o()(e)?i(e.min)+t+i(e.max):i(e)},c=function(e,t){return void 0===t&&(t={}),void 0!==e.isStarted&&!1===e.isStarted?{}:Object(n.a)({},t,{quota:e.quota||0,quotaUsed:e.quotaUsed||0,quotaCycle:e.quotaCycle||0})};function u(e){var{umpActivity:t}=e;return Object.keys(t).indexOf("coupon")>-1}},XCh3:function(e,t,r){r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});var n=r("8B9M"),a=Object(n.a)(),o=(e,t)=>{var r={};switch(e){case"view":r={et:"view",ei:"view",en:"商品曝光",params:{view_objs:t}};break;case"open_goods":r={et:"click",ei:"open_goods",en:"打开商品详情",params:t};break;case"click_buy":r={et:"click",ei:"click_buy",en:"点击购买",params:t};break;case"click_content":r={et:"click",ei:"click_content",en:"组件点击",params:t};break;case"logger":r=t;}return r},i=e=>{a.logger.log(e)}},XMVD:function(e,t){e.exports={d:"displayData;4;orderData;4;themeColors;4;orderFinalPrice;4;shopConfig;4;goods;4;pointDeduction;4;coupon;4;shop;4;pay;4;order;4;orderKeepApply;4;display;4;orderPaid;4;titleText;4;isRetailWeappScene;4",e:"",el:"openOrderKeep;closeOrderKeep",w:"PresentGoods;Price;OrderKeepDialog;OrderKeepNavigator;OrderKeep;TradeCarousel",wc:"Price;OrderKeepDialog;TradeCarousel",wd:"Main",l:"getTradeBuyPageData;getTradeBuyPreFetchQuery",lc:"hexToRgb",p:"navigateToTradeBuy",pi:"navigateToTradeBuy",c:"",cc:"",li:"pageDestroyed"}},XNep:function(e,t){e.exports={d:"preferredPayChannel;2;prePayFilteredChannels;2;prePayInstalment;2;prePaySelected;2;computedHeight;2;prePayShowList;2;prePayShowPayPasser;2;prePayPass;2;amount;4;biz;4;mobile;4;traceId;4;themeColors;4;excludePayChannels;4;bizExt;4;viewportMargins;4",e:"cashier:change;cashier:pay:success;cashier:pay:fail;cashier:viewport:in;cashier:viewport:out;cashier:ready;onPrePayChannelChange;onPrePayCloseList;onPrePayPassForget;onPrePayPassUpdate;onPrePayPassCheck;onPrePayPassClose",el:"onPrePayChannelChange;onPrePayCloseList;onPrePayPassForget;onPrePayPassUpdate;onPrePayPassCheck;onPrePayPassClose",w:"SingleRow;CellGroup;SingleRowChannelListPopup;SingleRowPayPasser",wc:"",p:"pay;requestOrderPayment",pi:"onPaySuccessSync;getIsSyncOrder;onPayItemClick"}},XS2z:function(e,t,r){var n;r.d(t,"a",function(){return n}),function(e){e.NORMAL="normal",e.SEPARATE="separate"}(n||(n={}))},XXCu:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},Xdhg:function(e,t,r){var n=r("Br49"),a="__userAuthorizePopups";t.a={register:function(e,t,r){var o=t+"%"+e+"%"+Date.now()+"%"+Math.floor(1e4*Math.random()+1);if(e===n.d.POPUP&&r){if(r[a]=r[a]||[],r[a].length>0)return"";r[a].push(o)}return o},remove:function(e,t,r){try{if(e===n.d.POPUP&&Array.isArray(r[a])){var o=r[a].indexOf(t);r[a].splice(o,1)}return t}catch(e){return!1}},getLatestPopupId:function(e,t){var r=e[a];if(Array.isArray(r))return r[r.length-1]}}},Xq7Z:function(e,t,r){r.d(t,"k",function(){return n}),r.d(t,"j",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"f",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"e",function(){return c}),r.d(t,"m",function(){return u}),r.d(t,"i",function(){return d}),r.d(t,"a",function(){return l}),r.d(t,"h",function(){return h}),r.d(t,"b",function(){return f}),r.d(t,"d",function(){return g}),r.d(t,"l",function(){return v});var n={0:"card",1:"waterfall",2:"simple",3:"promotion",4:"multi",5:"card2",6:"points",7:"card-shadow",8:"tag-left"},a={CARD:0,WATERFALL:1,SIMPLE:2,PROMOTION:3,MULTI:4,CARD2:5,POINTS:6,CARD_SHADOW:7,TAG_LEFT:8},o={0:"big",1:"small",2:"hybrid",3:"list",5:"three",6:"swipe"},i={BIG:0,SMALL:1,HYBRID:2,LIST:3,MULTI:4,THREE:5,SWIPE:6},s={0:"new-arrival",1:"hot-sale",2:"new",3:"hot"},c={0:"3:2",1:"1:1",2:"3:4",3:"16:9"},u={1:"normal",2:"bold"},d={1:"rect",2:"circle"},l={SMALL:"small",BIG:"big"},p="https://img01.yzcdn.cn/public_files/2018/08/20",h={COLUMN:p+"/d5b6ccfc9383b976fc02a88f43f49ef2.png",TEXT:p+"/b24699aee714351838f730cdb59de84a.png",AUDIO:p+"/e05ef730df7b6fb43844b908734a9fc0.png",VIDEO:p+"/0bfab52c6a9c77b58ca686567479b4ab.png",LIVE:p+"/aac3b43a16195809ab479746236a457c.png"},f={COLUMN:"",TEXT:"",AUDIO:"",VIDEO:"",LIVE:""},g={READ:"免费试读",LISTEN:"免费试听",WATCH:"免费试看"},v="https://img01.yzcdn.cn/weapp/wsc/lPgl6z.png"},"Xr+B":function(e,t,r){r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r("9ZMt");function a(e){n.default.$native.onPageNotFound(e)}function o(e){n.default.$native.offPageNotFound(e)}},Y0JT:function(e,t,r){r.d(t,"a",function(){return s});var n=r("COAg"),a=r.n(n),o=r("vmqh"),i=r.n(o);class s{constructor(e){this.ctx=e.ctx}}s.widgets={Main:a(),NavigationBar:i()}},Y2PO:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("O1uH"))&&n.__esModule?n:{default:n};var o=function(e,t){return Array.isArray(e)?0!==e.length?(0,a.default)(e,t,function(e,t){return e<t}):void 0:e};t.default=o,e.exports=t.default},Y7pJ:function(e,t){e.exports={d:"containerStyle;2;pointsConfig;2;rootKdtId;6;kdtId;6;featureComponents;6;extraData;4;imSourceDetail;6;alias;6;shopInfo;6;buyerId;6;shopConfig;6;themeColors;6;isTabPage;6;isHomePage;6;appId;6;isMultiStore;6;featureHotUpdate;6;renderMode;6;soldOutGoodsFlag;6;isUserCenter;6",e:"sku:show",w:"ShowcaseContainer",wc:"RetailShelfBanner;RetailShelfEntry;RetailShelfOrderPool;RetailShelfMemberCard;RetailShelfCustomerAsset;RetailShelfStoreCard;DecorateComponent",wd:"ShowcaseContainer",lc:"getUserInfo;jumpToLink",p:"",pi:"requestWechatSubscribeMessagePush",cc:"MessageContactButton",li:"onPullDownRefresh;onReachBottom;onPageShow;onPageHide"}},Y7y7:function(e,t){e.exports={d:"",e:"",el:"",w:"",wc:"",wd:"Main",l:"",lc:"",p:"",pi:"",c:"",cc:"",li:"beforePageCreate;pageDestroyed"}},YJBp:function(e,t,r){r.d(t,"a",function(){return o});var n=r("042e"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a()}},Yfvy:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n={};var a=e=>n[e]||[],o=(e,t)=>({})},YnUx:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r("C6tv"))&&n.__esModule?n:{default:n}).default;t.default=a,e.exports=t.default},"Yof+":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(!e)return;if(e.length===+e.length)for(var n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e);else for(var o=Object.keys(e),i=0,s=o.length;i<s;i++)t.call(r,e[o[i]],o[i],e)},e.exports=t.default},Yt9W:function(t,r,n){n.d(r,"e",function(){return g}),n.d(r,"c",function(){return v}),n.d(r,"a",function(){return m}),n.d(r,"h",function(){return y}),n.d(r,"g",function(){return b}),n.d(r,"d",function(){return _}),n.d(r,"f",function(){return O});var a=n("Fcif"),o=n("2wjL"),i=n("2ktG"),s=n("xqQ2");function c(t,r){void 0===r&&(r="");try{t()}catch(t){var n=getApp()||{},{logger:a={}}=n;a.onError&&a.onError({name:"log 打点报错",message:e.msg||e.message||"",detail:{msg:r}})}}class u extends s.a{addSessionParams(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.addSessionParams(...t),"addSessionParams error")}setBizInfo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.setBizInfo(...t),"setBizInfo error")}appShow(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.appShow(...t),"appShow error")}appHide(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.appHide(...t),"appHide error")}pageShow(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.pageShow(...t),"pageShow error")}pageHide(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.pageHide(...t),"pageHide error")}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c(()=>super.log(...t),"log error")}performance(){}updateSession(){}}var d=u,l=n("OPDa"),p=n("wfgx"),{getSpm:h}=p.a,f=function(){return Object(i.a)({}).get("logv3:dc_ps")||""};function g(e){var t=getApp();t.logger.pageHide({id:e}),t.logger.pageEvent.params={}}function v(e,t){void 0===e&&(e={}),void 0===t&&(t=getApp());var r=t.globalData.adData||{},n=t.globalData.loggerData||{};t.globalData.adData={gdtVid:e.gdt_vid||r.gdtVid||"",qzGdt:e.qz_gdt||r.qzGdt||"",weixinadinfo:e.weixinadinfo||r.weixinadinfo||"",sceneType:e.scene_type||r.sceneType||""},t.globalData.loggerData={chan_id:e.chan_id||n.chan_id||"",room_id:e.room_id||n.room_id||""}}function m(){var e=getApp();e&&(e.globalData.loggerData={})}var y=function(e,t){void 0===t&&(t=getApp());var r=t.getKdtId()||"",n=t.getMobile()||"",o=t.getBuyerId()||"",i=t.getToken()||{},{openId:s="",yzUserId:c="",userId:u="",platformFansId:d="",unionId:l=""}=i,p=o||c||u,h=u,f=d;e.setBizInfo({mobile:n,userId:p,kdtId:r});var g=t.globalData.adData||{},v=t.globalData.loggerData||{},m={union_id:l,yz_uid:p,buyerId:o,buyer_id:o,open_id:s,fans_id:h,yz_fans_id:f};e.setPageParams(Object(a.a)({oid:t.getOfflineId(),hq_kdt_id:t.getHQKdtId()},m,{chan_id:v.chan_id,room_id:v.room_id,weixinadinfo:g.weixinadinfo})),e.setUser(Object(a.a)({},m))},b=(e,t)=>{if(t){t.params||(t.params={});try{var r=e.getAppId(),{apiCategory:n,referrerInfo:a}=wx.getEnterOptionsSync(),{appId:o}=a||{};Object.assign(t.params,{appId:r,appMode:n,srcAppId:o})}catch(e){}}};function _(e,t,r,n,o,i){void 0===r&&(r={});var s=getApp();l.a.setCurrentSpm(e,t,n,o),r&&r.en&&(s.logger.setPageName(r.en),delete r.en);var c=!1;if(o&&o.length){var u=o[o.length-1];u._isNewlyOpen||(c=!0,u._isNewlyOpen=!0)}y(s.logger),s.logger.setPageParams(Object(a.a)({},r,{is_newly_open:c,is_retail:s.globalData.isRetailApp})),s.logger.pageShow({id:t},i)}function O(e,t){t=t||{},getApp().logger.appError({message:e,detail:Object(a.a)({},t,{spm:h()})})}d.processShareData=function(e){void 0===e&&(e={});var t=getApp(),r=f(),n=e.path||"/packages/home/dashboard/index",i={};return o.a.getAll(n).kdt_id||(i.kdt_id=t.getKdtId()),r&&(i.dc_ps=r),t.getShopInfoSync().isMultiStore&&(n=o.a.add(n,{offlineId:t.getOfflineId()})),n=o.a.add(n,i),Object(a.a)({},e,{path:n})},d.getDCPS=f,d.getTradeLog=function(e){void 0===e&&(e={});var t=getApp().logger.getGlobal()||{},r=t.user||{},n=t.context||{},o=t.plat||{};return JSON.stringify(Object(a.a)({},n,o,{platform:"weapp",uuid:r.uuid,userId:r.li||""},e))};r.b=d},Yzgk:function(e,t,r){var n=r("RqPZ"),a=r("zc1V"),o=r("9aUh"),i=r("bE7W"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,l=u.hasOwnProperty,p=RegExp("^"+d.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?p:s).test(i(e))}},ZIOE:function(e,t,r){r.r(t),r.d(t,"getShopInfoParams",function(){return w}),r.d(t,"fetchLaunchJsonCallback",function(){return I}),r.d(t,"getKdtId",function(){return k}),r.d(t,"updateKdtId",function(){return C}),r.d(t,"setShopInfo",function(){return T}),r.d(t,"getShopTheme",function(){return A}),r.d(t,"getHiddenPowerBy",function(){return E}),r.d(t,"getShopConfigData",function(){return D}),r.d(t,"getCopyright",function(){return M}),r.d(t,"getNavConfigSync",function(){return N}),r.d(t,"getNavConfig",function(){return L}),r.d(t,"getShopInfo",function(){return U}),r.d(t,"waitForEnterShop",function(){return B}),r.d(t,"getShopInfoSync",function(){return F}),r.d(t,"getShopConfigDataSync",function(){return G}),r.d(t,"getOfflineId",function(){return H}),r.d(t,"getOfflineSeparatePrice",function(){return q}),r.d(t,"setOfflineId",function(){return z}),r.d(t,"getHQKdtId",function(){return W}),r.d(t,"getCryptoInfo",function(){return K});var n=r("eijD"),a=r("Fcif"),o=r("uhII"),i=o.a,s=r("jA1y"),c=(r("Tewj"),r("qHGj")),u=r("zMoS"),d=r("DXKY"),l=r("taYb"),p=r("x5Yp"),h=r("/duV"),f=r("sbwY"),g=r("7WjY"),v=r("rBuL"),m=r("LHcj"),y=r("lRMv"),b=r("bBDD"),_=r("f9/1"),O=r("SVbq"),{state:S,commit:P}=f.a;function w(){return{weapp_type:S.config.weappType,share_offline_id:Object(m.a)("current_share_offline_id")||"",not_enter_shop:"1",global_theme_version:1}}function I(e){void 0===e&&(e={});var{fromCache:t,cacheData:r={},enable_http2:n=!1,enable_cdn:o=!1,mall_shop_config_data:i}=e,s=getApp();return s&&s.globalData&&(s.globalData.enableHttp2=n,s.globalData.enableCdn=o,s.globalData.mall_shop_config_data=i),t&&r.refreshPromise.then(e=>{var{shop_meta_info:t={}}=e,r=2==+Object(u.a)(S,"shop.shopMetaInfo.shop_role",null);if(!+k()||!r||+k()===t.kdt_id||1!==t.shop_role)return e}),Object(a.a)({},e,{_fromCache:t})}function k(){return Object(h.c)()||Object(u.a)(S,"shop.kdtId",null)}function C(e,t,r){if(void 0===e&&(e=0),void 0===t&&(t=!1),void 0===r&&(r={}),+e>0)return Object(h.q)(e,Object(a.a)({},r,{force:t}))}function T(e){return void 0===e&&(e={}),P("UPDATE_SHOP_DATA",e),Object(_.getEnterCacheConfig)("isProxyUpdateKdtId")||d.a.trigger("shop:info:change",e),S.shop}function x(e){return()=>new Promise(t=>{var r=S.shop[e]||{};S.shop.hasBase&&0!==Object.keys(r).length?t(S.shop[e]):d.a.once("shop:"+e+":resolved",()=>t(S.shop[e]))})}Object(h.f)({request:function(){var e=w(),t={skipShopInfo:!0,cache:!0,needRefresh:!0,expire:30};return function e(t,r){void 0===r&&(r=3);return t().catch(n=>r>0?e(t,r-1):Promise.reject(n))}(()=>s.c({path:"wscshop/weapp/launch.json",data:Object(a.a)({},e,{need_cnd:!0}),config:t})).then(function(e){return void 0===e&&(e={}),I(e)}).catch(e=>(d.a.trigger("shop:info:fetch:fail"),Promise.reject(e)))},pick:e=>{var{type:t,colors:r}=e.shop_theme_data;return{shop:l.a.toCamelCase(Object(a.a)({},e.shop_meta_info,{logo:Object(u.a)(e,"shop_info.logo")})),multiStore:l.a.toCamelCase(e.offline_data),theme:{type:t,colors:r||o.b}}},onShopInfoChange:(e,t,r)=>((e,t)=>{var{isFromBlankPageOrOnLaunch:r=!1}=t;Object(_.createChainStoreEvent)();var{_fromCache:n}=e,s={},{shop_info:c={},offline_data:u={},copyright_data:l={},mall_shop_config_data:p={},business_data:h,is_hide_power_by:f,is_stop_we_pay_for_vitual:v,shop_theme_data:m={},shop_meta_info:y,shop_business_config:b={},shop_nav_data:O={},crypto_info:P={}}=e;s.isMultiStore=u.is_multi_store,s.autoEntryStore=u.auto_entry_store,s.soldOutRecommend=u.sold_out_recommend,s.offlineSeparatePrice=u.offline_separate_price,s.openHideStore=+e.mall_shop_config_data.open_hide_store,s.multiStoreSwitch=1==+e.mall_shop_config_data.open_multi_store_switch,s.isDecorateFollowHq=0==+e.mall_shop_config_data.subshop_decorate_independent,s.hideTopBar=+e.mall_shop_config_data.hide_top_bar,s.hasBase=!0,s.nav=O.data||{},Object.assign(s,c),s.base=Object(a.a)({},c),s.isServiceDue=c.service&&"WEAPP_AVAILABLE"!==c.service.status,s.security={},s.security.joined=0!=+c.security.joined,s.virtualGoodsCannotWePay=v,Object.assign(S.shop,s),s.copyright=Object(a.a)({},S.shop.copyright||{},{isCustomized:!!l.is_logo_customized,isWeixinSelfHoldPay:e.is_weixin_self_hold_pay,hideFooter:l.hide_footer,hideQuickEntry:l.hide_quick_entry,hideLogo:l.hide_logo,hidePoweredBy:l.hide_powered_by||f}),s.copyright.isCustomized&&(s.copyright.logo=l.customized_logo||g.a.copyright.logo),s.config=p,s.shop_business_isopen=b.is_open,s.suspend_message=b.next_open_time_note||b.suspend_message,s.im=h.status<0?{}:{businessId:h.business_id,areaCode:h.area_code},s.vip={isBigShop:f},s.cryptoInfo=P;var w=i[m.type]||"th0";s.theme={themeClass:w,isFantasy:"th11"===w,themeFetched:!0,type:m.type,colors:m.colors||o.b},s.shopMetaInfo=y;var I=Object(_.setChainStoreInfo)({shopMetaInfo:y,shopInfo:c,isFromBlankPageOrOnLaunch:r});function k(){d.a.trigger("app:multi:store:resolved",{store:u,fromCache:n}),d.a.trigger("app:chain:store:resolved",{shopMetaInfo:y,shopInfo:c,isFromBlankPageOrOnLaunch:r}),d.a.trigger("shop:copyright:resolved",s.copyright),d.a.trigger("shop:nav:resolved",s.nav),d.a.trigger("shop:config:resolved",s.config),d.a.trigger("shop:im:resolved",s.config),d.a.trigger("shop:vip:resolved",s.vip),d.a.trigger("shop:theme:resolved",s.theme),d.a.trigger("shop:info:change",s),d.a.trigger("shop:info:fetch:success")}return T(Object(a.a)({},s,I)),Object(_.getEnterCacheConfig)("isProxyUpdateKdtId")?Object(_.cacheProxyUpdateEmit)(k):k(),s})(t,r),onKdtIdChange:(e,t)=>function(e,t){e=+e,Object(v.b)(),e&&(e!==+t?(Object(v.c)(e),P("UPDATE_SHOP_DATA",{kdtId:e}),s.f({kdtId:e}),d.a.trigger("shop:kdt_id:change",e)):s.f({offlineId:H(),kdtId:e}))}(e,t)});var j=e=>{if(!e)return{};if(!O.x)return e;var t=Object(_.getEnterCacheConfig)("tabbarNavCacheMap");return Object(_.forceUseHqTabbar)()&&(e.list=l.a.toSnakeCase(t[Object(h.e)()].navList).map(e=>(e.page_path=e.page_path.replace(/^\/|(\?.*)$/g,""),e))),e},A=x("theme"),E=x("vip"),D=x("config"),M=x("copyright"),N=function(){var e=Object(n.a)(function*(){var e=yield x("nav");return j(e)});return function(){return e.apply(this,arguments)}}(),L=()=>{var{nav:e}=S.shop;return j(e)};function R(e,t){return void 0===t&&(t={}),new Promise(r=>{if(Object(c.d)(t))r(e.shop);else if(Object(c.c)(t)){var{needEnterShop:n}=Object(b.j)(t);Object(y.j)("getShopInfo").then(t=>{t&&n?getApp().once("app:chainstore:kdtid:update",()=>r(e.shop)):r(e.shop)})}else r(e.shop)})}var U=()=>new Promise(e=>{var{shopMetaInfo:t,hasBase:r}=S.shop||{};r?e(R(S,t)):d.a.once("shop:info:fetch:success",()=>{var{shopMetaInfo:t}=S.shop||{};e(R(S,t))})});function B(){return new Promise(e=>{U().then(t=>{1!=+Object(u.a)(t,"shopMetaInfo.shop_role")?e(t):getApp().once("app:chainstore:kdtid:update",()=>{e(S.shop)})})})}function F(){return Object(p.a)(S.shop)?{base:{},security:{},nav:{}}:S.shop}function G(){return Object(u.a)(S,"shop.config",{})}function H(){return Object(h.d)()||Object(u.a)(S,"shop.offlineId","")}function q(){return Object(u.a)(S,"shop.offlineSeparatePrice",0)}function z(){}function W(){return null}var K=()=>S.shop.cryptoInfo||{}},Zf9w:function(e,t,r){r.d(t,"m",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"i",function(){return f}),r.d(t,"j",function(){return g}),r.d(t,"l",function(){return v}),r.d(t,"b",function(){return h}),r.d(t,"c",function(){return m}),r.d(t,"h",function(){return y}),r.d(t,"k",function(){return T}),r.d(t,"n",function(){return k}),r.d(t,"a",function(){return j});var n,a=r("9ZMt"),o=r("MLLI"),i=a.default.getEnv(),s={};function c(){var e,t;if(s.scene)return s.scene;var r=(null==(e=a.default.$native)?void 0:e.getEnterOptionsSync)||(null==(t=a.default.$native)?void 0:t.getLaunchOptionsSync),{scene:n}=r?r():{};return s.scene=n,s.scene}function u(){var e=c();return[1177,1176,1175,1195,1208].indexOf(e)>-1}function d(){var e=c();return Promise.resolve([1177,1176,1175,1195,1208].indexOf(e)>-1)}function l(){if("weapp"===i){var{statusBarHeight:e,platform:t}=Object(o.b)();return(0===e||u())&&/(ios|android|devtools)/i.test(t)}return!1}function p(){return 1195===c()}function h(){return 1177===c()}function f(){var e=c();return 1177===e||1176===e}function g(){return 1208===c()}function v(e){var t=c(),{from_source:r}=e;return(l()||[1177,1176,1175,1195,1208].includes(t))&&"wechatChannel"===r}function m(){return!0}function y(e){return new Promise(t=>t("TRUE"===(null==e?void 0:e.TRADE_MODULE_ORDER)||d()))}null==(n=a.default.$native)||null==n.onAppHide||n.onAppHide(()=>{s={}});var b,_=r("eijD"),O=r("US/N"),S=()=>Object(O.default)({path:"/wscwxvideo/trade-module/weapp-trade-module-status.json"}),P=r("8mzt");function w(e,t){t=t||{},P.a.log({appName:"wsc",logIndex:"new_wsc_weapp_log",level:"info",name:"[weapp]-wxvideo-"+e,message:JSON.stringify(t)})}var I={};function k(e){return C.apply(this,arguments)}function C(){return(C=Object(_.a)(function*(e){if(void 0===e&&(e=!0),e&&null!=I.tradeModuleStatus)return I.tradeModuleStatus;var t=yield S();return I.tradeModuleStatus=t,I.tradeModuleStatus})).apply(this,arguments)}function T(){return x.apply(this,arguments)}function x(){return(x=Object(_.a)(function*(){return(yield k()).WEAPP_TRADE_MODULE_V3_IS_ENABLE})).apply(this,arguments)}null==(b=a.default.$native)||null==b.onAppHide||b.onAppHide(()=>{I={}});var j=()=>new Promise((e,t)=>{var r,n;return null!=(r=I)&&r.checkBeforeAddOrderResult?e(null==(n=I)?void 0:n.checkBeforeAddOrderResult):a.default.$native.checkBeforeAddOrder?a.default.$native.checkBeforeAddOrder({success(t){var r;I.checkBeforeAddOrderResult=null==t?void 0:t.data,e(null==t?void 0:t.data),null!=t&&null!=(r=t.data)&&r.traceId||w("交易组件下单--调用wx.checkBeforeAddOrder未返回traceId参数",t)},fail(e){w("交易组件下单--调用wx.checkBeforeAddOrder失败",e),t(e)}}):(w("交易组件下单--基础库版本不够无法调用wx.checkBeforeAddOrder",{}),void t({}))})},aBIM:function(e,t,r){var n=r("zcvR");e.exports=function(e){return n(this,e).get(e)}},aCmY:function(e,t){e.exports=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},b2OE:function(e,t,r){var n=r("LSEb")(r("s3UK"),"Set");e.exports=n},b4An:function(e,t,r){r.d(t,"a",function(){return c});var n=r("qYBx"),a={base:"https://www.youzan.com",bbs:"https://bbs.youzan.com",cdn:"https://b.yzcdn.cn/",wap:"https://h5.youzan.com/v2",imgqn:"https://img01.yzcdn.cn",uic:"https://uic.youzan.com",trade:"https://trade.koudaitong.com",trade_youzan:"https://trade.youzan.com",im:"https://b-im.youzan.com",www:"https://www.youzan.com/v2",store:"https://store.youzan.com",shop:"http://detail.youzan.com",shop_wap:"https://shop255245.youzan.com/v2",h5:"https://h5.youzan.com",passport:"https://passport.youzan.com",renzheng:"https://renzheng.youzan.com/online",finance:"https://finance.youzan.com",guang:"https://h5.guang.com"},o=/(h5|wap)(\.youzan\.com)/,i=/(shop[^.]+)(\.youzan\.com)/,s=[40461684];function c(e,t,r,c){void 0===c&&(c={});var u=n.f.full(e,t,a)||"",d=c,l=d.notReplaceDomain,p=void 0!==l&&l,h=d.ignoreReplaceCheck,f=void 0!==h&&h,g=d.staticPageReg,v=void 0===g?[]:g,m=d.staticPageUrlMiddle,y=void 0===m?"":m;return f||("undefined"!=typeof window&&n.a.ua.isMiniProgramWebview()&&(p=!0),s.indexOf(+r)>-1&&(p=!0)),+r>=0&&"string"==typeof u&&!p&&(u=u.replace(o,function(e,t,n){return"shop"+(Number(r)+192168)+n})),y&&i.test(u)&&v.some(function(e){return(t=e,"[object RegExp]"===Object.prototype.toString.call(t)?t:new RegExp(t)).test(u);var t})&&(u=u.replace(i,function(e,t,r){return""+t+y+r})),u}},bAmA:function(e,t,r){var n=r("i/JN");e.exports=function(e){return e&&e.length?n(e):[]}},bBDD:function(e,t,r){r.d(t,"h",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"f",function(){return g}),r.d(t,"e",function(){return v}),r.d(t,"i",function(){return m}),r.d(t,"a",function(){return y}),r.d(t,"b",function(){return b}),r.d(t,"c",function(){return _}),r.d(t,"j",function(){return S}),r.d(t,"d",function(){return I});var n=r("Fcif"),a=r("eijD"),o=r("taYb"),i=r("YehF"),s=r("qHGj"),c=r("2xJD"),u=r("lRMv"),d=r("POYE"),l=r("wYCQ");function p(e){return Object(i.c)(e)&&!Object(i.d)(e)}function h(e){return Object(i.c)(e)||Object(s.d)(e)}function f(e){return!Object(s.d)(e)}function g(e){return Object(c.a)(e)}function v(e){return Object(s.b)(e)}function m(e){return 1===e.shop_role}function y(){var e=getCurrentPages();if(0===e.length){var{path:t,query:r}=wx.getLaunchOptionsSync();return{path:t,query:r}}var{route:n,options:a}=e[e.length-1];return"pages/common/blank-page/index"===n?(getApp().globalData||{}).enterShopInfo:{path:n,query:a}}function b(){var{path:e="",query:t=""}=y()||{},r=o.a.toCamelCase(t);return{route:e.replace(/^pages(-|\/)/,"packages/"),camelQuery:r,path:e,query:t}}function _(){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(function*(){return(yield Object(u.k)())[u.b.ignoreConfig]||{}})).apply(this,arguments)}function S(e,t,r){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(function*(e,t,r){void 0===e&&(e={}),void 0===r&&(r=!1);var{route:n,camelQuery:a,path:o,query:i}=b(),s=yield _(),{globalEnterStoreIgnore:c=[]}=s,u=c.includes(t||n),d=a.umpAlias&&a.umpType;return{needEnterShop:(r||!Object(l.g)("proxyWxJumpPadding"))&&!p(e)&&f(e)&&!u&&!d,path:o,query:i,route:n}})).apply(this,arguments)}function w(){return(w=Object(a.a)(function*(e){try{var[t,r]=yield Promise.all([_(),Object(u.k)()]),{webviewList:a=[],designEnterStoreIgnore:o=[],onRouteIgnoreCheck:i=[]}=t;if(r[u.b.loadIdCheck]){var s={routeIgnore:i.includes(e),loadIdCheck:!0};return a.includes(e)?Object(n.a)({},s,{type:"webview"}):o.includes(e)?Object(n.a)({},s,{type:"design"}):s}}catch(e){}return{loadIdCheck:!1}})).apply(this,arguments)}function I(e){return function(e){return w.apply(this,arguments)}(e).then(t=>!!t.type&&(d.a.blockEnterShopType=t.type,Object(u.f)({text:"[wx] 阻塞"+t.type+"页面触发全局进店, url:"+e}),"webview"===t.type&&u.t.set("_is_init_enter_shop_",!0),!0))}},bE7W:function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},bIWf:function(e,t,r){r.d(t,"a",function(){return o});var n=r("OhE7"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.components={SubscribeGuide:a()}},bSoS:function(e,t,r){r.d(t,"a",function(){return o});var n=r("AYC7"),a=r.n(n);class o{}o.widgets={Main:a.a}},bdYe:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("ZxyO"))&&n.__esModule?n:{default:n};var o=function(e,t){return e=new a.default(e),t=new a.default(t),parseFloat(e.div(t).toFixed())};t.default=o,e.exports=t.default},"beL+":function(e,t){e.exports={d:"salesmanShareData;0;shareInfo;6;goodsPriceInfo;6;currentActivity;4;goodsBaseInfo;4;goodsSkuData;4;shopBaseInfo;4;themeVars;4;customOptionListConfig;4;offlineId;4;isGuideNeedPkgShareUrl;4",e:"share:query;share:optionMenu;salesman:popup:close;salesman:popup:show",el:"floating:nav:update:position;salesman:get:feature:alias;salesman:share:popup:query;salesman:share:popup:optionMenu;salesman:share:popup:close;salesman:share:popup:show;salesman:check:isHalfScreen",w:"Widget",wc:"SalesmanSharePopup",wd:"Widget",lc:"checkIsHalfScreen;getUserInfo",p:"setShareInfo",pi:"createOrUpdateIndependentIcon;beforeGenerateSalesmanGoodsPosterEvent;setNativeYunExtension;getFeatureAlias;getCurrentPageType;getSharePath;setFeatureAlias;setSalesmanSharePopupShareInfo;initSalesmanShareData;initSalesmanSharePageInfo;setUserInfo",li:"beforePageMount"}},bmpj:function(e,t,r){r.d(t,"a",function(){return s});var n=r("bb6g"),a=r("9ZMt"),o=r("qYBx");function i(){var e,t="",r=a.default.getApp()||{};if(!(t=(a.default.getAppOptions()||{}).query.from_params||"")&&(null===(e=r.logger)||void 0===e?void 0:e.getLogParams)){var n=r.logger.getLogParams();t=n&&o.d.get(n,"context.from_params")||""}return t||(t=r.globalData&&r.globalData.from_params||""),t}function s(e){return Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),(o=(null===(r=(t=a.default.$native).getStorageSync)||void 0===r?void 0:r.call(t,"_customer_latitude_cache"))||{}).lat&&o.lng?{lat:String(o.lat),lng:String(o.lng)}:{}),{from_params:i()});var t,r,o}},bs6A:function(e,t,r){t.a={mounted(){this._initPullDownRefresh()},methods:{_getCurrentPage(){if("function"==typeof getCurrentPages){var e=getCurrentPages();return e&&e.length?e[e.length-1]||{}:null}},_initPullDownRefresh(){var e=this._getCurrentPage();if(e&&e.onPullDownRefresh){if("function"!=typeof this.onPullDownRefresh)return;var t=e.onPullDownRefresh;e.onPullDownRefresh=r=>{t.call(e,r),this.onPullDownRefresh()}}}}}},"bsB/":function(e,t,r){r.d(t,"b",function(){return d}),r.d(t,"a",function(){return l}),r.d(t,"e",function(){return p}),r.d(t,"c",function(){return h}),r.d(t,"d",function(){return f});var n=r("Fcif"),a=r("hHpg"),o=r("KDJo"),i=r("eCH0"),s=getApp(),c="/wscump/common/",u=function(e){return s.request({path:c+"get-template.json",query:{scene:e}})};function d(e){var{templateIdList:t=[],scene:r="",needAlwaysToast:n=!1,successCallBack:o=null,rejectCallBack:u=null,failCallBack:d=null,showCallBack:l=null,closeCallBack:p=null,logParam:h={}}=e,f=Object.keys(h).length>0;t.length>0?Object(i.d)({templates:t,onSuccess:e=>{for(var n in e)if("errMsg"!==n&&"reject"===e[n]){u&&u();break}var{acceptTemplateIdList:i=[]}=function(e){void 0===e&&(e={});var t=[];try{for(var r in e)"errMsg"!==r&&"accept"===e[r]&&t.push(r)}catch(e){}return{acceptTemplateIdList:t}}(e);if(i.length)return f&&s.logger.log({et:"click",ei:"allow_msg_subscribe",en:"允许订阅小程序消息",params:h}),function(e){var{scene:t="",templateIdList:r=[]}=e;return s.request({path:c+"subscription-callback.json",query:{scene:t,templateIdList:JSON.stringify(r)}})}({scene:r,templateIdList:i}).then(function(e){var{value:t=!1}=void 0===e?{}:e;t?o&&o(i):Object(a.a)("授权失败")}).catch(()=>{Object(a.a)("授权失败")});wx.getSetting({withSubscriptions:!0}).then(e=>{var{mainSwitch:r,itemSettings:n}=e.subscriptionsSetting,a=t.every(e=>n&&"reject"===n[e.templateId]);!r||a?d&&d():p&&p()}).catch(()=>{p&&p()}),f&&s.logger.log({et:"click",ei:"refuse_msg_subscribe",en:"拒绝订阅小程序消息",params:h})},onFail:()=>{d&&d()},onShowTips:()=>{n&&Object(a.a)({duration:3e3,position:"top",message:"勾选“总是保持以上选择”后，点击“允许”，即可长期获取签到提醒。"}),f&&s.logger.log({et:"click",ei:"msg_subscribe_view",en:"小程序订阅消息弹窗曝光",params:h}),l&&l()},onCloseTips:()=>{p&&p()}}):p&&p()}function l(e){var{scene:t="",pageId:r=null}=e;return Promise.all([s.request({path:"/wscdeco/im/common/is-shop-not-in-black-list.json"}),s.getShopInfo()]).then(e=>{var[{value:n},{shopInfo:a={}}]=e;return Object(o.c)(a)&&n&&null!==r?Promise.all([u(t),Object(i.c)(r)]).then(e=>{var[{templateIdList:t=[]},{templateList:r=[]}]=e;return[...t.map(e=>({templateId:e})),...r]}):u(t).then(e=>{var{templateIdList:t}=e;return t.map(e=>({templateId:e}))})})}function p(e){e.needAlwaysToast&&wx.showLoading(),l({scene:e.scene,pageId:e.pageId}).then(t=>{wx.hideLoading(),d(Object(n.a)({templateIdList:t},e))}).catch(e=>{e.msg&&wx.showToast({title:e.msg,icon:"none"})})}function h(e){var{scene:t=""}=e;return new Promise(e=>{s.request({path:c+"is-auth-for-push.json",query:{scene:t}}).then(t=>{t&&e(t.value)}).catch(e=>{e&&wx.showToast({title:e,icon:"none"})})})}function f(){return new Promise(e=>{s.request({path:c+"is-subscription-msg-available.json"}).then(t=>{t&&e(t.value)}).catch(e=>{e&&wx.showToast({title:e,icon:"none"})})})}},c4zd:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r("US/N");function a(e){return void 0===e&&(e="cashier"),function(t){var r=t.origin,a=t.method,o=t.path,i=t.data,s={origin:r||e,method:a,path:"/"+o,data:i,withCredentials:!0};return Object(n.default)(s)}}var o=a()},caDb:function(e,t,r){r.d(t,"a",function(){return o});var n=r("nSh/"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Widget:a()}},cm7J:function(e,t,r){var n=r("dIZa");e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},czXk:function(e,t){e.exports={d:"",e:"",el:"",w:"",wc:"",wd:"Main",l:"",lc:"",p:"",pi:"",c:"",cc:""}},d6Vr:function(e,t,r){var n=r("s3UK")["__core-js_shared__"];e.exports=n},dAi7:function(e,t,r){r.d(t,"a",function(){return u}),r.d(t,"b",function(){return l}),r.d(t,"d",function(){return p}),r.d(t,"c",function(){return v});var n=r("Fcif"),a=r("jA1y"),o=r("z24M"),i=r("J8k1"),s=r("50K0"),c="/wscuser/membercenter/";function u(e){return a.c({path:c+"init-data.json",method:"get",data:Object(n.a)({},e,{currentKdtId:e.onlineKdtId,needConsumptionAboveCoupon:1}),query:{kdt_id:e.kdtId}})}function d(e){return a.c({path:c+"global.json",method:"get",data:Object(n.a)({},e,{adaptorComponents:i.a.join(",")}),query:{kdt_id:e.kdtId}})}function l(e){return Promise.all([d(e),u(e)])}function p(e){var t=Object(o.a)()||{};if(!e.isChainStoreSync()&&t.kdtId&&t.userVersion)return l({kdtId:t.kdtId,version:t.userVersion,onlineKdtId:t.kdtId})}function h(e){return a.c({path:c+"user-center-config.json",method:"get",data:{kdtId:e,platform:2}})}function f(e){return a.c({path:c+"contact.json",method:"get",data:{kdt_id:e}})}function g(e,t,r){(function(e){return a.c({path:"/wscdeco/brand-feature-detail.json",method:"get",data:{stage:16,hadEnterShop:!0,kdt_id:e,labelType:"usercenter,freeMemberCenter,payMemberCenter"}})})(t).then(t=>{var{usercenter:n}=t,a=!!n;e.globalData.ucTempType=a?1:r})}function v(e,t){if(e.isChainStoreSync()){var r=e.getHQKdtId()||t;return s.a.getMiniappPrefetchData("retailTemplate").then(t=>{g(e,r,t)}),e.waitForEnterShop().then(()=>function(e){var{kdtId:t}=e;return Promise.all([a.c({path:"/retail/h5/user/memberInfo.json",method:"get"}),h(t),f(t)])}({kdtId:e.getKdtId()}))}}},dIZa:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"dMZ+":function(e,t){e.exports={d:"shareData;2;goods;4;kdtId;4;offlineId;4;shopMetaInfo;4;goodsPriceInfo;4;env;4;shopConfig;4;currentActivity;4;seActivity;4",e:"share:close;page-container:scrollLocked;share:setPageShareParams",el:"goodsSetupInit;share:show;share:query;share:item;share:pop;share:optionMenu;share:setPageShareParams;updateShareData",w:"Widget;ActionItem;SharePop",wc:"UserAuthorize;ActionItem;SharePop",wd:"Widget",lc:"getAuthType;hasLogin",pi:"setShareInfo;setShareActions",li:"onShareAppMessage;onShareTimeline"}},dO0t:function(e,t){},dWkE:function(e,t,r){var n=r("umDW");r.d(t,"b",function(){return n.b}),t.a=n.a},dsC0:function(e,t,r){r.d(t,"e",function(){return f}),r.d(t,"h",function(){return v}),r.d(t,"n",function(){return m}),r.d(t,"g",function(){return _}),r.d(t,"b",function(){return O}),r.d(t,"o",function(){return P}),r.d(t,"i",function(){return w}),r.d(t,"k",function(){return k.a}),r.d(t,"l",function(){return I}),r.d(t,"d",function(){return E}),r.d(t,"c",function(){return D}),r.d(t,"p",function(){return L}),r.d(t,"m",function(){return R}),r.d(t,"q",function(){return U}),r.d(t,"a",function(){return B}),r.d(t,"j",function(){return F}),r.d(t,"f",function(){return G});var n=r("Fcif"),a=r("9DIb"),o=r.n(a),i=r("mQXz"),s=r.n(i),c=r("w2Y9"),u=r.n(c),d=r("KEq0"),l=r.n(d),p=r("NHEX"),h=r.n(p);function f(e,t){var{type:r,goods:a}=e,{umpAlias:i="",umpType:c="",activityId:d="",activityType:p=""}=o()(t),f=s()(t,["ump_alias","ump_type","access_token","app_id","prefetchKey"]),g=function(e){return void 0===e&&(e={}),u.a.add("/pages/goods/detail/index",e)}(Object(n.a)({},f,{umpType:c,umpAlias:i,activityId:d,activityType:p,alias:a.alias})),v=h()(e,"fastbuyFeature.isFastBuy",!1),m=h()(e,"fastbuyFeature.showGoodsShopSign",!0);return Object(n.a)({},a,{type:r,path:g,picture:l()(h()(a,"pictures.0.url","")),pictures:a.pictures||[],video:a.video||{},explainVideo:a.explainVideo||{},sellPoint:a.sellPoint||"",isOutlink:0===a.buyWay,outlinkUrl:a.buyUrl,isHaitao:a.isHaitao||a.isHaiTao,isMedicine:a.isOtcCategory||a.isPrescriptionCategory,isFastBuy:v,verifyStatus:a.verifyStatus||2,showGoodsShopSign:m})}var g=r("Nvad");function v(e,t,r,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n={});var a=t.goods,{minPrice:o,maxPrice:i,stockNum:s,hideStock:c,oldMaxPrice:u,oldMinPrice:d,priceTags:l=[]}=a,{showPrice:p,showOldPrice:h}=Object(g.a)(a),{goods:f}=e,{isDeposit:v,isEnd:m}=r.presale||{},{soldNum:y}=n,b="";return v&&(b="定金"),{showPriceBlock:!0,showOriginPrice:!0,showBanner:v&&!m,price:p,oldPrice:h,priceLabel:b,oldMinPrice:d,oldMaxPrice:u,minPrice:o,maxPrice:i,stockNum:s,hideStock:c,soldNum:null===y?f.soldNum:y,tags:[...l]}}function m(e,t){return Object(n.a)({},e,{name:e.shopName,city:e.city||"",province:e.province||"",address:e.address||"",rootKdtId:t.rootKdtId,phone:e.phone||""})}var y=r("zMoS"),b=r("9ZMt");function _(e,t){var{goods:r,shopConfig:n}=e,{goodsExtra:a={},pageFeature:o={},soldNum:i=null}=t,{hasPurchaseRight:s=!0,isGoodsCollected:c=!1}=a,u=Object(y.a)(r,"refundModel",{}),d=b.default.getEnv(),l="weapp"===d||"web"===d,{localDelivery:p=1,goodsSupplyReminder:h}=n,f=Object(y.a)(r,"ecardExtra",null),g=Object(y.a)(r,"periodBuyExtra",null),{itemType:v,isDisplay:m}=r,_=!0;(0==+p||f||g||r.isHaitao||+r.isInstallment||r.isCatering)&&(_=!1);var O=l&&1==+h&&"FENXIAO"!==v&&1===m,S={isGoodsCollected:c,isSupportFCode:Object(y.a)(o,"extra.supportFCode",!1),limitBuy:!s,supportItemProps:_,refund:{isSupport:Object(y.a)(u,"isSupportRefund",1),type:u.refundType,interval:u.periodMillSeconds},showStockLackReminder:O};return i&&(S.soldNum=i),S}function O(e,t){var{delivery:r}=e,{customerPostageFree:a}=t,o=Object(y.a)(r,"postage.desc","");return a&&a.isCustomerPostage&&(o="免运费"),Object(n.a)({},r,{postage:o,expressFee:Object(y.a)(r,"express.desc",""),localDeliveryFee:Object(y.a)(r,"localDelivery.desc",""),expressPayMode:Object(y.a)(r,"postage.expressPayMode")})}var S=e=>JSON.parse(e||"{}");function P(e){var t="web"===b.default.getEnv(),r=Object(n.a)({},e,{isShowBuyBtn:e.showBuyBtn,isYouzanSecured:e.isYouzanSecured,isSecuredTransactions:e.isSecuredTransactions,showRecommendGoods:t?e.goodsRecommend:e.goodsRecommendForWeapp,showBuyRecord:e.buyRecord,showCustomerReviews:e.customerReviews,evaluationMemberLabel:e.evaluationMemberLabel||0,showBuyerShows:Boolean(e.buyerShow),showPersonalRecommendGoods:e.personalRecommendWindowGoods,isSimplifiedWsc:e.isSimplifiedWsc,supportFreightInsurance:e.freightInsurance,hideShoppingCart:e.hideShoppingCart,hasPhysicalStore:e.teamPhysical,isWeixinPayOrigin:1==+e.weixinPayOrigin,principalCertType:e.principalCertType||0,brandCertType:e.brandCertType||0,goodsDetailBuyRecord:e.goodsDetailBuyRecord||"",goodsDetailBuyRecordMin:+e.goodsDetailBuyRecordMin,goodsDetailSales:e.goodsDetailSales||null,buyBtnConfig:e.buyBtnConfig||null,webImInGoodsConfig:e.webImInGoodsConfig||null,shopOperateDurationYears:e.shopOperateDurationYears||0,shopOperateDurationTagSwitch:e.shopOperateDurationTagSwitch||0,weixinTransactionSecured:e.weixinTransactionSecured,goodsSalesReminder:e.goodsSalesReminder,goodsSupplyReminder:e.goodsSupplyReminder,goodsVideoDanmakuSwitch:1==+e.goodsVideoDanmakuSwitch}),a=S(e.goodsTradeMarquee);a.type=(a.type||"").split(",").filter(e=>!["",void 0].includes(e)).map(e=>+e),r.goodsTradeMarquee=a;var{open:o}=S(e.goodsRecommendForYou);r.openRecommendForYou=o;var{default:i,label:s}=S(e.customCartName);return r.showDefaultCartText=!+i,r.cartText=(s||"").substr(0,4),r.goodsFavorableRate=S(e.goodsFavorableRate),r.pointsConfig=S(e.scrmCreditDiyName),r}function w(e){var{goods:t,shopConfig:r}=e,n=Object(y.a)(t,"youzanGuaranteeModel",{});return{on:n.youzanGuarantee||0,style:r.guaranteeShowStyleType,desc:n.guaranteedComponents||[]}}function I(e){var{pageFeature:t={}}=e;return Object(n.a)({},t,{showBuyBtn:t.showBuyButton,showCartBtn:t.showCartButton,showPointsBtn:t.showPointsButton,showForbidBuyBtn:t.showForbidBuyButton,showGiftBtn:t.showGiftButton,showMiniShopBtn:t.showMiniShopButton,showMiniCartBtn:t.showMiniCartButton,showMiniPointsBtn:t.showMiniPointsButton,showShareBtn:t.showShareButton,showImBtn:t.showImButton})}var k=r("X3j9"),C=r("q29p"),T=r.n(C);function x(e,t){var{haoTaoItemExtra:r={},isHaitao:a}=e,o=h()(t,"haitaoTariffAmount","");if(a&&r){var i=o||r.tariffAmount;return Object(n.a)({},r,{tariffAmount:i})}return null}function j(e,t){var r=e.ecardExtra||{};if(!e.ecardExtra)return null;var{ecardRules:a,ecardInstructions:o}=function(e,t){if(!e)return{};var r=e||{},n=r.validityType,a=r.effectiveType,o=r.effectiveDelayHours,i=r.itemValidityDay,s=r.itemValidityStart,c=r.itemValidityEnd,u=r.holidaysAvailable,d=r.instructions,l=[],p=["永久有效",i+"天内使用有效",T()(s,"YYYY年MM月DD日")+" - "+T()(c,"YYYY年MM月DD日")+"内使用有效","在所选使用日期内当天有效"];l.push(p[n]||"");var h=["立即生效",o+"小时后生效","次日生效"];l.push(h[a]?"购买后"+h[a]:""),l.push("节假日"+(0===u?"不":"")+"可用");var f=t.isSupport,g=t.type,v=t.interval;if(f){if(0===g)l.push("未使用卡券随时可申请退款");else if(1===g){var m=Math.floor(v/24/60/60/1e3),y=v%864e5,b=Math.floor(y/60/60/1e3),_=m?m+"天":"",O=b?b+"小时":"";l.push("未使用卡券在过期前"+(_+O)+"随时可以申请退款")}}else l.push("不支持申请退款");d&&l.push(d||"");var S=l.slice(),P=S.pop(),w=S.join("，");return{ecardRules:l,ecardInstructions:P?[w,"其他说明："+P]:[w]}}(r,t.refund),{itemPreOrderTime:i}=r,s=(i||"").split("-"),c=s[0]||"",u=s[1]||"";return Object(n.a)({},r,{isPriceCalendar:3===r.validityType,ecardRules:a,ecardInstructions:o,itemPreOrderTxt:c?(0==+c?"当天":"前"+c+"天")+" "+u:"",itemPreOrderModel:c?{day:c,time:u}:null})}function A(e){var t=h()(e,"periodBuyExtra",null);return t?{description:t.description,period:t.period,deliveryTimeList:t.deliverTime,periodSku:t.skuExtras,deliverTimeId:"1"}:null}function E(e,t,r,n){var{goods:a}=e,{goodsExtra:o,marketing:i,ump:s={}}=t,{outerActivities:c=[]}=i||{};return{presale:s.presale,waitToSold:s.waitToSold,haitao:x(a,o),virtualCoupon:a.couponGoodsExtraModel,virtualTicket:j(a,r),periodbuy:A(a),enjoyBuy:c.length}}function D(e){var{displayData:t={},platform:r="",pageParams:a,platformSpecialUI:o}=e,{dangerousPlatform:i=[],hideRankingPlatform:s=[],hideShareIcon:c=[]}=o||{};return Object(n.a)({},t,{platform:r,showSku:"true"===a.showsku,isDangerous:i.indexOf(r)>-1,hideShareIcon:c.indexOf(r)>-1,hideRanking:s.indexOf(r)>-1,isMobile:!0})}var M=r("NW04"),N=Object(M.c)({"price-font-family":"Avenir"});function L(e){var{theme:t}=e;return t?{themeColors:t.colors,themeVars:Object(M.c)(t.colors),pageVars:N}:{themeColors:null,themeVars:M.a,pageVars:N}}function R(e){var{goods:t,shopConfig:r}=e;return{cashOnDelivery:!t.isVirtual&&+r.codPay,isInstallment:t.isInstallment,isFreeInterest:t.freeInterest,isPriorUse:r.priorUse}}function U(e){if(void 0===e&&(e=[]),!Array.isArray(e)||!e.length)return{};var t={};return e.forEach(e=>{t[e.type]=e}),t}function B(e){void 0===e&&(e={});var{appConfig:t}=e,r={appConfig:null,appEngineConfig:null};return t&&(r.appConfig=t),r}function F(e){var{logistics:t}=e||{};return(t||{}).logisticsTimelinessInfo||{}}function G(e){var{goods:t}=e,{comboDetailModel:r,comboMark:a={}}=t;return a.isCombo?Object(n.a)({},r,a):{isCombo:!1}}},dst7:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return([].slice.call(arguments,1)||[]).forEach(function(t){if(t)for(var r in t)e[r]=t[r]}),e};t.default=n,e.exports=t.default},e2Yn:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a>=1&&a<=126||a>=65376&&a<=65439?r++:r+=t}return r};t.default=n,e.exports=t.default},eCH0:function(e,t,r){r.d(t,"a",function(){return n}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return y});var n={SIGN:"RLQD_NEW",COUPON:"coupon_notice_scene"},a=r("jA1y");function o(e){return Object(a.c)({path:"/v3/message/wechat-push/query-wechat-subscribe-result.json",method:"POST",withCredentials:!0,data:{pageId:e}})}function i(e){return Object(a.c)({path:"/v3/message/wechat-push/template.json",method:"GET",withCredentials:!0,data:{scene:e}})}var s=r("Fcif"),c=r("+I+c"),u=r("QxN7"),d=["level","detail"],l=getApp();function p(e,t,r){var n=r||{},{level:a,detail:o}=n,i=Object(c.a)(n,d),p=Object(u.getErrorMsg)(t);l.logger.skynetLog({message:"[消息订阅] "+e+(p?"："+p:""),level:a,extra:{bizName:"消息订阅",logName:e,logMsg:p},detail:Object(s.a)({},t,i,o)})}function h(e){var t,r,n,o;void 0===e&&(e={});var i=null==(t=e.templates)||null==(r=t.map(e=>"string"==typeof e?{templateId:e}:e))?void 0:r.filter(e=>null==e?void 0:e.templateId),s=i.map(e=>e.templateId).slice(0,3);if(!wx.canIUse("requestSubscribeMessage")){return p("当前小程序基础库不支持订阅"),null==e.onFail||e.onFail({errCode:"UNSUPPORTED",errMsg:"当前小程序基础库不支持订阅"}),void(null==e.onComplete||e.onComplete())}if(!Array.isArray(s)||!s.length){return p("templates列表为空"),null==e.onFail||e.onFail({errCode:"NO_TEMPLATE",errMsg:"templates列表为空"}),void(null==e.onComplete||e.onComplete())}var c=getApp(),u=null;null!=(n=c.globalData.subscribeConf)&&n.mainSwitch&&(u=setTimeout(()=>{null==e.onShowTips||e.onShowTips()},800)),p("开始订阅",{templateIds:s}),null==(o=c.logger)||o.log({et:"view",ei:"show_subscribe",en:"唤起授权",params:{component:"subscribe_push"}});var{subscribePos:d,subscribeSource:l,deliveryWay:h}=e.onSelfLog||{};wx.requestSubscribeMessage({tmplIds:s,success:t=>{p("订阅成功",{res:t,templateIds:s});var r,n,o=s.some(e=>"accept"===t[e]);if(o){e.noToast||wx.showToast({title:"订阅通知成功",icon:"success"});var u,f=i.filter(e=>"accept"===t[null==e?void 0:e.templateId]&&(null==e?void 0:e.subscribeTemplateId));if(f.length)r=f,Object(a.c)({path:"/v3/message/wechat-push/subscribe-callback.json",method:"POST",withCredentials:!0,data:{templateList:r}}),null==(u=c.logger)||u.log({et:"click",ei:"click_subscribe",en:"点击订阅",params:{component:"subscribe_push"}})}d&&(null==(n=c.logger)||n.log({et:"click",ei:(o?"accept":"reject")+"_msg_subscribe",en:(o?"接受":"拒绝")+"授权订阅小程序消息",params:{subscribe_pos:d,subscribe_source:l,delivery_way:h}}));null==e.onSuccess||e.onSuccess(t)},fail:t=>{p("订阅失败",t,{templateIds:s});var r,n="订阅微信通知失败 "+(t.errCode||"");t.errMsg&&t.errMsg.indexOf("switched off")>-1?n="请在小程序设置中允许订阅消息":20001===(null==t?void 0:t.errCode)&&(p("删除失效模板",t,{templateIds:s}),r=s,Object(a.c)({path:"/v3/message/wechat-push/callback-remove-unused-template.json",method:"POST",withCredentials:!0,data:{wechatTemplateIdList:r}})),e.noToast||wx.showToast({title:n,icon:"none"}),null==e.onFail||e.onFail(t)},complete:()=>{u&&clearTimeout(u),null==e.onCloseTips||e.onCloseTips(),null==e.onComplete||e.onComplete()}})}var f=r("KDJo"),g=r("2xJD"),v=r("YehF"),m=getApp();function y(e){var t,{pageId:r,scene:n,subscribePage:o,subscribeType:i,authorizationType:s,windowType:c,options:u,supportRetail:d=!0,noToast:l=!0}=e,{next:y}=u||{},b=m.globalData.hasSubscribedByApp||0;if(b&&b>=3)return p("次数超过阈值",{times:b}),void y();Object(a.c)({path:"/wscdeco/shop/get-shop-meta-info-by-kdtId.json",data:t}).then(e=>{var t=Object(f.e)(e)&&!Object(g.c)(e),_=d&&(Object(v.f)(e)||Object(v.g)(e)||Object(v.b)(e));return t||_?(r||(t&&(r=3),_&&(r=5)),r&&n?Object(a.c)({path:"/wscdeco/im/common/is-subscription-in-white-list.json",data:{}}).then(e=>{if(!!!e.value)return p("非白名单"),void y();var t={pageId:r,scene:n,windowType:c,authorizationType:s};return function(e){return void 0===e&&(e={}),Object(a.c)({path:"/wscdeco/im/common/get-template.json",data:e})}(t).catch(e=>(p("查询模板失败",e,{level:"warn",detail:{params:t}}),[])).then(e=>Array.isArray(e)&&e.length?new Promise((t,n)=>{var{onSuccess:d,onFail:p,onComplete:f,onShowTips:g,onCloseTips:v}=u;h({pageId:r,templates:e,noToast:l,onSuccess:e=>{var r,n;(d&&d(),!0===Object.values(e).some(e=>"accept"===e))?((e=>{Object(a.c)({path:"/wscdeco/im/common/add-authorize-log.json",data:e,method:"post"})})({authorizationType:s}),null==(r=m.logger)||r.log({et:"click",ei:"allow_msg_subscribe",en:"允许订阅小程序消息",params:{subscribe_page:o,subscribe_type:i}}),t()):null==(n=m.logger)||n.log({et:"click",ei:"refuse_msg_subscribe",en:"拒绝订阅小程序消息",params:{subscribe_page:o,subscribe_type:i}})},onFail:e=>{p&&p(),n(e)},onComplete:()=>{f&&f()},onShowTips:()=>{var e,t;g&&g(),t=b+1,m.globalData.hasSubscribedByApp=t,(e=>{Object(a.c)({path:"/wscdeco/im/common/add-user-behavior.json",data:e,method:"post"})})({windowType:c}),null==(e=m.logger)||e.log({et:"click",ei:"msg_subscribe_view",en:"小程序订阅消息弹窗曝光",params:{subscribe_page:o,subscribe_type:i}})},onCloseTips:()=>{v&&v()}})}):(p("模板为空"),void y()))}):(p("参数不正确"),void y())):(p("店铺类型不支持"),void y())}).catch(e=>{throw p("未知异常",e),e})}},eWMZ:function(e,t,r){r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o});var n="+86",a=1e4,o="https://www.youzan.com/intro/rule/detail?alias=14nykbyyf&pageType=rules"},eiGO:function(e,t){e.exports={d:"biz;0;quickMode;0;payRechargeInfo;2;giftPackSelected;2;giftPackSelectedGiftPacks;2;giftSelectedGiftPackIndex;2;themeColors;4;kdtId;4;showRechargeFreeOrder;4;rechargeFreeOrderRule;4;recommendDetaid;4;showPrepay;4;valueCard;4;balanceMkExclusion;4;useStoredMemberCustomerDiscount;4;useStoreBalancePayInFull;4;pay;4;valueCardDecrease;4;miniprogram;4;display;4",e:"recharge-free-order:on-close;recharge-free-order:on-confirm;trade-recharge:on-close;trade-recharge:on-select;onGiftPackClose;onGiftPackRecharge;onSelectGiftPack;toggleGiftPack",el:"cashier:pay:prepaid:success;cashier:pay:prepaid:fail;cashier:pay:prepaid:close;onGiftPackClose;onGiftPackRecharge;onSelectGiftPack;toggleGiftPack",w:"PrepaidRecommendMain;PrepaidRecommend;RechargeList;RechargeListFree;RechargeListRecommend;RechargeGiftPack",wc:"RechargeListFree;RechargeListRecommend",wd:"Main",l:"",lc:"getUserInfo",p:"prepaidCommonPay;freeOrderJumpToResult;freeOrderGetStatus;doRecharge;showPrePayCardRecharge",pi:"prepaidCommonPay;prepaidStartPay;fetchShow;confirmOrder;setOrderForbidCoupon;setOrderForbidPreference;getCreateOrderParam;mutateState;prepaidCommonPay",c:"",cc:""}},exMg:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("ZxyO"))&&n.__esModule?n:{default:n};var o=function(e,t){return e=new a.default(e),t=new a.default(t),parseFloat(e.times(t).toFixed())};t.default=o,e.exports=t.default},f6Yk:function(e,t,r){r.d(t,"a",function(){return f}),r.d(t,"b",function(){return p});var n=r("Fcif"),a=r("9ZMt"),o=(r("cWxX"),r("s0cO")),i=r.n(o),s=r("GFyo"),c=r("Sipi"),u="cookie",d="query",l={atr_uuid:{transType:u},yzk_ex:{transType:u},pageType:{transType:d},tui_platform:{transType:d},tui_click:{transType:d},wecom_uuid:{transType:d},fromSource:{transType:d}};function p(e){return void 0===e&&(e={}),Object(s.c)("cpsGrowthCookie").then(t=>{var{data:r}=t;return Object(s.g)("cpsGrowthCookie",Object(n.a)({},r||{},e))})}function h(e){var t="";switch(l[e]?l[e].transType:null){case u:t=function(e){var t="";try{var{[e]:r}=Object(c.b)("cpsGrowthCookie")||{};t=r||""}catch(e){}return t}(e);break;case d:t=function(e){var{query:t}=a.default.getAppOptions()||{};return t[e]||""}(e);}return t}function f(e){var t={},r=e||l;return Object.keys(r).forEach(e=>{t[i()(e)]=h(e)}),t}},"f9/1":function(e,t,r){r.r(t),r.d(t,"setSwitchShopRangeCache",function(){return _.s}),r.d(t,"forceUseHqTabbar",function(){return _.e}),r.d(t,"forceShowHome",function(){return _.d}),r.d(t,"getEnterCacheConfig",function(){return _.g}),r.d(t,"getWxPage",function(){return _.i}),r.d(t,"setEnterCacheConfig",function(){return _.q}),r.d(t,"cacheProxyUpdateEmit",function(){return _.a}),r.d(t,"isHqEnterShop",function(){return _.k}),r.d(t,"isWxProxyDone",function(){return _.n}),r.d(t,"isProxyUpdateKdtId",function(){return _.m}),r.d(t,"notUpdateKdtIdInChain",function(){return _.o}),r.d(t,"featureJump",function(){return P}),r.d(t,"getCurrentPageOption",function(){return T}),r.d(t,"updateChainStoreInfo",function(){return x}),r.d(t,"isChainStoreSync",function(){return j}),r.d(t,"setChainStoreInfo",function(){return A}),r.d(t,"getHQKdtId",function(){return D}),r.d(t,"isShopHq",function(){return M}),r.d(t,"setIsReLaunch",function(){return N}),r.d(t,"checkReLaunchShopSelect",function(){return L}),r.d(t,"redirectToMemberShopWhenAuthorize",function(){return U}),r.d(t,"createChainStoreEvent",function(){return B}),r.d(t,"checkSpecialShopDZ",function(){return F});var n=r("Fcif"),a=r("DXKY"),o=r("Tewj"),i=r("zMoS"),s=r("2wjL"),c=r("jA1y"),u=r("qHGj"),d=r("YehF"),l=r("2xJD"),p=r("UyoQ"),h=r("lRMv"),f=r("sbwY"),g=r("ZIOE"),v=r("rBuL"),m=r("/duV"),y=r("bBDD"),b=r("SVbq"),_=r("wYCQ"),O=(r("+I+c"),r("eijD"),r("xih6"),r("POYE"),"/pages/home/feature/index"),S=function(e,t){return void 0===t&&(t="navigateTo"),Object(b.o)({redirectUrl:encodeURIComponent(e)},{redirectType:t})};function P(e){void 0===e&&(e={});var{enterConfig:t,bannerIdOpt:r,alias:a,callback:o,jumpType:i="navigateTo"}=e,{mode:c,kdtIdList:u}=t;if(!t)return!1;if(c&&Object(b.C)({sceneId:b.e.FEATURE,sceneSource:"CUSTOM"}),c===b.f.Enter){var d=Object(n.a)({alias:a},r);return d.shopAutoEnter=4,o&&o(),wx[i]({url:s.a.add(O,d)}),!0}if(c===b.f.Assign&&+u[0]!=+Object(m.c)())return o&&o(),wx[i]({url:s.a.add(O,Object(n.a)({alias:a,kdtId:u[0]},r))}),!0;if(c===b.f.Select){var l=Object(_.s)({enterConfig:t}),p=Object(n.a)({alias:a},r,{enterShopId:l});return o&&o(),S(s.a.add(O,p),i),!0}}var{state:w}=f.a,I=!1,k="packages",C=()=>{var e="/"+k+"/home/dashboard/index",t=getCurrentPages();if(t.length>0){var{route:r,options:n={}}=t[t.length-1];e=s.a.add("/"+r,n)}return encodeURIComponent(e)};function T(){var e=getCurrentPages();if(0===e.length){var{path:t,query:r}=wx.getLaunchOptionsSync();return{path:t,query:r}}var{route:n,options:a}=e[e.length-1];return"pages/common/blank-page/index"===n?(getApp().globalData||{}).enterShopInfo:{path:n,query:a}}function x(){var{shopMetaInfo:e={}}=w.shop;Object(y.g)(e)&&(Object(y.i)(e)||getApp().trigger("app:chainstore:kdtid:update",{kdtId:e.kdt_id}),getApp().trigger("app:chainstore:change:update",{kdtId:e.kdt_id}))}function j(){var{shopMetaInfo:e={}}=w.shop;return Object.keys(e).length?Object(u.b)(e):Object(h.r)()}function A(e){var{shopMetaInfo:t,shopInfo:r}=e,a={isRetailShop:Object(d.e)(t),isRootShop:Object(y.i)(t),isChainStore:Object(y.e)(t),isMultiOnlineShop:Object(y.g)(t),isEduChainStore:Object(y.f)(t),isOnline:t.online_shop_open,isEduShop:Object(l.c)(t),isUnitedHqStore:!1,isPureOffineShop:Object(y.h)(t)};return a.isChainStore&&a.isOnline&&Object(_.q)("lastOnlineKdtId",t.kdt_id),{chainStoreInfo:Object(n.a)({showBtn:!!t.show_retail_switch_btn,showUserLocation:t.show_user_location,onlineShopVisitModel:t.online_shop_visit_model,logo:r.logo,name:t.shop_name,rootKdtId:t.root_kdt_id},a),shopType:a}}function E(e){var{shopMetaInfo:t,isFromBlankPageOrOnLaunch:r}=e,{route:a}=Object(y.b)();Promise.all([Object(y.j)(t),Object(y.d)(a)]).then(e=>{var[t,a]=e,{needEnterShop:o,path:i,query:c}=t;if(o){if(a)return;var u=s.a.add("/"+i,c);Object(h.g)(r?Object(n.a)({},c,{redirectUrl:u,logTag:"global"}):{redirectUrl:u,logTag:"global"}).then(e=>{e&&getApp().dontUpdateKdtIdByServer()})}else Object(h.j)("updateChainStoreInfo").then(e=>{if(e){var{shopMetaInfo:t={},shopInfo:r}=getApp().getShopInfoSync();x()}})}).catch(()=>{Object(h.f)({err:"[wx] 全局进店处理失败"})})}function D(){var{shop:e}=w;return Object(i.a)(e,"chainStoreInfo.rootKdtId")||e.kdt_id||Object(m.e)()||null}function M(){return!!Object(h.r)()&&Object(m.c)()===D()}function N(e){I=e}function L(){I&&(I=!0,wx.reLaunch({url:"/"+k+"/shop-select/chain-store/shopselect/index?dbKey=location&from=new&redirectUrl="+C()}))}var R="";function U(e){var t=+Object(v.b)();-1!==[90957577,54731005,42865412].indexOf(t)&&e.on("app:token:success",e=>{var{yzUserId:t}=e;if(R||(R=t),R!==t){R=t;var r=+Object(g.getKdtId)();c.c({path:"/wscshop/weapp/getMemberStore.json"}).then(e=>{var{kdtId:t,shopMetaInfo:n}=e;if(t&&+t!==r&&Object(p.a)(n)){var o=decodeURIComponent(C());o=s.a.add(o,{subKdtId:t}),o=s.a.remove(o,"shopAutoEnter"),Object(g.updateKdtId)(t,!1,{mark:"[chain-store.js]redirectToMemberShopWhenAuthorize"}),a.a.once("shop:info:fetch:success",()=>{wx.reLaunch({url:o})},this)}})}})}function B(){a.a.off("app:chain:store:resolved",E),a.a.on("app:chain:store:resolved",E)}function F(){return[19171281].includes(+Object(m.c)())}o.default.on(b.d.a_enter_c,x),o.default.on(b.d.shop_c,g.fetchLaunchJsonCallback)},fChk:function(e,t,r){r.d(t,"a",function(){return a});var n=r("h+Rz");function a(e){return n.a.pageScrollTo(e)}},fNGs:function(e,t,r){var n=r("Qcor"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a()},t.a=o},fZnw:function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i});var n=r("Fcif");function a(e){return function(t){return new Promise((r,a)=>{e.call(e,Object(n.a)({},t,{success:r,fail:a}))})}}var o=e=>function(t,r){return void 0===r&&(r={}),new Promise((a,o)=>e(Object(n.a)({},t,{success:a,fail:o}),r))};function i(e,t){if(void 0===t&&(t={}),!/^wx\./.test(e))throw new Error("promisifyCall 仅支持 wx 的接口调用");var r=e.substr(3);if(!wx[r])throw new Error("不存在 "+e+" API");return new Promise((e,a)=>{wx[r](Object(n.a)({},t,{success(r){t.success&&t.success(r),t.complete&&t.complete(r),e(r)},fail(e){t.fail&&t.fail(e),t.complete&&t.complete(e),a(e)}}))})}},fmSs:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r("URSu"))&&n.__esModule?n:{default:n}).default;t.default=a,e.exports=t.default},gBZH:function(e,t,r){r.d(t,"a",function(){return n});var n={ADD_CART:"add_shopping_car",NORMAL_BUY:"click_buy_now",GROUP_BUY:"together_group_purchase",GET_COUPON:"get_coupon",GET_DISCOUNT:"get_discount_code",SIGN_IN:"click_sign_in",POINTS_BUY:"points_exchange"}},gKCo:function(e,t,r){r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=r("Fcif"),a=r("dsC0");function o(e,t){var{goodsData:r,pageParams:o,shopData:i,shopMetaInfo:s,staticConfig:c}=e,u=Object(a.g)(r,{}),{price:d}=Object(a.h)(r,t),l=Object.freeze({showPriceBlock:!0,showOriginPrice:!0,price:d});return{goodsBaseInfo:Object(n.a)({firstRenderPriceInfo:l},Object(a.e)(r,o)),shopConfig:Object(a.o)(r.shopConfig),shopData:i,alias:r.alias,kdtId:i.kdtId,distribution:Object(a.b)(r,{}),goodsMetaInfo:u,staticConfig:c,shopBaseInfo:Object(a.n)(Object(n.a)({},r.shop,i),s)}}function i(e){var{staticData:t,asyncGoodsData:r,goodsSkuData:o,activitySkuData:i,serverStatus:s}=e,{goodsData:c,shopMetaInfo:u,offlineData:d,shopData:l,isOwnerTeam:p=!1,featureSwitch:h={},apolloSwitch:f}=t,{mpAccount:g}=l,v={buyLimitType:r.buyLimitType,bosWorkFlow:r.bosWorkFlow},m=Object(a.g)(c,r),y=Object(a.b)(c,r),b=Object(a.i)(c),_=(c.goods||{}).youzanGuaranteeModelV2,O=Object(a.l)(r),S=Object(a.q)(c.extendModelList),P=Object(a.k)(d,r,O,o),w=Object(a.d)(c,r,m,s),I=Object(a.h)(c,o,w,r),k=Object(a.c)(t),C=Object(a.p)(t),T=Object(a.m)(c),x=Object(a.a)(t),j=Object(a.j)(r),A={logined:!0,isAdmin:p};return Object(n.a)({shopMpInfo:g,goodsSkuData:o,activitySkuData:i,goodsMetaInfo:m,goodsPriceInfo:I,distribution:y,guarantee:b,guaranteeData:_,pageFeature:O,offlineId:P.id||0,multistore:P,goodsActivity:w,env:k,pageSwitch:f},C,{payWays:T,serverStatus:s,buyConfig:v,goodsExtendInfo:S,physicalStores:r.physicalStores,openAppConfig:x,userState:A,shopMetaInfo:u,logisticsTimeliness:j,featureSwitch:h})}},gNlG:function(e,t,r){var n=r("DXKY"),a=r("hTAu");t.a=Behavior({methods:{setPageScrollControlSubscribe(e,t){var r=Object(a.a)();return n.a.on("onPageScroll"+r,e,t),r},delPageScrollControlSubscribe(e,t,r){void 0===r&&(r=Object(a.a)()),n.a.off("onPageScroll"+r,e,t)}}})},h4Sw:function(e,t,r){t.a={cacheKey:{addressDowngrade:"address_downgrade"},eventKey:{selfFetchCity:"self-fetch-city-change",addressSelect:"address-select",addressDelete:"address-delete",addressSave:"address-save",couponChange:"order-coupon-change",showExpressWay:"show-express-way",addressCity:"address-city-change",addressMap:"address-map-change",showContact:"show-contact",showSelfFetchShop:"show-self-fetch-shop",showSelfFetchTime:"show-self-fetch-time",showTradeRecharge:"show-trade-recharge",contactError:"contact-error",idcardError:"idcard-error",presaleDisagreeToast:"presale-disagree-toast",showIdcardPopup:"show-idcard-popup"},phaseStatus:{WAIT_PAY:"待付款",WAIT_PAY_START:"未开始",PAID:"已付",CLOSE:"已关闭",SUCCESS:"已完成"},freightInsuranceTag:{NONE:"0",SELF:"1",FREE:"2"},groupon:{forbidReceive:0,optionalReceive:1,forceReceive:2},activityMap:{3:"降价拍",4:"拼团",6:"秒杀",8:"赠品",10:"会员折扣",11:"限时折扣",23:"抽奖团",24:"换购",26:"拼团"},shopStock:{default:0,full:1,none:2,part:3},umpBenefitChannelType:{subscription:118,wechatWork:119},appointmentType:{regular:1,instant:2}}},hDMN:function(e,t,r){r.d(t,"a",function(){return s});var n=r("6U3b"),a=r.n(n),o=r("8S+i"),i=r.n(o);class s{constructor(e){var{ctx:t,totalPageNum:r,useLoadMore:n}=e;this.ctx=t,this.totalPageNum=r,this.useLoadMore=n}}s.widgets={Main:a(),RecommendGoodsTitle:i()}},hTAu:function(e,t,r){function n(e){var t;if(e)t=e;else{var r=getCurrentPages();t=r[r.length-1]}if(!t.__uniqueKey__){var n=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}(t.route+JSON.stringify(t.options));t.__uniqueKey__=n}return t.__uniqueKey__}r.d(t,"a",function(){return n})},"i/JN":function(e,t,r){var n=r("GE03"),a=r("l3+0"),o=r("BAZ7"),i=r("+165"),s=r("pZIW"),c=r("OF9M");e.exports=function(e,t,r){var u=-1,d=a,l=e.length,p=!0,h=[],f=h;if(r)p=!1,d=o;else if(l>=200){var g=t?null:s(e);if(g)return c(g);p=!1,d=i,f=new n}else f=t?[]:h;e:for(;++u<l;){var v=e[u],m=t?t(v):v;if(v=r||0!==v?v:0,p&&m==m){for(var y=f.length;y--;)if(f[y]===m)continue e;t&&f.push(m),h.push(v)}else d(f,m,r)||(f!==h&&f.push(m),h.push(v))}return h}},i0JV:function(e,t,r){var n=r("FEiO"),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},iIKO:function(e,t,r){r.d(t,"a",function(){return o});var n=r("ubH4"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a()}},iOq2:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},jA1y:function(e,t,r){r.d(t,"f",function(){return D}),r.d(t,"g",function(){return M}),r.d(t,"e",function(){return N}),r.d(t,"c",function(){return L}),r.d(t,"d",function(){return R}),r.d(t,"b",function(){return U}),r.d(t,"a",function(){return B});var n=r("eijD"),a=r("Fcif"),o=r("DXKY"),i=r("WLNV"),s=r("taYb"),c=r("Sd3C"),u=r("8B9M"),d=r("z24M"),l=r("aOlM"),p=r("2wjL"),h=r("7sy2");function f(e,t){return void 0===t&&(t={}),p.a.add(e,t).replace(/^http(s)?:\/\/[^/]*\//,"storage://").replace(/access_token=([^&]*)/,"").replace(/app_id=([^&]*)/,"")}function g(e){var t=getApp();if(t&&t.logger){var r=t.logger.getLogParams(),{user:n,context:a}=r,o=null==a?void 0:a.from_params;Object(h.c)(o)&&(e.from_params=o),n.uuid&&(e.uuid=n.uuid,e.ftime=n.ftime)}}var v={inited:!1,cacheKeySet:new Set,cacheKeyMap:Object.create(null),cacheStorage:{}},m=Object(l.a)(()=>{wx.setStorage({key:"request-cache",data:{cacheKeyMap:v.cacheKeyMap,cacheStorage:v.cacheStorage}})},1e3),y=()=>{if(!v.inited){v.inited=!0;var e=Object.create(null);try{e=wx.getStorageSync("request-cache")||{}}catch(e){}var{cacheKeyMap:t={},cacheStorage:r={}}=e,n=+new Date/1e3;Object.keys(t).forEach(e=>{var a=t[e].expireTime-n;a>0&&_(e,r[e],a)})}};function b(e){v.cacheKeySet.delete(e),delete v.cacheKeyMap[e],delete v.cacheStorage[e]}function _(e,t,r){void 0===r&&(r=86400);var n=+new Date/1e3;v.cacheKeySet.add(e),v.cacheKeyMap[e]={key:e,createTime:n,expireTime:n+r},v.cacheStorage[e]=t}function O(e,t){var{url:r,data:n}=e;void 0===t&&(t=null),y();var a=f(r,n);if(v.cacheKeySet.has(a)){var o=+new Date/1e3,i=v.cacheStorage[a];if(i){if("number"==typeof t&&o<v.cacheKeyMap[a].createTime+t)return S(i);if("number"!=typeof t&&o<v.cacheKeyMap[a].expireTime)return S(i)}b(a)}return null}function S(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}var P=r("R18q"),w=r("US/N"),I={config:{},method:"GET",header:{}},k={origin:"carmen",header:{"content-type":"application/x-www-form-urlencoded"}},C={origin:"h5",header:{"content-type":"application/json"}},T={origin:"baymax",header:{"content-type":"application/x-www-form-urlencoded"}},x={appId:"",version:"",kdtId:"",offlineId:"",accessToken:"",sessionId:"",hasShop:!1,hasToken:!1},j=[],A=[],E=[];function D(e){var{offlineId:t,kdtId:r}=e;"offlineId"in e&&(x.offlineId=t),x.hasShop=!0,r&&function(e){void 0===e&&(e=""),x.kdtId=e,x.hasKdtId=!!e;for(var t=A.shift();t;)t(),t=A.shift()}(r);for(var n=E.shift();n;)n(),n=E.shift()}function M(e){e=s.a.toCamelCase(e),x.hasToken=!0,x.tokenTime=Date.now(),x.accessToken=e.accessToken,x.sessionId=e.sessionId;for(var t=j.shift();t;)t(),t=j.shift()}function N(e){void 0===e&&(e={}),x=Object(a.a)({},x,e),Object(w.setRequestDep)(x)}function L(e){return G(e=Object(i.a)({},C,e))}function R(e){return L(e=Object(i.a)({},e,{config:{useCdn:!0}}))}function U(e){if(!(e=F(e=Object(i.a)({},k,e))).api)throw new Error("Carmen 接口必须提供 api");return e.path=("/api/oauthentry/"+e.api).replace("//","/"),G(e)}function B(e){if(!(e=F(e=Object(i.a)({},T,e))).api)throw new Error("彩虹桥接口必须提供 api");return e.path=("/api/"+e.api).replace("//","/"),G(e)}function F(e){void 0===e&&(e={});var t=t=>Object(a.a)({},e,{query:Object(a.a)({},e.query,{retail_source:t})}),r=(Object(u.a)()||{}).globalData||{},n=Object(d.a)("userVersion");switch(r.scene){case 1:return t("MINAPP-SCAN-"+(n=n||"3.8.0"));case 2:return t("MINAPP-FREE-"+(n=n||"3.12.0"));case 3:return t("MINAPP-SHELF-"+(n=n||"1.0.0"));default:return e;}}function G(e){return e=Object(i.a)({},I,e),new Promise((t,r)=>{var{success:n,fail:a,complete:o}=e;e.success=e=>{try{n?n(e)&&t(e):t(e),o&&o(e)}catch(e){}},e.fail=e=>{a?a(e)&&r(e):r(e),o&&o(e)},z(e.config,()=>function(e){return q.apply(this,arguments)}(e))})}function H(e){return(t,r)=>new Promise((t,r)=>{var n=Object(u.a)(),o=n&&n.globalData&&n.globalData.enableHttp2;wx.request(Object(a.a)({},e,{success:e=>t(e),fail:e=>r(e),enableHttp2:o,complete:t=>{try{P.a.captureXhr({statusCode:t.statusCode||0,method:e.method,url:e.url,params:e.data})}catch(e){var r=Object(u.a)();r.logger&&r.logger.appError({name:"hummer_sdk_error",message:e.message,detail:{}})}}}))}).catch(function(e,t,r){return t=>{var n=t.res||t.message||t||{},a=("carmen"===e.origin?n.error_response:n)||{};if(o.a.trigger("request:api:fail",{requestOptions:e,response:a}),r){var i=a.errMsg||a.msg||a.message||"接口调用失败，请稍后重试";e.fail({code:a.code||-9999,msg:i,res:a})}return Promise.reject("请求失败")}}(e,0,r)).then(function(e,t,r){return n=>{var i=function(e,t){var r=t;if("string"===e.dataType&&"string"==typeof t)try{r=JSON.parse(t)}catch(e){var n=t.toString().replace(/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,"");try{r=JSON.parse(n)}catch(e){}}return r}(e,n.data),s={code:n.code||-9999,msg:n.errMsg||n.msg||"服务器请求失败，请稍后重试",res:i};if(200!==n.statusCode)return o.a.trigger("request:server:fail",{requestOptions:e,response:n}),r&&e.fail(s),Promise.reject(s);n=i;var c="carmen"===e.origin,u="baymax"===e.origin;if(function(e){void 0===e&&(e={});var t=0===e.code,r=!0===e.success;return void 0!==e.response&&!e.error_response||t||r}(n)){var d=c?n.response:n.data;"object"!=typeof d&&(d={value:d}),t&&function(e,t){var{url:r,data:n,expire:a=86400}=e;y();var o=f(r,n);if(v.cacheKeySet.size>25){var i=[...v.cacheKeySet].map(e=>v.cacheKeyMap[e]);i.sort((e,t)=>e.expireTime-t.expireTime);for(var s=v.cacheKeySet.size-25,c=+new Date/1e3,u=0;u<i.length;u+=1){var d=i[u];if(b(d.key),u>s&&d.expireTime>c)break}}_(o,S(t),a),m()}(Object(a.a)({},e,{expire:e._options.config.expire}),d);try{r&&e.success(d)}catch(t){o.a.trigger("request:business:fail",{requestOptions:e,response:n,error:t})}return d}return c&&(n=n.error_response),u&&(n.gw_err_resp?((n=n.gw_err_resp).code=n.err_code,n.msg=n.err_msg):n.msg=n.message),-1===n.code||(40010===n.code||40009===n.code)&&c||4205===n.code?new Promise((n,a)=>{function i(){r&&e.fail(s),a()}function c(){o.a.off("auth:token:fail",i),K(e._options).then(a=>{var o=H(e=a);n(o(t,r))})}if(o.a.once("auth:token:fail",i),x.hasToken&&e.requestTime<x.tokenTime)return z(e._options.config,c);x.hasToken&&(o.a.trigger("auth:login"),x.hasKdtId=!1,x.hasToken=!1,x.hasShop=!1),z(e._options.config,c)}).catch(e=>{}):(o.a.trigger("request:code:fail",{requestOptions:e,response:n}),s.code=n.code,s.msg=n.msg,r&&e.fail(s),Promise.reject(s))}}(e,t,r))}function q(){return(q=Object(n.a)(function*(e){void 0===e&&(e={});var t=yield K(e),{success:r}=e,n=H(t);if(e.config||(e.config={}),e.config.cache){var o=O(t,e.config.expire);if(t.method&&"GET"!==t.method)return n(!1,!0);if(e.config.forceRefreshCache||!o)return n(!0,!0);if(o&&(o.fromCache=!0),e.config.needRefresh&&o)return r(Object(a.a)({},o,{cacheData:{refresh:!0,refreshPromise:n(!0,!1)}}));r(o)}else n(!1,!0)})).apply(this,arguments)}function z(e,t){var r=()=>{if(!e.skipKdtId&&!x.hasKdtId)return W(A,t,e);t()},n=()=>{if(!e.skipShopInfo&&!x.hasShop)return W(E,r,e);r()},a=()=>{if(!e.skipToken&&!x.hasToken)return W(j,n,e);n()};"low"===e.priority?setTimeout(()=>a(),800):a()}function W(e,t,r){void 0===r&&(r={}),"high"===r.priority?e.unshift(t):e.push(t)}function K(e){var{method:t,query:o={},path:i,success:s,fail:d,dataType:l="string"}=e,{data:p={},origin:h,header:f={}}=e,{noQuery:v,noStoreId:m,skipToken:y,useCdn:b}=e.config;if(!h)throw new Error("所有请求必须指定 origin:",i);m||(o.store_id=x.offlineId||""),v||(o.app_id=x.appId,o.kdt_id=o.kdt_id||o.kdtId||x.kdtId||"",o.access_token=x.accessToken||"");var _={is_weapp:1,sid:x.sessionId,version:x.version,client:"weapp",bizEnv:"wsc"};y&&(_.skip_sid=1),g(_);try{var O=getApp();O&&O.globalData&&O.globalData.enableCdn&&b&&(f=Object(a.a)({},f),delete _.sid,delete _.uuid,delete o.access_token,"h5"===h&&(h="h5m"))}catch(e){}try{if(/^\/(wscaccount|passport)/.test(i)&&!f["page-path"]){var S,P=getCurrentPages(),w=null==(S=P[P.length-1])?void 0:S.route;f["page-path"]=w}}catch(e){}return f["Extra-Data"]=JSON.stringify(_),Object(c.a)({origin:h,pathname:i,query:o}).then(function(){var a=Object(n.a)(function*(n){var a=Object(u.a)()||{},{key:o,apis:i=[]}=a.getCryptoInfo()||{},[c]=n.split("?");if(i.indexOf(c)>-1&&o){var{encryptedData:g,encryptedRSAKey:v}=yield function(e,t){return r.e("packages/async-main/chunk").then(r.t.bind(null,"sbP3",7)).then(r=>{var{key:n,iv:a}=r.utils.generateKeyAndIv();return{encryptedData:r.aes.encrypt({data:JSON.stringify(e),key:n,iv:a}),encryptedRSAKey:r.rsa.encrypt({data:n+":"+a,publicKey:t})}})}(p,o);f["x-auth-token"]=v,p={encryptedData:g}}return{origin:h,_options:e,requestTime:Date.now(),url:n,data:p,header:f,method:(t||"GET").toUpperCase(),success:s,fail:d,dataType:l}});return function(e){return a.apply(this,arguments)}}())}w.beforeHooks.add(e=>{var t=JSON.parse(e.header["Extra-Data"]||"{}");return g(t),e.header["Extra-Data"]=JSON.stringify(t),!0})},jgJv:function(e,t,r){var n=r("s3UK").Symbol;e.exports=n},kFi4:function(e,t,r){r.d(t,"e",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return c});var n="#ee0a24",a="#1989fa",o="#fff",i="#07c160",s="#323233",c="#969799"},kOiO:function(e,t,r){r.d(t,"a",function(){return l});var n=r("1Bjr"),a=r.n(n),o=r("iO9C"),i=r.n(o),s=r("WJHR"),c=r.n(s),u=r("7Cf/"),d=r.n(u);class l{constructor(e){this.ctx=e.ctx}}l.widgets={WechatAddress:a(),WxAddress:i(),AliAddress:c(),XhsAddress:d()}},kWwd:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("ZxyO"))&&n.__esModule?n:{default:n};var o=function(e,t){return e=new a.default(e),t=new a.default(t),parseFloat(e.plus(t).toFixed())};t.default=o,e.exports=t.default},kYFR:function(e,t){e.exports={d:"couponIntroDetail;0;goodsBaseInfo;4;goodsActivity;4;goodsSkuData;4;goodsMetaInfo;4",e:"",el:"hideVirtualTicketIntro",w:"EcardIntro;CouponIntro",wc:"EcardIntro;CouponIntro",wd:"Main",l:"",lc:"",p:"",pi:"",c:"",cc:""}},kZ3u:function(e,t){e.exports={d:"kdtId;4;cloudData;4",w:"WechatAddress;WxAddress;AliAddress;XhsAddress",lc:"amap;getUserInfo"}},kZMD:function(e,t,r){r.d(t,"a",function(){return n});var n={methods:{resetTouchStatus(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},touchStart(e){this.resetTouchStatus();var t=e.touches[0];this.startX=t.clientX,this.startY=t.clientY},touchMove(e){var t,r,n=e.touches[0];this.deltaX=n.clientX-this.startX,this.deltaY=n.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||(t=this.offsetX,r=this.offsetY,t>r&&t>10?"horizontal":r>t&&r>10?"vertical":"")}}}},kjqZ:function(e,t,r){var n=r("Pv5g"),a=Object(n.a)({appName:"wsc",logIndex:"new_wsc_weapp_log"});t.a=a},kqRw:function(e,t,r){r.d(t,"a",function(){return s});var n=r("RL9e"),a=r.n(n),o=r("4oC7"),i=r.n(o);class s{}s.widgets={Main:a(),NormalCover:i()}},"l3+0":function(e,t,r){var n=r("ofiy");e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},"lOd/":function(e,t,r){r.d(t,"c",function(){return s}),r.d(t,"b",function(){return d}),r.d(t,"a",function(){return l});r("Fcif");var n=r("zMoS"),a=(r("taYb"),r("1Uvd")),o=(e,t)=>{e=Object(e);var r={};return Object.keys(e).forEach(n=>{var a=e[n];r[t(a,n,e)]=a}),r},i=(e,t)=>{for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],s=i.split(".").pop(),c=Object(n.a)(e,i);o[s]=c}return o},s=Object(a.a)(8),c={ump_seckill:"seckill",ump_limitdiscount:"limitdiscount",goods_recommend:"recommend",cube_v3:"cube",image_text_nav:"image_nav",coupon:"promocard"},u={goods:"size",tag_list_top:["size"],tag_list_left:["size"],recommend:["goods_components.size"],seckill:["size"],groupon:["size","groupon_type"],limitdiscount:["layout"],shop_banner_weapp:["store_info_style"],image_ad:e=>{var t={},r=Object(n.a)(e,"show_method",0);if(t.components_style_show_method=r,t.components_style_size=Object(n.a)(e,"size",0),7==+r){var a=Object(n.a)(e,"sub_entry[0].hot_areas",!1);t.components_style_is_hotarea=a?1:0}return t},image_nav:["show_method","slide_setting"],audio:["style"],points_goods:["size"],period_buy:["size"],goods_new:["layout"],bargain:["size"],social_fans:e=>{var t="",{scene:r,subType:n}=e||{};return 2==+n?t=3:"WeiXin"===r?t=2:"WeiXinGroup"===r&&(t=1),{sub_type:t}}},d=e=>c[e]||e,l=e=>{var t=d(e.type),r=u[t],n={};switch(Object.prototype.toString.call(r)){case"[object String]":n=o(i(e,[r]),(e,t)=>"components_style_"+t);break;case"[object Array]":n=o(i(e,r),(e,t)=>"components_style_"+t);break;case"[object Function]":n=r(e);break;default:n={};}return n}},lOyf:function(e,t,r){r.d(t,"a",function(){return o});var n=r("9KEa");function a(){var{model:e}=n.a;return e.replace(/\s/g,"-")}function o(){var e=a()||"";return!/iPhone SE/i.test(e)&&/iphone-x|iPhone11|iPhone13|iPhone12(?!,8>)|iPhone14|iPhone15|iPhone-14|iPhone-12|iPhone16|iPhone17/i.test(e)}},lRMv:function(e,t,r){r.d(t,"i",function(){return v}),r.d(t,"e",function(){return m}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return b}),r.d(t,"q",function(){return O});var n=r("Fcif"),a=r("eijD"),o=r("+I+c"),i=(r("RY8z"),r("2wjL")),s=(r("3tyi"),r("Mqxx")),c=r("SVbq"),u=r("0+Ak"),d=r("50K0"),l=r("R18q");r.d(t,"d",function(){return c.g}),r.d(t,"t",function(){return c.A}),r.d(t,"s",function(){return c.y}),r.d(t,"j",function(){return c.n}),r.d(t,"r",function(){return c.x}),r.d(t,"k",function(){return c.p}),r.d(t,"o",function(){return c.u}),r.d(t,"l",function(){return c.q}),r.d(t,"p",function(){return c.v}),r.d(t,"n",function(){return c.s}),r.d(t,"f",function(){return c.h}),r.d(t,"u",function(){return c.C}),r.d(t,"a",function(){return c.a}),r.d(t,"c",function(){return c.e}),r.d(t,"b",function(){return c.b}),r.d(t,"m",function(){return c.r});var p=["redirectUrl","logTag","enterLogId","ignoreCheckShopType","needAuthProtocol","prefetchStatus","chainBizType","prefetchKdtId"],h=["scene"],f=["scene"],g=["scene"],v=Object(u.b)({type:u.a.DEFAULT}),m={RUNNING:2,STOP:3};var y=(e,t)=>{var{redirectUrl:r,logTag:n,enterLogId:a=null,ignoreCheckShopType:i,needAuthProtocol:s,prefetchStatus:u,chainBizType:d,prefetchKdtId:l}=e,h=Object(o.a)(e,p);return Object(c.i)(h,{redirectUrl:r,forceKdtId:t,logTag:n,enterLogId:a,prefetchStatus:u,prefetchKdtId:l,needAuthProtocol:s,ignoreCheckShopType:i,chainBizType:d})},b=()=>{getApp().getShopInfo().then(e=>{var{config:t={}}=e,{shop_operation_status:r}=t;+r===m.STOP&&wx.redirectTo({url:"/packages/common/out-of-service/index"})})},_=(e,t)=>{var{scene:r}=e,n=Object(o.a)(e,h);return Object(s.e)({key:r,kdt_id:t},n).catch(()=>e)},O=function(){var e=Object(a.a)(function*(e){var t=Date.now(),{path:r,query:a,kdtId:u}=e,p=(e=>{if(Object(c.y)(e))return!0})(r);if(l.a.mark.start("scan_order_on_launch"),Object(c.w)(Object(n.a)({},e,{getApollo:!p})),!Object(c.x)()||!p)return e;var h={},v="";try{var m=function(e,t){void 0===e&&(e={});var{scene:r}=e,n=Object(o.a)(e,f);return r?Promise.race([new Promise(e=>{d.a.getMiniappPrefetchRawData("scanCode").then(a=>{var{fetchedData:o,fetchedQuery:i}=a||{};o&&(null==i?void 0:i.scene)===r&&e(Object(s.f)(t,n,a))})}),_(e,t)]).then(e=>e).catch(()=>e):Promise.resolve(e)}(a,u),{status:b,uuid:O,prefetchKdtId:S="",prefetchData:P}=yield Object(c.B)();if(["DELAY_ENTER_SHOP","notChainStore"].includes(b))return e;var{scene:w}=a,I=Object(o.a)(a,g),{scanCode:k}=P||{};h=w&&k&&k.data&&k.query.scene===w?Object(s.f)(u,I,k.data):yield m,v=i.a.add("/"+r,h);var{kdtId:C,homeDetailInfo:T}=yield y(Object(n.a)({kdt_id:u},h,{redirectUrl:v,enterLogId:O,logTag:"on_launch",prefetchStatus:b,prefetchKdtId:S,chainBizType:c.a.HOME,needAuthProtocol:!0,ignoreCheckShopType:!0,supportPreHomeDetail:1})),x=C||h.kdt_id||u;return Object(c.k)("on_launch",Date.now()-t,x),{path:r,query:h,kdtId:x,homeDetailInfo:T,hadEnterShop:!0}}catch(e){return Object(c.k)("on_launch_error",e),{path:r,query:h,hadEnterShop:!1}}});return function(t){return e.apply(this,arguments)}}()},lZq6:function(e,t,r){var n=r("DXKY"),a=r("hTAu"),o=()=>{},i=Behavior({properties:{pageLifetimes:{type:Array,value:[]}},pageLifetimes:{show(){this.isComponentHide=!1},hide(){this.isComponentHide=!0}},attached(){this.pageKey=Object(a.a)(),this.data.pageLifetimes.forEach(e=>{n.a.on(e+this.pageKey,this[e]||o,this)})},detached(){this.data.pageLifetimes.forEach(e=>{n.a.off(e+this.pageKey,this[e]||o,this)})}});t.a=Behavior({behaviors:[i],properties:{componentData:{type:Object,value:{}},index:Number,kdtId:Number,hqKdtId:Number,buyerId:Number,appId:String,offlineId:Number,pageRandomNumber:String,extraData:{type:Object,value:{}},isPlugin:Boolean}})},mQt2:function(e,t,r){var n;function a(){return n||(n=r.e("packages/async-tee/chunk").then(r.bind(null,"JvWB")).then(function(e){return e.default}).catch(function(e){throw n=null,e})),n}r.d(t,"a",function(){return a})},mgUg:function(e,t,r){r.d(t,"a",function(){return n});var n={DISABLE:"0",DEFAULT:"1",CUSTOM:"2"}},mjlp:function(e,t,r){r.d(t,"a",function(){return g});var n=r("BfBv"),a=r.n(n),o=r("I6uD"),i=r.n(o),s=r("byaO"),c=r.n(s),u=r("XALw"),d=r.n(u),l=r("Qqcz"),p=r.n(l),h=r("vMjE"),f=r.n(h);class g{constructor(e){this.ctx=e.ctx}}g.widgets={GoodsPopupContainer:a(),UmpVisitGift:i(),GiftPop:c(),VisitGift:d(),CouponItem:p(),CouponList:f()}},nHpP:function(e,t,r){var n,a,o,i;!function(e){e.POPUP_TRIGGER="user-authorize:popup-trigger",e.POPUP_CALLBACK="user-authorize:popup-callback",e.USER_INFO_CHANGED="passport-tee-auth-success"}(n||(n={})),function(e){e.POPUP_SHOW="popup-show"}(a||(a={})),function(e){e.POPUP_VISIBLE="popup-visible",e.SHOW_TOAST="toast",e.OPEN_WEBVIEW="on-open-webview",e.POPUP_AUTH_SUCCESS="success",e.POPUP_AUTH_FAIL="fail",e.AUTH_POPUP_SHOW="auth-popup-show",e.AUTH_STATUS_CHANGE="auth-status-change"}(o||(o={})),function(e){e.MAIN="main",e.POPUP="popup"}(i||(i={}))},nKXO:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r("pn6R")),a=m(r("Yof+")),o=m(r("dst7")),i=m(r("yq5R")),s=m(r("EzII")),c=m(r("NHEX")),u=m(r("ajWA")),d=m(r("xers")),l=m(r("6UHP")),p=m(r("3XjN")),h=m(r("Y2PO")),f=m(r("fmSs")),g=m(r("mQXz")),v=m(r("5Xe+"));function m(e){return e&&e.__esModule?e:{default:e}}var y={cloneDeep:n.default,each:a.default,extend:o.default,extractQuery:i.default,getConcatData:s.default,get:c.default,isArray:u.default,isEmpty:d.default,isPlainObject:l.default,maxBy:p.default,minBy:h.default,merge:f.default,omit:g.default,pick:v.default};t.default=y,e.exports=t.default},"nTO+":function(e,t,r){r.d(t,"a",function(){return i});var n=r("WQRT"),a=r("tS13"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e){var t=e.skuData,r=e.goods,i=e.shop,s=e.activityInfo,c=e.pluginsResult,u=e.goodsExtra,d=void 0===u?{}:u,l=e.commonExtra,p=void 0===l?{}:l,h=e.combineGoodsData,f=void 0===h?{flag:"",isCombo:!1,comboType:0,comboGroupModels:[]}:h,g=c||{},v=g.goodsAttributes,m=g.periodBuy,y=g.ecard,b=g.installment,_=g.ladderGroupOn,O=f.flag,S=f.isCombo,P=f.comboType,w=f.comboGroupModels,I=S&&P===a.b.SELF_SELECT_COMBO;if(_&&_.scale&&(p.ladder_num=_.scale),void 0!==r.supportUnconditionalReturn&&(d.isSevenDayUnconditionalReturn=r.supportUnconditionalReturn),v){var k=[];Object.keys(v).forEach(function(e){k=k.concat(v[e])}),d.propertyIds=k}if(m&&(d.deliverTime=m.deliverTimeId),y&&(t.selectedSkuComb.id=y.dateSkuId,p.card_goods={appointment_time:y.appointmentTime}),b){var C=b.rate,T=b.period;d.isInstallment=!0,p.installmentRate=C,p.selectedInstallmentPeriod=T}if(S&&!I){var x=t.selectedSkuComb.id,j=1===w.length?w[0]:w.find(function(e){return e.skuId===x});if(j){var A=j.comboSubItemModels,E=j.goodsComboGroupId,D=[];if(A.forEach(function(e){if(1===e.isDisplay){var t=e.skuRelatedModels,r=e.propModels,n=[];r&&r.forEach(function(e){e.textModels.forEach(function(e){n.push(e.id)})}),t&&t.forEach(function(e){var t=e.combineNum,r={goodsId:e.itemId,num:t,price:e.price,skuId:e.skuId,propertyIds:n};n&&n.length&&(r.propertyIds=n),D.push(r)})}}),O===a.c.ADD_CART){var M=[{id:E,subComboList:D}];d.isCombo=!0,d.comboType=P,d.groupList=JSON.stringify(M)}O===a.c.BUY&&(d.extra={COMBO_INFO:{comboType:P,subComboList:D.map(function(e){return e.groupId=E,e})}})}}if(S&&I){if(O===a.c.ADD_CART){M=w;d.isCombo=!0,d.comboType=P,d.groupList=JSON.stringify(M)}O===a.c.BUY&&(d.extra={COMBO_INFO:{comboType:P,subComboList:w}})}return o(o(o(o({},Object(n.c)({goods:r,shop:i})),Object(n.d)(t)),s||{}),{goodsExtra:d,commonExtra:p})}},nhoV:function(e,t){},noo5:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDistance=function(e){if(!e)return"";if(e<=100)return"<100m";if(e>100&&e<=1e3)return"".concat((0,a.default)(e,0),"m");if(e>1e3&&e<1e4)return"".concat((0,a.default)(e/1e3,1),"km");return">10km"},t.calculateDistance=function(e,t,r,n){if(!o(e,t)||!o(r,n))return-1;var a=e*Math.PI/180,i=r*Math.PI/180,s=(e-r)*Math.PI/180,c=(t-n)*Math.PI/180,u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(a)*Math.cos(i)*Math.pow(Math.sin(c/2),2)));return u*=6378137,u=Math.round(1e3*u)/1e3};var n,a=(n=r("BXdv"))&&n.__esModule?n:{default:n};function o(e,t){return function(e){return e>=-90&&e<=90}(e)&&function(e){return e>=-180&&e<=180}(t)}},oDd3:function(e,t){e.exports={d:"kdtId;4;offlineId;4",w:"Main",wd:"Main"}},oGZU:function(e,t,r){r.d(t,"e",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"b",function(){return u});var n=r("bb6g"),a=r("QxN7"),o=function(e,t){var r,o,i=t||{},s=i.data,c=i.query,u=i.method;return r={method:u||"GET",origin:"uic",path:e,query:c,data:s,withCredentials:!0},o=Object(n.__assign)(Object(n.__assign)({},r),{header:Object(n.__assign)({ppt:JSON.stringify({cmp:"tee"})},r.header)}),Object(a.baseRequest)(o)},i=function(e){return o("/passport/general/login/auth.json",{method:"POST",data:e})},s=function(e){return e.ticket?o("/passport/api/login-dialog/sms.json",{method:"POST",data:e}):o("/passport/general/sms/for/login.json",{method:"POST",data:e})},c=function(e){return o("/passport/general/login/sms.json",{method:"POST",data:e})},u=function(e){return o("/passport/api/login-dialog/by-pass.json",{method:"POST",data:e})}},oZkc:function(e,t){e.exports={d:"themeCSS;2;themeColors;2;themeType;2;themeTag;2;themeIcon;2;themeRadius;2;shopStyleSettings;2;kdtId;4",l:"hexToRgb;objectToCSS",p:"updateAppStyle"}},oagz:function(e,t){e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},oceq:function(e,t){e.exports={d:"couponModel;0;rewardModel;0;grouponModel;0;order;0;plusBuy;0;goods;0;display;0;postageModel;2;orderedChosenCoupons;0;isInCouponOverWhitelist;0;prepareData;4;confirmData;4;state;4;points;4;expressType;4;dataLoaded;4",e:"onCouponChange;postagetool:limitInfo;postagetool:unavailableItem",el:"setGrouponIsChecked",wd:"Widget",l:"exchangeCoupon",p:"addCouponProcess;setCouponChosenIdProcess;getUmpParamForOrder;fetchUmpPlusBuyProcess;handleExternalCoupon;exchangeCouponPromise;switchPlusBuyGoodsProcess;fetchSkuData;switchGoods;addAllGoods;getAddsOnePageDetail;calcPostage;resetPostageTool;savePostageTool",pi:"mutateState;fetchShow;fetchPromotion",li:"onPageShow"}},ofiy:function(e,t,r){var n=r("aCmY"),a=r("VbZR"),o=r("oagz");e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,a,r)}},oimI:function(e,t){e.exports={d:"hasGoodsShowcase;0;openFloatGoods;4;kdtId;4;shopMetaInfo;4;seActivity;4;shopInfo;6;imSourceDetail;6;alias;6;isShowFloatingNav;4;addBaseHeight;6;tableBooking;4",e:"share:show;goods:showcase;floating:nav:update:position;live:popup:show;floating:nav:wish:show;floating:nav:init",el:"submit:act;wish:state:change",w:"FloatingNavBg;SubItem",wc:"LivePopup;FloatingNavBg;SubItem",wd:"Main",lc:"checkIsHalfScreen;checkIsOpenByLiveBag;jumpToLink",p:"createOrUpdateIndependentIcon",cc:"MessageContactButton",li:"onPullDownRefresh;onPageScroll"}},pF6A:function(e,t,r){var n=r("9ZMt"),a=r("yDO/"),{useTpx:o,useTvw:i}=n.default.style;t.a={computed:{capLayoutItemStyle(){var{itemMargin:e,type:t}=this.opt.layoutOpt,r="margin: "+o(e/2)+";";return[a.f.TWO,a.f.THREE,a.f.SWIPE,a.f.HYBRID].includes(t)&&(r+="height: calc(100% - "+e+"px)"),r}},methods:{getCapLayoutItemWrapStyle(e){var{itemWidth:t,type:r}=this.opt.layoutOpt;if("hybrid"===r)return e%3==0?"width: 100%;":"width: 50%;";if("string"==typeof t&&/tvw$/.test(t.trim())){var n=+t.replace("tvw","");return"width: "+i(n)}return"number"==typeof t?"width: "+o(t):void 0}}}},"pOq+":function(e,t,r){r.d(t,"a",function(){return a});var n=r("1pB4");function a(e){return Array.isArray(e)?e.filter(e=>null!=e&&""!==e).map(e=>a(e)).join(";"):Object(n.f)(e)?Object.keys(e).filter(t=>null!=e[t]&&""!==e[t]).map(t=>[t,[e[t]]].join(":")).join(";"):e}},pTxV:function(e,t,r){var n=r("AfOI");r.d(t,"UserAuthorizeType",function(){return n.a});r("E5w5");var a=r("Br49");r.d(t,"EventName",function(){return a.a}),r.d(t,"EventPopupTriggerTypes",function(){return a.c}),r.d(t,"EventRegisterType",function(){return a.d});r("JjL0"),r("dO0t"),r("nhoV")},pXyP:function(e,t,r){var n=r("5JV4"),a={__map:{},__sub:[],__list:[],__willStickyComponentList:[],__willStickyComponentChangeSub:[],setCheckItem(e,t,r){void 0===t&&(t=0);var{__list:n=[]}=this,a=n.findIndex(t=>t.key===e);a<0&&(n.push({key:e,weight:t}),this.__list=n),a>-1&&r&&(n[a]={key:e,weight:t},this.__list=n)},getCheckList(e,t,r){var n=e.find(e=>e.key===t)||{weight:0};return r?e.filter(e=>e.weight>=n.weight):e.filter(e=>e.weight<=n.weight)},clearCheckWeightItem(e){var{__list:t=[],__map:r={}}=this;this.getCheckList(t,e,!1).forEach(e=>{delete r[e.key]}),this.__map=r},getHasTop(e){var t=Object(n.a)(),{__map:r={}}=this;for(var a in r)a!==e&&(t+=+r[a].height);return t},getNextTop(e){var{__list:t=[],__map:r={}}=this;return this.getCheckList(t,e,!0).reduce((e,t)=>{var{key:n}=t,a=r[n];return e+(a&&!a.isHide?a.height:0)},Object(n.a)())},hasItem(e){var{__map:t}=this;return Object.prototype.hasOwnProperty.call(t,e)},setItem(e,t,r){var{__map:n={}}=this;if(r){var a=this.getNextTop(e),o={height:t,positionTop:a,nextTop:a+t};this.hasItem(e)||(n[e]=o,this.setSub())}else this.hasItem(e)&&(delete n[e],this.setSub());this.__map=n},setSub(){var{__sub:e}=this;e.forEach(e=>{e.fn.call(e.ctx,{type:"setItem"})})},getItem(e){return this.__map[e]},setControlSub(e,t,r){var{__sub:n=[]}=this;n.findIndex(e=>e.type===r)<0&&(n.push({type:r,ctx:t,fn:e}),this.__sub=n)},delControlSub(e){var{__sub:t=[]}=this,r=t.findIndex(t=>t.type===e);r>-1&&(t.splice(r,1),this.__sub=t)},publicControlSub(e){var{__sub:t=[],__map:r={}}=this,{positionTop:n}=r[e];this.updateMap(),t.forEach(t=>{var{type:a}=t;if(a!==e&&this.hasItem(a)){var{positionTop:o}=r[a],i=o;o>=n&&t.fn.call(t.ctx,{type:"stickyTop",stickyTop:i})}})},updateMap(){var{__map:e}=this;for(var t of Object.keys(e)){var r=this.getNextTop(t),n=e[t];n.positionTop=r,n.nextTop=r+n.height}},setIsShow(e,t){var{__map:r}=this,n=r[e];n&&(n.isHide=!t)},setHeight(e,t){var{__map:r}=this,n=r[e];n&&(n.height=t)},setWillStickyComponent(e){var{name:t,type:r,positionTop:n,elementHeight:a,zIndex:o}=e,i=this.__willStickyComponentList||[];i.some(e=>e.name===t)?i.map(e=>e.positionTop>n?{name:t,type:r,positionTop:n,elementHeight:a,zIndex:o}:e):(i.push({name:t,type:r,positionTop:n,elementHeight:a,zIndex:o}),this.__willStickyComponentList=i,(this.__willStickyComponentChangeSub||[]).forEach(e=>Object.values(e)[0]()))},setWillStickyComponentChangeSub(e,t){var r=this.__willStickyComponentChangeSub||[];r.push({[e]:t});var n=new Set;this.__willStickyComponentChangeSub=r.filter(e=>{var t=Object.keys(e)[0];return!n.has(t)&&n.add(t)})},getWillStickyComponent(){return this.__willStickyComponentList||[]},resetData(){this.__map={},this.__sub=[],this.__list=[],this.__willStickyComponentList=[],this.__willStickyComponentChangeSub=[]}};t.a=a},pZIW:function(e,t,r){var n=r("b2OE"),a=r("7IP4"),o=r("OF9M"),i=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=i},pfnQ:function(e,t,r){var n=r("8mzt");n.a.config({appName:"wsc",logIndex:"new_wsc_weapp_log"}),t.a=n.a},pn6R:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDeepSimple=function(e){return i(e,!0)},t.default=void 0;var n=o(r("rmWm")),a=o(r("YIkY"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,a.default)(e);if("object"!==o&&"array"!==o)return(0,n.default)(e,o);for(var i=[],c=[{value:e,key:void 0,ctx:null}],u=0,d=function(){var e=c[u],n=e.value,a=e.key,o=e.ctx;r||i.forEach(function(e){if(e===n)throw new Error("Deep copy circular structure")});var d=s(n),l=d.value,p=d.needCycle;o?o[a]=l:t=l,p&&(r||i.push(n),Object.keys(n).forEach(function(e){c.push({value:n[e],key:e,ctx:l})})),u++};c.length>u;)d();return t}function s(e){var t=(0,a.default)(e);switch(t){case"object":return function(e){var t=e.constructor;if(!t)return!1;var r=t.prototype;return!!r&&!!r.hasOwnProperty("isPrototypeOf")}(e)?{value:new e.constructor,needCycle:!0}:{value:e,needCycle:!1};case"array":return{value:new e.constructor,needCycle:!0};default:return{value:(0,n.default)(e,t),needCycle:!1};}}var c=i;t.default=c},q3MX:function(e,t,r){r.d(t,"b",function(){return C});var n=r("9ZMt"),a={batch:!0,plat:{},env:{},context:{},user:{},spm:{},autoClick:!0,autoNodeClick:!0,autoNodeView:!0,autoEnterpage:!0,autoSinglePageEnterpage:!0,autoSpm:!0,autoABTest:!0,autoTrackFormSubmit:!0,enableEvents:{onAppLaunch:!0,onAppShow:!0,onAppHide:!0,beforePageCreate:!0,pageCreated:!0,onPageShow:!0,onPageHide:!0,pageDestroyed:!0,onRootClick:!0}};function o(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var a=r.shift();if(o(e)&&o(a))for(var s in a)o(a[s])?(e[s]||Object.assign(e,{[s]:{}}),i(e[s],a[s])):Object.assign(e,{[s]:a[s]});return i(e,...r)}var s=e=>Object.assign(Object.assign(Object.assign({},a),e),{enableEvents:Object.assign(Object.assign({},a.enableEvents),e.enableEvents)});function c(e){if(!e)throw new Error("Logger Plugin:请传入埋点初始化配置.");var{plat:t={},yai:r}=e;if(!r&&!t.yai)throw new Error("Logger Plugin:请传入埋点初始化配置yai或者plat.yai.")}var u=()=>{},d={setPlat:u,setEnv:u,setEvent:u,setUser:u,setContext:u,appShow:u,appHide:u,enterpage:u,visitpage:u,leavepage:u,log:u,click:u,view:u,getData:u,getBannerId:u,getShareParams:u,setBeforeAppshow:u,setBeforeEnterpage:u,spmHelper:{getSpm:u,getPageSpm:u,setMoreSpm:u,setCurrentSpm:u},getCarrierParams:u,viewObserver:u},l=n.default.getEnv();function p(){try{return"web"===l?{windowWidth:(t=document.body.getClientRects()[0]).width,windowHeight:t.height}:(e=(n.default.$native.getSystemInfoSync||n.default.$native.getSystemInfo)())instanceof Promise?{}:e}catch(e){return{}}var e,t}var h=20;function f(e,t,r){return void 0===t&&(t=1),Math.round(e*r/t)}function g(e){return null==e}var v=["is_share","dc_ps","banner_id","from_source","from_params","wxShoppingListScene"];var m=new class{constructor(e){this.logger=e,this._bizInfo={}}set bizInfo(e){this._bizInfo=i({},this._bizInfo,e)}get bizInfo(){return Object.assign({},this._bizInfo)}clearBizInfo(){this._bizInfo={}}setLogBizInfo(){var{kdtId:e}=this._bizInfo;e&&this.logger.setEvent({si:e})}updateSession(e){void 0===e&&(e={});var t=e.query||{},r=Object.keys(t).filter(e=>v.indexOf(e)>=0);r.length&&this.logger.setContext(Object.assign({},r.reduce((e,r)=>(e[r]=t[r],e),{})),120)}logEnterpage(e){var{route:t,pageType:r,pageId:n,params:a={},page:o,logUrl:i,pageShown:s}=e,{spmHelper:c,setEvent:u,enterpage:d}=this.logger;c.setCurrentSpm(t,n||this.bizInfo.kdtId,r),u({en:o.pageTitle||"",params:Object.assign(Object.assign({},a),{ranta_page:1,is_newly_open:!o.pageShown,page_title:o.pageTitle})}),function(e){var{user:t}=e,{li:r,m:n}=t;r&&n||!0}(this.logger.getData()),d({},i,{pageShown:s})}hotClick(e){var t=function(e,t){var{windowWidth:r}=p(),{detail:n}=e,{clientX:a,clientY:o,x:i,y:s}=n||{},c=a||i,u=o||s;return g(c)||g(u)?null:{loc_x:f(c,r,h),loc_y:f(u,r,h)}}(e);if(t){var r={et:"custom",ei:"hot_click",en:"热力图点击",params:Object.assign({is_fix:0},t)};this.bizInfo.kdtId&&(r.si=this.bizInfo.kdtId),this.logger.log(r)}}leavepage(e){this.logger.leavepage({durl:e})}}(d);class y{constructor(e,t,r){this.autoEnterpage=!t&&e,this.asyncEnterpage=t,this.asyncCount=t?-1:0,this.isRedirectPage=r,this.pageCreated=!1,this.pageShown=!1,this.pageParams={},this.query={},["pageId","pageType","pageTitle","rurl","displayUrl","route"].forEach(e=>{this[e]=""})}setPageCreated(){this.pageCreated=!0}setPageAsyncLog(e){this.asyncEnterpage&&!e||(this.autoEnterpage=!e,this.asyncEnterpage=e,this.asyncCount=-1===this.asyncCount?1:this.asyncCount+1)}setUrl(e,t){void 0===t&&(t={}),this.route=e,this.query=t,this.displayUrl=function(e,t){void 0===t&&(t={});var r=e;return r&&Object.keys(t).forEach((e,n)=>{r+=""+(0===n?"?":"&")+e+"="+t[e]}),r}(e,t)}setPageConfig(e){void 0===e&&(e={});var{pageType:t,pageId:r,title:n,eventParams:a={}}=e;if(this.pageTitle=n||this.pageTitle||"",t&&(this.pageType=t),r&&(this.pageId=r),"object"!=typeof a);else{var o=((e,t)=>{for(var r=Object.keys(e),n=[],a=0;a<r.length;a++)t.hasOwnProperty(r[a])&&n.push(r[a]);return n})(a,this.pageParams);o.length,this.pageParams=Object.assign(Object.assign({},this.pageParams),a)}this.asyncEnterpage&&this.pageCreated&&(this.asyncCount--,this.enterpage())}get canEnterpage(){return!(this.isRedirectPage||!this.pageCreated)&&!!(this.autoEnterpage||this.asyncEnterpage&&0===this.asyncCount)}enterpage(e,t){if(e&&this.setUrl(this.route,e),this.canEnterpage){var r={rurl:this.rurl||"",durl:this.displayUrl},{pageType:n,pageId:a,pageParams:o}=this;m.logEnterpage({route:this.route,pageType:n,pageId:a,params:Object.assign(Object.assign({},o),{is_page_not_log_enterpage:+!!t}),page:this,logUrl:r,pageShown:this.pageShown}),this.pageShown=!0,this.autoEnterpage=!0}}leavePage(){try{this.pageShown||(this.asyncCount=0,this.enterpage(void 0,!1));var e=this.displayUrl||"",t=e||"";this.autoEnterpage&&!this.isRedirectPage&&m.leavepage(e),this.rurl=t,this.pageShown=!0}catch(e){}}}class b{constructor(e){this.logger=e,this.PAGE_VISIT_HISTORY=[]}get latestPage(){return this.PAGE_VISIT_HISTORY[this.PAGE_VISIT_HISTORY.length-1]}get currentPage(){return this.latestPage}getPageHistory(){return[...this.PAGE_VISIT_HISTORY]}savePageHistory(e){this.PAGE_VISIT_HISTORY.push(e)}checkLastPage(e){var t=this.latestPage;return t&&t.route===e?t:null}removeLastPage(){0!=this.PAGE_VISIT_HISTORY.length&&this.PAGE_VISIT_HISTORY.pop()}setCurrentPage(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r=!1),void 0===n&&(n=!1);var a=new y(e.autoEnterpage,r,n);return this.savePageHistory(a),this.setCurrentPageUrl(t),a}setCurrentPageUrl(e){this.latestPage.setUrl(e)}setPageCreated(){this.currentPage.setPageCreated()}enterpage(e){this.currentPage&&this.currentPage.enterpage(e)}leavepage(){this.currentPage&&this.currentPage.leavePage()}destoryPage(){try{var e=this.currentPage;(e.autoEnterpage||e.asyncEnterpage&&e.asyncCount>0)&&this.leavepage(),this.removeLastPage()}catch(e){}}}var _=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&e(...r)},O=function(e,t,r){var a=e.init(),o=new b(a);m.logger=a;var{asyncPageTypes:s=[],spm:c={},redirectPages:u=[],enableEvents:d={}}=r;d.onAppLaunch&&_(t.onAppLaunch,function(){a.setEnv({rtpl:"1.1.53"}),a.spmHelper.setMoreSpm(r.spm)}),d.onAppShow&&_(t.onAppShow,e=>{m.updateSession(Object.assign({},e)),m.setLogBizInfo(),a.appShow(e)}),d.onAppHide&&_(t.onAppHide,()=>{a.appHide()}),d.beforePageCreate&&_(t.beforePageCreate,()=>{var e=function(){try{var e=getCurrentPages()||[];return(e[e.length-1]||{}).route||""}catch(e){}try{return window.document.location.pathname}catch(e){}return""}(),t=s.includes(c[e]),n=u.includes(e);o.setCurrentPage(r,e,t,n)}),d.pageCreated&&_(t.pageCreated,()=>{o.setPageCreated()}),d.onPageShow&&_(t.onPageShow,function(e){var{route:t="",query:r={}}=void 0===e?{}:e;m.updateSession(Object.assign({},r)),o.enterpage(r)}),d.onPageHide&&_(t.onPageHide,()=>{o.leavepage()}),d.pageDestroyed&&_(t.pageDestroyed,()=>{o.destoryPage()}),d.onRootClick&&_(t.onRootClick,e=>{r.autoClick&&m.hotClick(e)});var l={setBeforeAppshow(e){a.setBeforeAppshow&&a.setBeforeAppshow(()=>e(l))},setBeforeEnterpage(e){a.setBeforeEnterpage&&a.setBeforeEnterpage(()=>e(l))},setPageAsyncLog(e){void 0===e&&(e=!0);var t=o.currentPage;t&&t.setPageAsyncLog(e)},setPageInitConfig(e){void 0===e&&(e={});var t=o.currentPage;t&&(t.autoEnterpage&&t.pageShown||t.setPageConfig(e))},view(e){a.log(i({en:"曝光",ei:"view",et:"view",params:{}},e))},getLogParams:()=>a.getData(),setEvent(e,t){void 0===t&&(t="page");var{si:r}=e;r&&(m.bizInfo={kdtId:r}),a.setEvent(e,t)},setContext(e,t){Array.isArray(e)&&(t=(e=e[0])[1]),a.setContext(e,t)}};return["getSpm","getPageSpm","setMoreSpm","setCurrentSpm"].forEach(e=>{l[e]=function(){return a.spmHelper[e]&&a.spmHelper[e](...arguments)}}),["enterpage","leavepage","log","click","getData","setUser","setPlat","setEnv","getCarrierParams","refreshPageFlag","viewObserver"].forEach(e=>{l[e]=function(){return a[e]&&a[e](...arguments)}}),n.default.setGlobal("logger",l),l},S=r("xqQ2"),P=e=>{var{yai:t,plat:r,batch:n,user:a,env:o,context:s,event:c,beforeAppshow:u,beforeEnterpage:d,eventQueueMaxLength:l,eventQueuePollingInterval:p}=e;return{plat:i({},{yai:t},r),batch:n,user:a,env:o,context:s,event:c,beforeAppshow:u,beforeEnterpage:d,eventQueueMaxLength:l,eventQueuePollingInterval:p}};var w={getPageSpm:"gettCurrentPageSpm"};function I(e){var t=Object.assign({},d);return{init:function(){t=function(e){var t=P(Object.assign({},e));return new S.a(t)}(e);var r={};["log","setEvent","setPlat","setEnv","setContext","setUser","appShow","appHide","visitpage","click","view","getBannerId","getShareParams","setBeforeAppshow","setBeforeEnterpage","refreshPageFlag","setPageAsyncLog","viewObserver"].forEach(e=>{r[e]=function(){return t[e]&&t[e](...arguments)}});var n={};return["getSpm","getPageSpm","setMoreSpm","setCurrentSpm"].forEach(e=>{var r=w[e]||e;n[e]=function(){return t.spmHelper&&t.spmHelper[r](...arguments)}}),Object.assign(Object.assign(Object.assign(Object.assign({},r),{enterpage:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.pageShow(e,...n)},leavepage:function(){t.pageHide()},getData:function(){return t.getLogParams()},spmHelper:n}),n),{getCarrierParams:function(e){return e?"":{}}})}}}function k(e,t){c(e);var r=I(P(e));return O(r,t,s(e))}function C(e){return c(e),I(P(s(e))).init()}k.pluginName="logger";t.a=k},q62V:function(e,t){e.exports={d:"openFloatGoods;2;kdtId;4;themeVars;4;offlineId;4;buyerId;4;shopMetaInfo;4;hasGoodsShowcase;4;goodsShocase;4",el:"goods:showcase",wd:"GoodsShowcase"}},qJXH:function(e,t,r){r.d(t,"c",function(){return Q}),r.d(t,"a",function(){return ne});var n=r("vB9s"),a=r("qTUJ"),o=r("AqAW"),i=r("DXKY"),s=r("svh/"),c=r("UL3R"),u={onShow(e){var t=null;if(1037!=+e.scene)return t=null,void(this.globalData.navigateMiniProgramConfig=t);t=((e.referrerInfo||{}).extraData||{}).config||{},this.globalData.navigateMiniProgramConfig=t},onHide(){}},d={globalCollectFormId(e){var{detail:t}=e,r=t.formId;r&&getApp().carmen({api:"wsc.weapp.formid/1.0.0/add",data:{weapp_type:"custom",form_id:r}})}},l=r("Fcif"),p=r("Yt9W"),h=r("R18q"),f="packages",g="packages/goods",v=g+"-v2",m=g+"-v3",y=f+"/shop/goods",b=f+"/goods-list",_=f+"/paidcontent",O="index",S=["pages/goods/detail/"+O,g+"/detail/"+O,g+"/groupon/"+O,g+"/help-cut/"+O,g+"/lucky-draw-group/"+O,g+"/tuan/"+O,g+"/present/"+O,g+"/points/"+O,g+"/seckill/"+O,v+"/detail/"+O,v+"/groupon/"+O,v+"/help-cut/"+O,v+"/lucky-draw-group/"+O,v+"/tuan/"+O,v+"/present/"+O,v+"/points/"+O,v+"/seckill/"+O,m+"/detail/"+O,m+"/groupon/"+O,m+"/help-cut/"+O,m+"/lucky-draw-group/"+O,m+"/tuan/"+O,m+"/present/"+O,m+"/points/"+O,m+"/seckill/"+O,_+"/content/"+O,_+"/column/"+O,_+"/live/"+O,f+"/card/detail/"+O],P=[y+"/tag-list/"+O,y+"/all/"+O,y+"/search/"+O,b+"/tag/"+O,b+"/all/"+O,b+"/search-result/"+O],w=[f+"/new-punch/introduction/"+O,f+"/new-punch/task/"+O],I={"packages/paidcontent/list/index":"type"},k=[f+"/ump/bargain-purchase/home/"+O,f+"/ump/helpcut/"+O,f+"/ump/discount-packages/"+O,f+"/ump/collect-gift/home/"+O],C=[f+"/shop/salesman/promote/"+O],T=[f+"/short-video/"+O];function x(){var e=getCurrentPages(),t=e[e.length-1],r=t.route;return I[r]&&t.options&&t.options[I[r]]&&(r=r+"?"+I[r]+"="+t.options[I[r]]),r}function j(){var e=getApp(),t=function(){var e=getCurrentPages()||[{}];if(0!==e.length){var t=e[e.length-1],{route:r="",options:n={}}=t,a=r;return a&&Object.keys(n).forEach((e,t)=>{a+=""+(0===t?"?":"&")+e+"="+n[e]}),a}}();t&&(e._rurl=t)}var A={onLoad(e){var t=getApp(),{id:r}=this.data,n=x();t.logger.performance("page","pageload"),t.logger.updateSession({query:e}),Object(p.c)(e),Object(p.h)(t.logger),S.indexOf(n)>=0&&!r?(this.once("goodsDetail:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)}),this.once("goodsDetail:speedindex",()=>{t.logger.performance("app","speedindex"),t.logger.performance("page","speedindex",!1,n)}),this.once("goodsDetail:pagefinished",()=>{null==h.a||h.a.markRendered("fs"),t.logger.performance("app","pagefinished"),t.logger.performance("page","pagefinished",!1,n)}),this.once("quanyika:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)})):"packages/order/index"!==n||r?"packages/shop/shopnote/detail/index"!==n||r?"packages/shop/shopnote/mparticle/detail/index"!==n||r?k.indexOf(n)>=0?this.once("umpActivity:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)}):t.logger.performance("app","pageshow",!0):this.once("mpArticleDetail:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)}):this.once("shopNoteDetail:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)}):this.once("order:loaded",()=>{t.logger.performance("app","pageshow"),t.logger.performance("page","pageshow",!1,n)}),this.__firstShow=!0},onShow(){var e=this,t=getApp(),{params:r,spm:n,id:a=this.data.id,url:o=x(),isAsync:i,title:s}=this.logConfig||{};if(this.__isPageHide=!1,!i){t.logger.setPageName(s||"");var c=getCurrentPages()||[];if(this.__firstShow){if(this.__firstShow=!1,S.indexOf(o)>=0&&!a)this.once("goodsDetail:loaded",(e,t)=>{this.enterpageLog([o,e,{live_id:t.liveId},n,c],t.title)}),this.once("paidContent:loaded",(e,t)=>{this.enterpageLog([o,e,{},n,c],t.title)});else if(P.indexOf(o)>=0)this.once("goodsTag:loaded",function(t,r){var{spmType:n}=void 0===r?{}:r;e.enterpageLog([o,a,t,n,c],s)});else if(w.indexOf(o)>=0&&!a)this.once("punch:loaded",e=>{this.enterpageLog([o,e,{},n,c])});else if("packages/shop/shopnote/detail/index"!==o||a){if("packages/shop/shopnote/mparticle/detail/index"!==o||a){if(k.indexOf(o)>=0)this.once("umpActivity:loaded",(e,t)=>{this.enterpageLog([o,e,t,n,c])});else if(C.indexOf(o)>=0)this.once("salesmanDetail:loaded",(e,t)=>{this.enterpageLog([o,e,t,n,c])});else if(T.indexOf(o)>=0)this.once("shortVideo:loaded",e=>{this.enterpageLog([o,e,{},n,c])});else{var u=this.$log;this.enterpageLog([o,this.data.featureId||a,r||u,n,c])}}else this.once("mpArticleDetail:loaded",e=>{this.enterpageLog([o,e,{},n,c])}),this.once("mpArticleDetail:show",e=>{this.enterpageLog([o,e,{},n,c])});}else this.once("shopNoteDetail:loaded",e=>{this.enterpageLog([o,e,{},n,c])});}else this.enterpageLog()}},onHide(){!this.__isPageHide&&Object(p.e)("hide"),this.__isPageHide=!0,j()},onUnload(){!this.__isPageHide&&Object(p.e)("unload"),this.__isPageHide=!0,j()},__yzLog__(e){var t=getApp();t.logger.log(Object(l.a)({},e,{si:t.getKdtId()}))},enterpageLog(e,t){(this.__firstShow=!1,this._logParams=e||this._logParams||[],this._logTitle=t||this._logTitle||"",this._logTitle)&&getApp().logger.setPageName(this._logTitle);Object(p.d)(...this._logParams)},onPullDownRefresh(){var e=getApp();e.logger&&e.logger.log({et:"custom",ei:"page_pull_down_refresh",en:"页面下拉刷新",si:e.getKdtId()})},onReachBottom(){var e=getApp();e.logger&&e.logger.log({et:"custom",ei:"page_reach_bottom",en:"页面上拉触底",si:e.getKdtId()})}},E=r("RY8z"),D={navigate:"navigate",redirect:"redirect",switch:"switchTab"},M={globalNavigate(e){var{currentTarget:t={}}=e,{dataset:r={}}=t,{type:n="navigate",url:a=""}=r;if(a){var o=D[n];o&&E.a[o]({url:a})}}},N={onLoad(){},setYZData:r("Qb5n").b},L=r("2wjL"),R=r("JQZX"),U=r("WOkX"),B=r("lRMv"),F=r("4Kfr"),G={menu:"native_wechat",button:"native_custom"};function H(e,t){return()=>{"function"==typeof e&&e.call(this),this.__yzLog__({et:"click",ei:"share_result",en:"分享结果",params:{share_result:t}})}}var q=function(e){if(e.onShareAppMessage){var t=e.onShareAppMessage;e.onShareAppMessage=function(){for(var e=getApp(),r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o=t.call(this,...n),i=o.loggerParams||{};this.__yzLog__({et:"click",ei:"share",en:"转发",params:Object(l.a)({share_cmpt:"native_custom"},i)});var s=n[0].from,c=G[s],u=o.path||"/packages/home/dashboard/index",d=L.a.getAll(u),{ban_default_kdt_id:p}=d,h=Object(l.a)({},d,B.i,{is_share:1,share_cmpt:c}),f=Object(F.a)();f&&(h.guide_second_sharer_id=f),this.data.salesman&&this.data.salesman.share&&(h=Object(l.a)({},h,Object(U.c)({sl:this.data.salesman.seller}))),h.kdt_id="true"===p?d.kdt_id||e.getKdtId()||"":e.getKdtId()||"";var g=e.logger.getGlobal()||{},v=g.context||{},m=g.user||{};v.dc_ps&&(h.dc_ps=v.dc_ps||""),m.uuid&&(h.from_uuid=m.uuid||""),e.getShopInfoSync().isMultiStore&&(h.offlineId=e.getOfflineId()),u=L.a.add(u,h),o.noOfflineId&&(u=L.a.remove(u,"offlineId"));var y=o&&o.jumpBlankPage?u:"/pages/common/blank-page/index?weappSharePath="+encodeURIComponent(u);delete o.jumpBlankPage;var b=Object(l.a)({},o,{path:y,success:H.call(this,o.success,"success"),fail:H.call(this,o.fail,"fail")});return b}}if(e.onShareTimeline){var r=e.onShareTimeline;e.onShareTimeline=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=r.call(this,...t),{query:o=""}=a,i=["shopAutoEnter=1"],s=Object(F.a)();if(s&&i.push("guide_second_sharer_id="+s),this.data.salesman&&this.data.salesman.share){var c=Object(l.a)({},Object(U.c)({sl:this.data.salesman.seller}));Object(R.a)(c,(e,t)=>{i.push(t+"="+e)})}var u=i.join("&"),d=o?o+"&"+u:u,p=Object(l.a)({},a,{query:d});return p}}},z=r("42EB"),W=r("zMoS"),K=r("sbwY"),Y=r("/duV"),{state:V}=K.a,X=["packages/user/integral/index","packages/trade/order/list/index","packages/trade/order/result/index","packages/card/list/index","packages/order/paid/index","packages/usercenter/dashboard/index","packages/user/coupon/list/index","packages/user/coupon/qrcode/index","packages/user/coupon/detail/index","packages/user/coupon/shop/index","packages/common/stop-service/index",/pages-youzan\//];var J={onLoad(){this.on("app:offlineId:change",this.offlinedIdChange)},offlinedIdChange(e){this._checkShop(),this.whenOfflineChange&&this.whenOfflineChange(e)},onShow(){this.setPageShop(),this._checkShop(),this.on("app:init:nostoreid",this._checkShop),i.a.on("shop:info:change",this.setPageShop)},onHide(){this.off("app:init:nostoreid",this._checkShop),i.a.off("shop:info:change",this.setPageShop)},onUnload(){this.off("app:init:nostoreid",this._checkShop),i.a.off("shop:info:change",this.setPageShop)},setPageShop(){var e,t=getApp(),r={},n=V.shop,a=this.data.CURRENT_GLOBAL_SHOP||{},o=Object.keys(a).length>0,i=n.base||{},s=n.store||{},c=!!o&&(n.offlineId!==a.offlineId||Object(W.a)(n,"chainStoreInfo.name")!==Object(W.a)(a,"chainStoreInfo.name")||0!==(s.id||0));this.data.isMultiStore!==n.isMultiStore&&(r.isMultiStore=n.isMultiStore||!1,r.multiStoreSwitch=n.multiStoreSwitch||!1,r.openHideStore=n.openHideStore||!1),this.data.soldOutRecommend!==n.soldOutRecommend&&(r.soldOutRecommend=n.soldOutRecommend||!1),n.isMultiStore&&(i=Object(l.a)({multiStoreSwitch:n.multiStoreSwitch||!1},n.base,s,{offlineId:n.offlineId,isMultiStore:!0,hideStore:n.openHideStore||!1})),n.chainStoreInfo&&(i.chainStoreInfo=n.chainStoreInfo),(i.shop_business_isopen||i.suspend_message)&&(i.shop_business_isopen=n.shop_business_isopen,i.suspend_message=n.suspend_message),o&&!c||(r.CURRENT_GLOBAL_SHOP=i),"{}"!==JSON.stringify(r)&&(this.setYZData(r),t.trigger("page-global-shop-change",{storeChanged:c,updateData:r})),(i.service&&"SHOP_CLOSE"===i.service.status||i.online_channel_service&&"SHOP_CLOSE"===i.online_channel_service.status)&&!this.pageHasCheck&&(e=this.route,X.some(t=>t===e||t.test&&t.test(e))||wx.redirectTo({url:"/packages/common/stop-service/index"}),this.pageHasCheck=!0)},maybeInRetailPage:e=>(void 0===e&&(e=""),"string"==typeof e&&~e.indexOf("retail")),_checkShop(){Object(Y.b)(this.route)}},$=r("7sy2"),Z=Object(n.a)();function Q(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Z({},...t,u)}var ee=Object(n.a)(),te=(t.b=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=ee({},N,o.a,{data:{pageWindowLock:!1},onLoad(e){var t=getApp();t.getShopTheme().then(e=>{var{themeClass:r,isFantasy:n,themeFetched:a}=e;t.themeClass=r,this.setYZData({themeClass:r,isFantasy:n,themeFetched:a})}),this.setYZData({wscpage:{},themeClass:t.themeClass,deviceType:t.deviceType||"",appType:"wsc",isTabPage:!0}),t.isSwitchTab().then(e=>{this.setYZData({isTabPage:e})}),t._routeStack?t._routeStack.push(this.route):t._routeStack=[this.route],this.__query__=e},onUnload(){var e=getApp(),t=(e._routeStack||[]).findIndex(e=>this&&e===this.route);-1!==t&&e._routeStack.splice(t,1),this.off(null,null)},onShow(){i.a.trigger("page:lifetimes:show",{route:this.route}),Object($.d)({path:this.route,query:this.__query__})},onHide(){i.a.trigger("page:lifetimes:hide",{route:this.route})},__resolveMessage:z.a},J,...t,A,d,M);return q(n),Page(n)},["onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onPageScroll","onTabItemTap"]),re=["data","mapData","watch","state","getters"];function ne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Object(s.i)([N,o.a,{data:{pageWindowLock:!1},onLoad(e){var t=getApp();t.getShopTheme().then(e=>{var{themeClass:r,isFantasy:n,themeFetched:a}=e;t.themeClass=r,this.setYZData({themeClass:r,isFantasy:n,themeFetched:a})}),this.setYZData({wscpage:{},themeClass:t.themeClass,deviceType:t.deviceType||"",appType:"wsc",isTabPage:!0}),t.isSwitchTab().then(e=>{this.setYZData({isTabPage:e})}),t._routeStack?t._routeStack.push(this.route):t._routeStack=[this.route],this.__query__=e,Object.defineProperty(this,"$dispatch",{get(){return this.$store.dispatch}}),Object.defineProperty(this,"$commit",{get(){return this.$store.commit}})},onUnload(){var e=getApp(),t=(e._routeStack||[]).findIndex(e=>this&&e===this.route);-1!==t&&e._routeStack.splice(t,1),this.off(null,null)},onShow(){Object($.d)({path:this.route,query:this.__query__})}},J,...t,A,d,M],te.concat(re));q(n),Object(c.a)(n);var i=n.onLoad||function(){};return n.onLoad=function(e){e=Object(a.a)(e),this.options=e||{},i.call(this,e)},Object(s.b)(n)}},qako:function(e,t,r){var n=function(e,t){var r=[];return e.forEach(e=>{try{var n=e.callback.apply(e.ctx,t);r.push(n)}catch(e){r.push(Promise.reject(e))}}),Promise.all(r)},a={onAsync:function(e,t,r){return this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:r,ctx:r||{}}),this},offAsync:function(e,t,r){if(!e&&!t&&!r)return this._events={},this;for(var n=e?[e]:Object.keys(this._events),a=0,o=n.length;a<o;a++){e=n[a],this._events[e]&&(this._events[e]=[],delete this._events[e])}return this},triggerAsync:function(e){if(!this._events)return Promise.resolve([]);for(var t=this._events[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t?n(t,a):Promise.resolve([])}};t.a=a},qnge:function(e,t,r){r.d(t,"a",function(){return o});var n=r("GZxp"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a()}},qwv7:function(e,t,r){r.d(t,"a",function(){return o});var n=r("AiY9"),a=r.n(n);class o{constructor(e){this.ctx=e.ctx}}o.widgets={Main:a.a}},rBuL:function(e,t,r){r.d(t,"c",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return l});var n=r("Fcif"),a=r("/ftW"),o=r("z24M"),i={current:0,originKdtId:Object(o.a)("kdtId")},s=!1;function c(){return new Promise(e=>{if(s)e();else{var t=i.originKdtId;a.a.getAsync("app:kdt_id").then(e=>{var{current:r=0}=e;i.current=r||t}).catch(()=>{i.current=t}).finally(()=>{s=!0,e()})}})}function u(e){e&&c().then(()=>function(e){i.current=e,a.a.setAsync("app:kdt_id",{current:e},{expire:.02})}(e))}function d(){return new Promise(e=>{c().then(()=>{e(Object(n.a)({},i))})})}function l(){return i.originKdtId}},rIfD:function(e,t,r){r.d(t,"a",function(){return a});var n=r("US/N"),a=e=>Object(n.default)({origin:"cashier",path:"/pay/wsctrade/order/buy/exchangeCoupon.json",method:"POST",data:e,withCredentials:!0})},rLrQ:function(e,t,r){r.d(t,"a",function(){return i});var n=r("Fcif"),a=r("cxMM"),o=r.n(a);class i{constructor(e){var{ctx:t,cloudConfig:r={}}=e,{appStyleConfig:a={}}=t.data,{objectToCSS:o}=t.lambdas;this.ctx=t,this.ctx.data.pageStyleConfig=Object(n.a)({},a,r),this.ctx.data.pageStyleCSS=o(a,"--theme-")+o(r,"--theme-page-")}}i.widgets={Main:o()}},rqVN:function(e,t,r){var n=r("u8kV");r.d(t,"a",function(){return n.b}),t.b=n.c},rtA3:function(e,t,r){r.d(t,"a",function(){return a});var n=r("/XVY"),a=Object(n.a)({type:{default:"one"},layoutMargin:{default:0},itemMargin:{default:0},itemWidth:{default:null},canUseScrollView:{default:!0},customClass:{type:String,default:""}})},s0cO:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e[0].toLowerCase())})};t.default=n,e.exports=t.default},s3UK:function(e,t,r){var n=r("FfeU"),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},sIkL:function(e,t,r){r.d(t,"a",function(){return S});var n=r("Fcif"),a=r("+I+c"),o=r("+66q"),i=(r("3m7Z"),r("tS13")),s=r("gBZH"),c=r("X9+V"),u=(r("Nvad"),[i.c.BUY,i.c.SEL_SKU]),d=e=>{var{type:t,activityLeadInMembershipInfo:r}=e;return t===o.a.TIMELIMITED_DISCOUNT&&!!r},l=function(e,t){return void 0===t&&(t=+new Date),e-t>0},p=function(e,t){return void 0===t&&(t=+new Date),e-t<0},h=r("JijB"),f=r.n(h),g=r("jmjq"),v=r.n(g),m=r("w2Y9"),y=r.n(m),b=["bigButtons","disabledBigButton"],_={[o.a.GROUP_ON]:function(e,t){var r;void 0===e&&(e=[]);var{currentActivity:a,kdtId:u,priceInfo:d,sku:l,marketing:{buttonUmpTextModel:p,activities:h}}=t,{type:f,subType:g,buttonType:v,groupAlias:m,isStart:y}=a,{minPrice:b,oldMinPrice:_}=l[g||f],{ladderMinPrice:O,ladderMaxPrice:S}=d,P=a.type===o.a.GROUP_ON&&a.subType===o.a.LADDER_GROUP_ON,w={main:[{text:"立即开团"},{text:p&&p.umpTag?p.umpTag:P?Object(c.a)(O)+(O===S?"":"起"):"￥"+Object(c.a)(b,2)}],primary:!0,explainVideoBtnText:o.b,skuScene:i.c.BUY,accountUnionScene:s.a.GROUP_BUY,btnActive:i.a.WX_SUBSCRIBE,activityName:g||f,subscribeSceneV2:"groupOn"};if(1==e.length){var I=e[0];I.SKU_SCENE!=i.c.BUY&&I.SKU_SCENE!=i.c.ADD_CART||(C.skuScene=I.skuScene)}var k={main:[{text:"立即开团"}],primary:!0,skuScene:i.c.BUY,accountUnionScene:s.a.GROUP_BUY,btnActive:i.a.WX_SUBSCRIBE,activityName:g||f,subscribeSceneV2:"groupOn"},C={main:[{text:y?"单独购买":"非活动价购买"},{text:"￥"+Object(c.a)(_,2)}],skuScene:i.c.SEL_SKU,accountUnionScene:s.a.NORMAL_BUY,btnActive:"openSku",activityName:"goods"},T={main:[{text:"查看我的团"}],primary:!0,btnActive:i.a.SUBMIT,submitAction:o.j.UMP_GO_2_WEBVIEW,link:{pageName:"GrouponDetail",query:{alias:a.groupAlias,type:a.code,kdt_id:u}}},x={main:[{text:"加入购物车"}],skuScene:i.c.ADD_CART,accountUnionScene:s.a.ADD_CART,btnActive:"openSku",activityName:"goods"};if(m&&!o.e.includes(v))return[C,T];switch(v){case 0:case 2:e.push(C),e.push(w);break;case 1:e.push(C),e.push(T);break;case 3:var{avatar:j="",nickName:A=""}=(null==(r=h.find(e=>"groupOn"===e.type))?void 0:r.shareUserInfo)||{},E=A;E.length>5&&(E=E.substr(0,5)+"..."),k.main[0].text="和"+E+"一起拼",k.main[0].avatar=j,e=[k];break;case 4:e.push(C),T.main[0].text="￥"+Object(c.a)(b,2)+"参团",e.push(T);break;case 5:e.push(x),C.primary=!0,e.push(C);}return e.map(e=>Object(n.a)({},e))},[o.a.TIMELIMITED_DISCOUNT]:function(e,t){void 0===e&&(e=[]);var r=[...e],{currentActivity:a,limitedEstimate:i={},umpActivity:s={}}=t;if(d(a))return e;var{isStart:c}=a,l=e.findIndex(e=>e.primary),p=Object.keys(s).indexOf("coupon")>-1,h=i&&i.buttonUmpText&&1===(null==i?void 0:i.num)&&!p,{marketing:{buttonUmpTextModel:f}}=t;if(!c&&-1!==l&&u.includes(r[l].skuScene)&&(r[l].main=[{text:"非活动价购买"}]),f&&-1!==l&&r[l].main.length<2){var{umpTag:g}=f;r[l].main.push({text:g})}if(-1!==l&&c&&r.forEach(e=>{e.activityName=o.a.TIMELIMITED_DISCOUNT,e.explainVideoBtnText=o.b}),h&&c){var{umpTag:v}=i.buttonUmpText;r[l].main.push({text:v})}return r.map(e=>Object(n.a)({},e))},[o.a.SECKILL]:function(e,t){void 0===e&&(e=[]);var{currentActivity:r,alias:a}=t,{startAt:c,endAt:u,current:d=+new Date,isCheckRight:h,isPassCheck:f,questionId:g,bookingNumText:v="0"}=r;e.length=0;var m={main:[{text:"非活动价购买"}],btnActive:i.a.SUBMIT,submitAction:o.j.UMP_GO_2_DETAIL,alias:a};return p(u,d)?(m.primary=!0,e.push(m),e):(l(c,d)?(e.push(m),h&&!f&&e.push({main:[{text:"立即预约"},{text:v+"人已预约"}],skuScene:i.c.RESERVATION,btnActive:i.a.WX_SUBSCRIBE,accountUnionScene:s.a.NORMAL_BUY,submitAction:o.j.ORDER_SECKILL,questionId:g,subscribeSceneV2:"umpSeckillBookRemind"})):!h||f?e.push({main:[{text:"立即秒杀"}],primary:!0,explainVideoBtnText:o.b,skuScene:i.c.BUY,accountUnionScene:s.a.NORMAL_BUY,btnActive:i.a.OPEN_SKU,activityName:o.a.SECKILL}):e.push(m),e.map(e=>Object(n.a)({},e)))},[o.a.DEPOSIT_EXPANSION]:function(e){void 0===e&&(e=[]);var t=e.findIndex(e=>e.primary);return e[t].activityName=o.a.DEPOSIT_EXPANSION,e.map(e=>Object(n.a)({},e))},[o.a.HELP_DEPOSIT_EXPANSION]:function(e,t){void 0===e&&(e=[]);var{currentActivity:r,kdtId:a}=t,s=e.findIndex(e=>e.primary),{goodsActivity:c}=t,{presale:u}=c,{isStart:d,joinActivityStatus:l,voucherId:p,activityId:h}=r,{balanceDueStart:g,balanceDueEnd:v,preSaleEnd:m,shipTimeStr:y}=u,b={},_="支付定金",O=[{text:f()(m,"MM.DD HH:mm:ss")+" 定金截止"},{text:y}];if(!d)return e;if(3===l)O=[],_="已完成购买，看看其他商品",Object.assign(b,{btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:a},type:"switchTab"}});else{var S=l===o.d.HELPING,P=l===o.d.HELPING&&g<Date.now()||l===o.d.BALANCE_PAYMENT;(S||P)&&(P?(_="支付尾款",O=[{text:f()(v,"MM.DD HH:mm:ss")+" 尾款截止"},{text:y}]):(_="查看助力",O=[{text:f()(g,"MM.DD HH:mm:ss")+" 支付尾款"},{text:y}]),b.link={pageName:"HandselExpand",query:{voucherId:p,kdt_id:a,activityId:h}},b.btnActive=i.a.SUBMIT,b.submitAction=o.j.UMP_GO_2_WEBVIEW)}return l===o.d.NOT_PARTICIPATE?b.explainVideoBtnText=o.b:b.explainVideoBtnText=o.c,[Object(n.a)({},e[s],b,{activityName:o.a.HELP_DEPOSIT_EXPANSION,sub:O,main:[{text:_}]})].map(e=>Object(n.a)({},e))},[o.a.PRESENT_EXCHANGE]:()=>[{main:[{text:"领取赠品"}],btnActive:i.a.OPEN_SKU,skuScene:i.c.BUY,accountUnionScene:s.a.NORMAL_BUY,primary:!0,activityName:o.a.PRESENT_EXCHANGE}],[o.a.AUCTION]:(e,t)=>{var{currentActivity:r,kdtId:n}=t,{status:a}=r;return"ENDED"===a||"SOLD_OUT"===a?[{name:"homepage",main:[{text:"查看店铺其他商品"}],btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:n},type:"switchTab"},primary:!0}]:[{main:[{text:"立即拿下"}],skuScene:i.c.BUY,accountUnionScene:s.a.NORMAL_BUY,btnActive:i.a.OPEN_SKU,activityName:o.a.AUCTION}]},[o.a.HELPCUT]:(e,t)=>{var{currentActivity:r,kdtId:n,sku:a,query:c}=t,{isStart:u,isEnd:d,status:l}=r,{oldMinPrice:p,minPrice:h}=a[o.a.HELPCUT];if(d&&!(l>1))return[{name:"homepage",main:[{text:"查看店铺其他商品"}],btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:n},type:"switchTab"},primary:!0}];var f=[{main:[{text:"单独购买"},{text:"￥"+v()(p)}],skuScene:i.c.SEL_SKU,accountUnionScene:s.a.NORMAL_BUY,btnActive:"openSku",activityName:"goods"}],g=null;if(u)switch(l){case 2:g={forbid:!0,skuScene:i.c.DISABLE,main:[{text:"已砍价购买"}],disabled:!0,activityName:o.a.HELPCUT};break;case 3:g={main:[{text:"正在砍价"}],activityName:o.a.HELPCUT,primary:!0,btnActive:i.a.SUBMIT,submitAction:o.j.UMP_GO_2_WEBVIEW,link:{pageName:"BargainPurchase",query:{umpAlias:c.umpAlias,sponsorId:r.sponsorId,umpActivityId:r.activityId,kdtId:n}}};break;default:g={main:[{text:"立即砍价拿"},{text:"￥"+v()(h)}],primary:!0,activityName:o.a.HELPCUT,skuScene:i.c.RESERVATION,btnActive:i.a.WX_SUBSCRIBE,accountUnionScene:s.a.NORMAL_BUY,submitAction:o.j.START_CUT,subscribeSceneV2:"helpcut",currentActivity:r,kdtId:n};}return g&&f.push(g),f},[o.a.INSOURCING_FISSION]:(e,t)=>{var{currentActivity:r,sku:n,kdtId:a}=t,{hasBuyThreshold:c,isStart:u,isEnd:d,havingInSourcingCouponNum:l}=r,{minPrice:p,oldMinPrice:h,list:f,spuPrice:g}=n[o.a.INSOURCING_FISSION],m=l>=(()=>{if(0===f.length)return g.needInSourcingCouponNum||0;var e=f.filter(e=>!e.notJoinActivity&&e.stockNum>0).sort((e,t)=>e.needInSourcingCouponNum-t.needInSourcingCouponNum)[0];return e&&e.needInSourcingCouponNum||0})();if(!u||d)return[{main:[{text:"查看店铺其他商品"}],skuScene:i.c.JUMP_LINK,primary:!0,btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:a},type:"switchTab"}}];var y=[{main:[{text:"内购价购买"},{text:"￥"+v()(p)}],primary:!0,skuScene:i.c.BUY,accountUnionScene:s.a.NORMAL_BUY,activityName:o.a.INSOURCING_FISSION,btnActive:m?i.a.OPEN_SKU:i.a.SUBMIT,submitAction:m?void 0:o.j.SHOW_IN_SOURCING_FISSION_COUPON}];return c&&y.unshift({main:[{text:"直接购买"},{text:"￥"+v()(h)}],skuScene:i.c.SEL_SKU,accountUnionScene:s.a.NORMAL_BUY,btnActive:"openSku",activityName:"goods"}),y},[o.a.SECOND_HALF_DISCOUNT]:(e,t)=>{var{marketing:{buttonUmpTextModel:r},limitedEstimate:a={}}=t,o=e.findIndex(e=>e.primary),{buttonUmpText:i={}}=a;return r&&r.umpTag&&!i.umpTag&&e[o].main.push({text:r.umpTag}),e.map(e=>Object(n.a)({},e))},[o.a.TUAN]:(e,t)=>{var{currentActivity:r,kdtId:n}=t,{isEnd:a,isCash:c,state:u}=r;if(a)return[{name:"homepage",main:[{text:"查看店铺其他商品"}],btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:n},type:"switchTab"},primary:!0}];var d=[];c&&d.push({main:[{text:"邀请下单返现"}],skuScene:i.c.RESERVATION,btnActive:i.a.SUBMIT,accountUnionScene:s.a.NORMAL_BUY,submitAction:o.j.UMP_SHOW_SHARE});var l=null;switch(u){case"on":l={main:[{text:"立即参团"}],primary:!0,skuScene:i.c.BUY,accountUnionScene:s.a.GROUP_BUY,btnActive:"openSku",activityName:o.a.TUAN};break;default:l={main:[{text:"即将开始"}],primary:!0,disabled:!0,skuScene:i.c.DISABLE};}return l&&d.push(l),d},[o.a.LUCKYDRAW_GROUP]:(e,t)=>{var{currentActivity:r,kdtId:n}=t,{isStart:a,isEnd:c,activityId:u,ownGroup:d}=r,l=(()=>{var e={kdt_id:n,activity_id:u};if(d){var{alias:t,orderNo:r}=d;t&&(e.group_alias=t),r&&(e.order_no=r)}return{pageName:"LotteryDetail",query:e}})();if(c||!a)return[{name:"homepage",main:[{text:"查看店铺其他商品"}],btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:n},type:"switchTab"},primary:!0}];var p=[],h=null;switch(r.buttonType){case 1:h={main:[{text:"立即0元开团"}],primary:!0,skuScene:i.c.BUY,accountUnionScene:s.a.GROUP_BUY,btnActive:i.a.WX_SUBSCRIBE,activityName:o.a.LUCKYDRAW_GROUP,subscribeSceneV2:"lottery"};break;case 2:h={main:[{text:"查看我的团"}],link:l,skuScene:i.c.JUMP_LINK,activityName:o.a.HELPCUT,primary:!0,btnActive:i.a.SUBMIT,submitAction:o.j.UMP_GO_2_WEBVIEW};break;default:h={name:"homepage",main:[{text:"查看店铺其他商品"}],btnActive:i.a.SUBMIT,submitAction:i.d.JUMP_LINK,link:{pageName:"Home",query:{kdt_id:n},type:"switchTab"},primary:!0};}return h&&p.push(h),p},[o.a.COUPON]:(e,t)=>{var r=[...e],a=e.findIndex(e=>e.primary),o=[i.c.BUY,i.c.SEL_SKU],{marketing:{buttonUmpTextModel:s}}=t;if(s&&-1!==a&&r[a].main.length<2){var{umpTag:c,buyButtonText:u}=s;u&&o.includes(r[a].skuScene)?r[a].main=[{text:u},{text:c}]:r[a].main.push({text:c})}return r.map(e=>Object(n.a)({},e))},[o.a.FCODE]:(e,t)=>e.map(e=>Object(n.a)({},e,{activityName:o.a.FCODE,skuScene:i.c.BUY})),[o.a.LIMITED_SECKILL]:function(e,t){void 0===e&&(e=[]);var{currentActivity:r,alias:n}=t,{startAt:a,endAt:c}=r;return(e=>e-+new Date<0)(c)||(e=>e-+new Date>0)(a)?e:[{main:[{text:"马上抢"}],primary:!0,skuScene:i.c.BUY,accountUnionScene:s.a.NORMAL_BUY,btnActive:i.a.OPEN_SKU,activityName:o.a.LIMITED_SECKILL}]},[o.a.PRODUCT_LAUNCH]:(e,t)=>{if(Boolean(t.goodsActivity.waitToSold)){var r=[e[0]],n=e.find(e=>e.skuScene===i.c.SUBSCRIBE),a={main:[{text:"立即预约"}],primary:!0,skuScene:i.c.CUSTOM,btnActive:"submit",accountUnionScene:s.a.NORMAL_BUY,submitAction:o.j.PRODUCT_LAUNCH_RESERVATION,currentActivity:t.currentActivity,goodsId:t.alias};return n&&(a.startSoldTime=n.startSoldTime),r.push(a),r}return e},[o.a.ESTIMATA_PRICE]:(e,t)=>{var{limitedEstimate:r={},umpActivity:a={},extra:o={}}=t,i=e.findIndex(e=>e.primary),s=Object.keys(a).indexOf("coupon")>-1,c=r&&r.buttonUmpText&&1===(null==r?void 0:r.num)&&!s,{buttonUmpText:u={}}=r,{buyButtonText:d}=o,l=[...e];if(c&&-1!==i){var{umpTag:p,buyButtonText:h}=u;!d&&h?l[i].main=[{text:h},{text:p}]:l[i].main.push({text:u.umpTag})}return l.map(e=>Object(n.a)({},e))}},O={[o.a.GROUP_ON]:(e,t)=>{var{currentActivity:r}=t,{isStart:n}=r;return n?e:{text:"活动即将开始"}},[o.a.TIMELIMITED_DISCOUNT]:(e,t)=>{var{currentActivity:r}=t,{isStart:n}=r;return n?e:{text:"活动即将开始"}},[o.a.SECKILL]:(e,t)=>{var{currentActivity:r}=t,{startAt:n,current:a=+new Date,endAt:o,isCheckRight:i,isPassCheck:s,buyNeedBook:c}=r;return p(o,a)?{text:"活动已结束"}:!l(n,a)||i&&(!i||s||c)?l(n,a)&&i&&!s&&c?{text:"活动即将开始，预约后才能参加秒杀活动哦"}:l(n,a)&&i&&s?{text:"您已成功预约，活动暂未开始，也可非活动价购买哦"}:l(n,a)||!i||s?e:{text:"您未预约此活动，无法参加秒杀，下次记得预约哦"}:{text:"秒杀活动即将开始"}},[o.a.DEPOSIT_EXPANSION]:(e,t)=>{var{currentActivity:r}=t,{isStart:n}=r;return n?e:{text:"活动即将开始"}},[o.a.HELP_DEPOSIT_EXPANSION]:(e,t)=>{var{currentActivity:r}=t,{isStart:n}=r;return n?e:{text:"活动即将开始"}},[o.a.AUCTION]:(e,t)=>{var{currentActivity:r}=t,{status:n}=r;switch(n){case"ENDED":"活动已结束";break;case"SOLD_OUT":"已售罄";}return e},[o.a.HELPCUT]:(e,t)=>{var{currentActivity:r}=t,{isStart:n,isEnd:a,status:o}=r;return n?a&&!(o>1)?{text:"砍价活动已结束，去看看其他商品吧"}:e:{text:"活动即将开始"}},[o.a.INSOURCING_FISSION]:(e,t)=>{var r,{currentActivity:n}=t,{startAt:a,endAt:o}=n,i=(r=+new Date,a-r>0),s=(()=>{var e=+new Date;return o-e<0})();return i?{text:"活动即将开始"}:s?{text:"活动已结束，去看看其他商品吧"}:e},[o.a.TUAN]:(e,t)=>{var{currentActivity:r}=t,{isStart:n,isEnd:a}=r;return n?a?{text:"活动已结束"}:e:{text:"活动即将开始"}},[o.a.LUCKYDRAW_GROUP]:(e,t)=>{var{currentActivity:r,kdtId:n}=t,{isStart:a,isEnd:o,activityId:i}=r;return a?o?{text:"查看中奖结果",url:y.a.add("https://h5.youzan.com/wscump/collage/lottery/detail",{kdt_id:n,activity_id:i})}:e:{text:"活动即将开始"}}},S={buttonFormaterFactory(e,t,r){var o=_[e];if(o){var{bigButtons:i=[],disabledBigButton:s}=t,c=Object(a.a)(t,b),u="presentExchange"===e;i.some(e=>e.waitToSold);if(u){var d=o(i,r);return Object(n.a)({bigButtons:d},c,{disabledBigButton:null})}var l=o(i,Object(n.a)({},r,t));return Object(n.a)({bigButtons:l},c,{disabledBigButton:s})}return t},tipsFormaterFactory(e,t,r){var n=O[e];return n?n(t,r):t}}},sQvh:function(e,t,r){function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",function(){return n})},sXPE:function(e,t,r){var n;r.d(t,"a",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"e",function(){return s}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"h",function(){return l});var a={DISCOUNT:"discount",DISCOUNT_INVITE:"discountInvite",CUSTOMER_DISCOUNT:"customerDiscount",POINTS:"pointsExchange",GOODS_SCAN:"goodsScan",SCRM_CARRIER:"scrmCarrier"},o={DISCOUNT:"discount",DISCOUNT_INVITE:"discountInvite",POINTS:"points"},i=[o.POINTS,o.DISCOUNT,a.DISCOUNT_INVITE],s=((n={})[a.CUSTOMER_DISCOUNT]="会员价",n[a.POINTS]="积分兑换",n[a.GOODS_SCAN]="扫码优惠价",n),c={POINTS:5},u={FREE_MEMBER:1,PAY_MEMBER:2,FREE_BENEFIT_CARD:3,PAY_BENEFIT_CARD:4},d={LIMIT:1,ALLOW:0},l={LIMIT_BUY_GUIDE:"limitBuyGuide"}},sbwY:function(e,t,r){var n=r("Fcif"),a=r("svh/"),o=r("jA1y"),i=r("3tyi"),s=r("z24M"),c=r("7WjY"),u=new a.d({state:{config:{grantType:"yz_union",weappType:"",version:Object(s.a)("userVersion")},pluginData:{},token:{},shop:c.a,sceneData:{},userInfo:{poi:null}},mutations:{UPDATE_TOKEN(e,t){e.token=t;var r=Object(i.a)(t,["avatar","gender","kdtId","mobile","openId","userId","yzUserId","nickName","fansType","viewTrack2","platformFansId","isDefaultAvatar"]);r.nickname=r.nickName,delete r.nickName,e.userInfo=r},UPDATE_CONFIG(e,t){Object.assign(e.config,t),e.config.appId&&o.e({appId:e.config.appId,version:e.config.version})},UPDATE_PLUGIN_DATA(e,t){var{pluginData:r}=e;r.pluginHostAppId=t.appId,r.pluginHostOpenId=t.openId},UPDATE_USER_INFO(e,t){e.userInfo=Object(n.a)({},e.userInfo,t,{isDefaultAvatar:!1})},UPDATE_SCENE_DATA(e,t){e.sceneData=Object(n.a)({},e.sceneData,t)},UPDATE_SHOP_DATA(e,t){void 0===t&&(t={}),e.shop=Object(n.a)({},e.shop,t)}}});t.a=u},tkH8:function(e,t,r){function n(e,t){void 0===t&&(t=2);for(var r=e+"";r.length<t;)r="0"+r;return r}r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});function a(e){return{days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)}}function o(e,t){var{days:r}=t,{hours:a,minutes:o,seconds:i,milliseconds:s}=t;return-1===e.indexOf("DD")?a+=24*r:e=e.replace("DD",n(r)),-1===e.indexOf("HH")?o+=60*a:e=e.replace("HH",n(a)),-1===e.indexOf("mm")?i+=60*o:e=e.replace("mm",n(o)),-1===e.indexOf("ss")?s+=1e3*i:e=e.replace("ss",n(i)),e.replace("SSS",n(s,3))}function i(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}},tqDJ:function(e,t,r){r.d(t,"a",function(){return f});var n=r("a1Mm"),a=r("zMoS"),o=r("taYb"),i=r("1F1z");function s(e){return e>9?e:"0"+e}function c(e){var t=new Date(e);return s(t.getMonth()+1)+"."+s(t.getDate())+" "+s(t.getHours())+":"+s(t.getMinutes())+":"+s(t.getSeconds())}var u=r("Hhx2"),d=r("KQ2A"),l=getApp(),p=["降价拍","团购返现","多人拼团","周期购","定金膨胀","阶梯拼团","积分兑换"],h={customerDiscount:"会员折扣",timelimitedDiscount:"限时折扣"};function f(e,t){if(wx.showToast({title:"加载中",icon:"loading"}),!e)return Promise.reject("alias is "+e);var{timingSaleHideBuyBtnInSku:r}=t||{};return Promise.all([i.a.getSkuData(e,t),l.getShopConfigData()]).then(e=>i.a.getActivity(e[0].brief.item_id).then(t=>t&&p.some(e=>t.indexOf(e)>=0)?Promise.reject():e)).then(t=>{var i,[s,p={}]=t;wx.hideToast();var f,g,{brief:v,sku:m={},components:y=[],dataVersion:b}=s,{item_id:_,title:O,presale:S=0,presale_info_new:P,quota_used:w,startSoldTime:I}=v,k=Object(a.a)(s,"activity.goods_preference",{}),C=k.type||"",T=Object(a.a)(k,"is_started",!(b&&"v1"===b)),x=k.priceTitle||"",j=+v.start_sale_num||1,A=o.a.toCamelCase(s.item_sale_prop_list||[]),E=j>1?[j+"件起售"]:[],{hide_stock:D,cart_text:M="加入购物车"}=m,{picture:N,quota:L,is_virtual:R}=v,U="default",B=!0,F=!0,G=!1,H=!1,q="立即购买";if(N=Object(a.a)(N,"[0].url",""),L=+L?Math.max(L,1):0,R=!!+R,D=!(!+D&&!+Object(a.a)(y,"0.hide_stock")),"depositExpansion"===C||R&&3===Object(a.a)(s,"virtual.validity_type")||Array.isArray(m))return Promise.reject({jumpToGoodsDetail:!0});if(0===Object(a.a)(m,"stock_num"))return Promise.reject("该商品已售罄");if(P&&(f=+P.pre_sale_type||0,P.pre_sale_start&&Date.now()<P.pre_sale_start))return Promise.reject("该商品未到预售时间");1===f&&(U="presale",g=function(e){var{extend:t,deposit:r,deposit_ratio:n}=e,{pre_sale_end:a,etd_start:o,etd_days:i,etd_type:s}=t,u=Date.now()>a,d=c(a)+" 预售结束";return{deposit:r,depositRatio:n,isPresaleOutDate:u,presaleShipTimeStr:1==+s?"尾款支付"+i+"天后发货":c(o)+" 开始发货",presaleEndTimeStr:d}}(m)),"groupOn"===C&&(H=!0,L=+Object(a.a)(y,"0.quota",L)),"customerDiscount"===C&&(G=!0);try{("customerDiscount"===C||"timelimitedDiscount"===C&&T)&&function(e,t){e.originPrice=e.origin||e.original_price||e.price,e.price=t.show_price;var r=t.skus||{};e.list.forEach(e=>{e.originPrice=e.origin||e.price,e.price=r[e.id]&&r[e.id].price||e.price})}(m,k)}catch(e){}(R||+S&&!(0===f)||1==+p.hide_shopping_cart)&&(B=!1,q="下一步"),Object(u.b)(m)&&(q="领券购买"),B&&1!=+p.show_buy_btn&&(F=!1,M="确定");var{noneSku:z,messages:W,cateringGoodsExtraModel:K,list:Y,itemDataModel:V,price:X,collectionId:J}=o.a.toCamelCase(m);if((z||Y.length<=1)&&!F&&!(null!=W&&W.length)>0&&(null==K||null==(i=K.ingredientList)||!i.length)&&j<=1&&(!A||!A.length)){var $,Z,Q=1===Y.length?Y[0].id:J,ee=null!=Y&&null!=($=Y[0])&&$.sku?JSON.parse(null==Y||null==(Z=Y[0])?void 0:Z.sku).v:"";return Object(d.a)({couponId:null,goodsId:_,messages:[],cartMessages:[],num:1,price:X,skuId:Q,kdtId:l.getKdtId(),propertyIds:[],itemDataModel:V,activityType:0,activityId:0,activityAlias:""},{params:{num:1,goods_id:_,goods_name:O,sku_id:Q,sku_name:ee?[ee]:[],no_sku:z?1:0}}).then(()=>{if(l.getYouZanYunSdk){var e=getCurrentPages(),t="/"+e[e.length-1].route;l.getYouZanYunSdk().app.trigger("beforeAddCart",{skuId:Q,title:O,id:_,selectedNum:1,pageUrl:t})}l.trigger("component:sku:cart",{type:"add"})}).catch(e=>{var{msg:t}=e;wx.showToast({title:t,icon:"none"})}),Promise.resolve({jumpToGoodsDetail:!1})}L>0&&E.push("每人限购"+L+"件"),!x&&C&&(x=h[C]);var te={id:_,alias:e,title:O,picture:Object(n.a)(N,"!300x300.jpg"),originPicture:N,isVirtual:R};return r&&I&&Date.now()<1e3*I&&(F=!1,B=!0),{sku:Object(u.a)(m),skuGoodsDetail:te,type:U,quota:L,quotaUsed:w,quotaText:E.join("，"),buyText:q,cartText:M,showAddCartBtn:B,showBuyBtn:F,startSaleNum:j,itemSalePropList:A,hideStock:1==+D,showGoodsSku:!0,extraData:{priceTitle:x,isGroupon:H,isMember:G,presaleInfo:g,useCustomHeaderPrice:!0}}}).catch(t=>{var r=!0;return t&&"string"==typeof t&&"不支持会员卡商品"!==t&&(r=!1,wx.showToast({title:t,icon:"none"})),"object"==typeof t&&!1===t.jumpToGoodsDetail&&(r=!1),r&&wx.navigateTo({url:"/pages/goods/detail/index?alias="+e}),Promise.reject(t)})}},tz68:function(e,t){e.exports={d:"order;4;goods;4;shopConfig;4;hasHaitaoGoods;4;tradeTag;4;orderFinalPrice;4;prepayCardDecrease;4;invoice;4;themeCSS;4;themeColors;4;themeType;4;display;4;dataLoaded;4",e:"changeIsShowInvoicePopup",el:"changeIsShowInvoicePopup",w:"TradeBuyServiceBlock;BuyerMsg;InvoiceActionSheet;InvoiceCell",wc:"BuyerMsg;TradeBuyServiceBlock;InvoiceActionSheet;InvoiceCell",wd:"Main",l:"",lc:"",p:"invoiceActionSubmit",pi:"mutateState;setOrderMessage;logFocusMessage;setInvoiceSubmit;invoiceActionSubmit",c:"",cc:""}},u8kV:function(e,t,r){r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"d",function(){return p});var n=r("Fcif"),a=r("Qb5n"),o=r("AqAW"),i=r("UL3R"),s=r("svh/");Boolean;class c{constructor(){this.props={},this.behavior=null,this._init()}_init(){var e=this;this.behavior=Behavior({created(){Object(a.c)(this,{props:e.props,methods:e.methods})},detached(){Object(a.a)(this),this.off(null,null)},definitionFilter(t){e.props=t.properties||{},e.methods=t.methods||{}},methods:Object(n.a)({setYZData:a.b},o.a)})}getBehavior(){return this.behavior}}var u=["theme-color","theme-bg-color","theme-border-color","theme-button","theme-button-plain"],d=(t.c=function(e){void 0===e&&(e={}),e.behaviors=e.behaviors||[];var t=new c;return e.behaviors.push(t.getBehavior()),e.externalClasses=u.concat(e.externalClasses||[]),Component(e)},Behavior({created(){Object.defineProperty(this,"$dispatch",{get(){return this.$store.dispatch}}),Object.defineProperty(this,"$commit",{get(){return this.$store.commit}})}}));function l(e){void 0===e&&(e={}),Object(i.a)(e),e.behaviors=e.behaviors||[];var t=new c;return e.behaviors.push(t.getBehavior()),e.behaviors.push(d),e.externalClasses=u.concat(e.externalClasses||[]),e.mapData=e.mapData||{},e.getters&&(e.mapData=Object(n.a)({},e.mapData,Object(s.f)(e.getters))),e.state&&(e.mapData=Object(n.a)({},e.mapData,Object(s.h)(e.state))),Object(s.a)(e)}function p(e){var t=getCurrentPages&&getCurrentPages()||[],r=t.length>0?t[t.length-1]:{};if(!e)return r;for(var n=t.length-1;n>=0;n--){var a=t[n];if(a&&a.__wxWebviewId__===e.__wxWebviewId__){r=a;break}}return r}},uD8h:function(e,t){e.exports={d:"goods;0;skuConfig;0;skuData;0;periodBuy;0;ecard;0;ladderGroupOn;0;couponTips;0;supportSkuDirectOrder;2;skuDirectOrderAbTraceId;2;displayData;2;orderData;2;showCouponTips;0;estimatePriceData;0;sellingPointOpt;0;cloudDesignConfig;4;kdtId;4;goodsActivity;4;goodsBaseInfo;4;goodsPriceInfo;4;goodsMetaInfo;4;goodsSkuData;4;pageFeature;4;shopConfig;4;shopBaseInfo;4;payWays;4;buyConfig;4;distribution;4;multistore;4;bigButtons;4;currentActivity;4;umpActivity;4;isCoupon;4;goodsCombineInfo;4;yzGuarantee;4;pageSwitch;4;featureSwitch;4;shopMetaInfo;4;themeVars;4;userGoodsStateParams;4;marketing;4;pointsConfig;4;multiSkuDecision;4;explainVideoFullScreen;4;hasOpenExplainVideo;4;themeTag;4;pageVars;4;themeColors;4;activityName;4;skuDirectVersion;4;pageKey;4",e:"sku:selected;sku:preview-click;sku:show;sku:hide;custom:event;subscribe:show;follow:show;ORDER_KEEP:open;trade:finish;skuBookkey:finish;question:show;share:show;inSourcingFissionCoupon:show;qrcode:show;helpcutErr:show;skuOrder:show;sku:num-change",el:"sku:show;submit:act;showNearSku;guaranteeSetupReady;big-btn:click;sku:hide;sku:preview-click;skuOrder:selected;skuSubmit:act;hideVirtualTicketIntro;sku:selected",w:"SkuHeader",wc:"SkuPayWays;CombineGoodsBlock;CombineGoodsPlaceholder;SubmitNotice;SkuPaidCouponIntro;OptionalGoodsCombo;SkuHeader",wd:"Main",p:"addCart",pi:"setTradePostData;beforeCartSubmit;beforeBuy;afterBuy;navigateToTradeBuy;sku:validate;skuUpdate",c:"",cc:"",li:"pageDestroyed"}},uhII:function(e,t,r){r.d(t,"b",function(){return n});var n={general:"#f44","main-bg":"#f44","main-text":"#fff","vice-bg":"#f85","vice-text":"#fff","start-bg":"#FF6060","end-bg":"#FF4444"};t.a={0:"th0",1:"th1",2:"th2",3:"th3",4:"th4",5:"th5",6:"th6",7:"th7",8:"th8",9:"th9",10:"th10",11:"th11",12:"th12",13:"th13",14:"th14"}},umDW:function(e,t,r){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var n=r("Fcif"),a=r("2wjL"),o={title:"",domain:"https://h5.youzan.com",webViewPage:"/pages/common/webview-page/index",method:"navigateTo"};function i(e,t){return void 0===t&&(t=o.domain),t&&!(e=>0===e.indexOf("http")||0===e.indexOf("//"))(e)?t+e:(e.startsWith("http://")&&(e=e.replace("http://","https://")),e)}function s(e,t){e=i(e,(t=Object(n.a)({},o,t)).domain),t.query&&(e=a.a.add(e,t.query,!0));var r={src:e,title:t.title};wx[t.method]({url:a.a.add(t.webViewPage,r,!0)})}},uyeC:function(e,t){e.exports={d:"kdtId;4",e:"share:query",el:"",w:"",wc:"",wd:"Main",p:"setShareInfo",pi:""}},uzJ0:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return(parseFloat(e)/100).toFixed(2)};t.default=n,e.exports=t.default},v6dD:function(e,t,r){var n=r("DXqK");r.d(t,"a",function(){return n.c}),r.d(t,"b",function(){return n.d});n.b},vB9s:function(e,t,r){var n=r("By4c");t.a=n.a},vGYG:function(e,t,r){r.d(t,"a",function(){return a});var n=r("0hwI");function a(){return n.a.get({url:"/wscdeco/jump-logic.json"})}},vMVM:function(e,t,r){var n=r("jgJv"),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},vgDv:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#x27;":"'"};return"".concat(e).replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;)/g,function(e){return t[e]})};t.default=n,e.exports=t.default},vpHN:function(e,t,r){r.d(t,"a",function(){return h}),r.d(t,"b",function(){return f});r("Fcif");var n=r("PKOW"),a="packages",o={TRANS:a+"/home/tab/one",EXT:a+"/ext-home/tab/one",OLD:a+"/old-home/tab/one"},i={TRANS:a+"/home/tab/two",EXT:a+"/ext-home/tab/two",OLD:a+"/old-home/tab/two"},s={TRANS:a+"/home/tab/three",EXT:a+"/ext-home/tab/three",OLD:a+"/old-home/tab/three"},c={TRANS:a+"/home/dashboard/index",EXT:a+"/ext-home/dashboard/index",OLD:a+"/old-home/dashboard/index"},u=a+"/usercenter/dashboard/index",d="pages/usercenter/dashboard/index",l=r("QFll"),p={[n.c[n.b.CART].TRANS]:{subRoutes:[n.c[n.b.CART].NEW,n.c[n.b.CART].OLD]},[o.TRANS]:{subRoutes:[o.TEE,o.EXT,o.OLD]},[i.TRANS]:{subRoutes:[i.TEE,i.EXT,i.OLD]},[s.TRANS]:{subRoutes:[s.TEE,s.EXT,s.OLD]},[c.TRANS]:{subRoutes:[c.TEE,c.EXT,c.OLD]},[l.a.OLD]:{subRoutes:[l.a.OLD,l.a.NEW]},[u]:{subRoutes:[d]}};function h(e){var t=e;if(!p[t])for(var r=Object.keys(p),n=0;n<r.length;n++){var{subRoutes:a}=p[r[n]];if(a&&a.length)for(var o=0;o<a.length;o++)if(e===a[o]){t=r[n];break}if(t!==e)break}return t}function f(e){var{customPage:t,pagePath:r}=e,n=getApp(),{isRetailApp:a}=n.globalData,o=t||r.startsWith("pages/home")||r.startsWith("pages/common/webview-page")?r:r.replace(/^pages(-|\/)/,"packages/");return l.b.test(o)&&(a&&o===l.c.WSC&&(o=l.c.RETAIL),a||o!==l.c.RETAIL||(o=l.c.WSC)),o}},vtdp:function(e,t,r){r.d(t,"a",function(){return n});var n={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:{type:String,value:"取消"},confirmButtonText:{type:String,value:"确认"},visibleItemCount:{type:Number,value:6},itemHeight:{type:Number,value:44}}},vzTj:function(e,t,r){r.d(t,"a",function(){return s});var n=r("sEE4"),a=r.n(n),o=r("gf3M"),i=r.n(o);class s{constructor(e){this.ctx=e.ctx}}s.widgets={TradeBuyPrivacyBill:a()},s.components={PrivacyBillRulePopup:i()}},w4n3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("6UHP")),a=i(r("ajWA")),o=i(r("s0cO"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,a.default)(t)&&t.length>0)r=[];else{if(!((0,n.default)(t)&&Object.keys(t).length>0))return t;r={}}for(var s=Object.keys(t),c=s.length,u=0;u<c;u++){var d=s[u],l=t[d];i&&(l=e(l));var p="string"==typeof d?(0,o.default)(d):d;r[p]=l}return r};t.default=s,e.exports=t.default},w5ta:function(e,t,r){var n=r("PYDc"),a=r("XXCu"),o=r("DZMJ"),i=r("i0JV"),s=r("xKNE");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},w8Br:function(e,t){e.exports={d:"",e:"",el:"",w:"YzGuaranteeForSkuOrder",l:"",lc:"",p:"",pi:"",c:"GuaranteePop"}},wB7X:function(e,t,r){r.d(t,"f",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"e",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return c});var n="#ee0a24",a="#1989fa",o="#07c160",i="#323233",s="#969799",c="#DCDEE0"},wGFT:function(e,t,r){r.d(t,"a",function(){return a});var n=r("US/N"),a=e=>Object(n.default)({path:"/wscgoods/poster/card/image-update.json",method:"POST",withCredentials:!0,data:{itemId:e}})},wSeO:function(e,t,r){r.d(t,"a",function(){return s}),r.d(t,"b",function(){return c});var n=r("BZkp"),a=r("1pB4"),[o]=Object(n.l)("vant-tee/relations",{});function i(e,t,r){var n=o();return n[e]=n[e]||{},n[e][t]=n[e][t]||{parent:null,children:[],onEffect(){}},n[e][t]}function s(e,t){return{mixin:{props:{pid:String},created(){if(this.pid){var r=i(e,this.pid,this.$root);Object(a.c)(t)&&(r.onEffect=t.bind(this)),r.parent=this,Object.defineProperty(this,"children",{get:()=>r.children||[]})}},destroyed(){var t=i(e,this.pid,this.$root);delete t.parent,delete t.onEffect}}}}function c(e,t){return void 0===t&&(t=!0),{mixin:{props:{pid:String},created(){if(this.pid){var r=i(e,this.pid,this.$root);r.children.push(this),Object.defineProperties(this,{parent:{get:()=>r.parent}}),t&&Object.defineProperties(this,{index:{get(){return r.children.indexOf(this)}}})}},mounted(){var t=i(e,this.pid,this.$root);Object(a.c)(t.onEffect)&&t.onEffect(this)},destroyed(){var t=i(e,this.pid,this.$root);t.children=t.children.filter(e=>e!==this),setTimeout(()=>{Object(a.c)(t.onEffect)&&t.onEffect(this)})}}}}},wYCQ:function(e,t,r){r.d(t,"f",function(){return s}),r.d(t,"p",function(){return c}),r.d(t,"r",function(){return u}),r.d(t,"g",function(){return d}),r.d(t,"q",function(){return l}),r.d(t,"a",function(){return p}),r.d(t,"s",function(){return h}),r.d(t,"h",function(){return f}),r.d(t,"b",function(){return g}),r.d(t,"i",function(){return v}),r.d(t,"j",function(){return m}),r.d(t,"e",function(){return y}),r.d(t,"d",function(){return b}),r.d(t,"c",function(){return _}),r.d(t,"n",function(){return O}),r.d(t,"m",function(){return S}),r.d(t,"l",function(){return P}),r.d(t,"o",function(){return w});var n=r("POYE"),a=r("2wjL"),o=r("SVbq"),i=r("/duV");r.d(t,"k",function(){return o.z});var s=e=>n.a.cacheKdtId[e],c=(e,t)=>{n.a.cacheKdtId[e]=t};function u(e){n.a.proxyWxJumpPadding=e}var d=e=>n.a[e],l=(e,t,r)=>{r?n.a[e][t]=r:(r=t,n.a[e]=r)},p=e=>{n.a.proxyUpdateEmitFunc.push(e)};function h(e){var{enterConfig:t,path:r}=e,a=parseInt(Math.random()*Math.random()*1e7,10),o=r?"tab"+r:"";return n.a.switchShopRangeCache[o||a]=t,a}function f(e){var{url:t}=e,r=n.a.switchShopRangeCache;if(!Object.keys(r).length)return{};var{enterShopId:o}=a.a.getAll(t)||{};if(o&&r[o])return r[o];var i=t.replace(/^\//,"").replace(/\?.*/,""),s="tab"+i;return i&&r[s]?r[s]:{}}function g(){var e=Object.keys(n.a.switchShopRangeCache);e.length&&(n.a.switchShopRangeCache=e.filter(e=>e.startsWith("tab")))}function v(e){void 0===e&&(e=0);var t=getCurrentPages();if(t.length){var r=t[t.length-e-1],n=a.a.add(""+r.route,r.options);return{query:r.options,path:r.route,url:n}}return null}function m(e){var t=getCurrentPages();return!!t.length&&t.find(t=>t.route===e)>-1}function y(){return o.x&&Object(o.z)()&&n.a.tabbarNavCacheMap[Object(i.e)()]&&!n.a.hqHomeToOtherHome}function b(){if(o.x){var{path:e}=v();if(Object(o.y)(e)&&n.a.hqHomeToOtherHome)return!0}}function _(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}function O(){return d("isWxProxyDone")}function S(){return d("isProxyUpdateKdtId")}function P(){return(Object(o.r)(o.a.HOME)||{}).kdtId}function w(){return P()&&!d("isWxProxyDone")}},wfgx:function(e,t,r){var n=r("OPDa");t.a=n.a},xKNE:function(e,t,r){var n=r("FEiO");e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},xPnu:function(e,t,r){var n=r("zcvR");e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},xW8c:function(e,t,r){r.d(t,"a",function(){return s});var n=r("Tewj"),a=r("b1kB"),o=r.n(a),i=r("3uds");class s{constructor(e){this.ctx=e.ctx,this.widget=o.a;var t="currentPageKey"+Math.round(1e3*Math.random());this.ctx.currentPageKey=t}onPullDownRefresh(){n.default.trigger(i.d)}onReachBottom(){n.default.trigger(i.e)}onPageShow(){n.default.trigger(""+i.c+this.ctx.currentPageKey)}onPageHide(){n.default.trigger(""+i.b+this.ctx.currentPageKey)}}s.widgets={ShowcaseContainer:o()}},xkFB:function(e,t,r){var n=r("CzB4"),a=r("WjON"),o=r("aBIM"),i=r("yVxb"),s=r("xPnu");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},y8O9:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((n=r("NWgQ"))&&n.__esModule?n:{default:n}).default;t.default=a,e.exports=t.default},"yDO/":function(e,t,r){r.d(t,"f",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"h",function(){return i}),r.d(t,"i",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"g",function(){return d}),r.d(t,"e",function(){return l});var n={ONE:"one",TWO:"two",THREE:"three",SWIPE:"swipe",HYBRID:"hybrid"},a={UP:"up",SWIPE:"swipe"},o={CARD:"card",SHADOW:"shwdow",BORDER:"border",SIMPLE:"simple",PROMOTION:"promotion",WATERFALL:"waterfall"},i=12,s=2,c={manual:"1",auto:"0"},u={manual:1,auto:0},d={OFF:"0",ON:"1"},l={NORMAL:0,LUCKY:1,OLD_NEW:2,LADDER:3}},yVxb:function(e,t,r){var n=r("zcvR");e.exports=function(e){return n(this,e).has(e)}},yq5R:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scene;t&&"string"==typeof t&&(t=(t=decodeURIComponent(t).split("&")).reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.split("=");return e[r[0]]=r[1],e},{}),e=Object.assign(e,t));return e},e.exports=t.default},z16c:function(e,t,r){r.d(t,"a",function(){return s});var n=r("u8kV"),a=r("8B9M"),o=r("qako"),i=Behavior({methods:{getYunSdk:()=>Object(a.a)().getYouZanYunSdk(),onAsync(e,t,r){var n=Object(a.a)();r=r||this||{},o.a.onAsync.apply(n,[e,t,r])},offAsync(e,t,r){o.a.offAsync.apply(Object(a.a)(),[e,t,r||this||{}])},triggerAsync(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.a.triggerAsync.apply(Object(a.a)(),t)}}});function s(e){return void 0===e&&(e={}),e.behaviors=e.behaviors||[],e.behaviors.push(i),Object(n.b)(e)}},z1RG:function(e,t,r){var n={__stickyControlMap:{},__stickySubscribe:[],__stickyCheckList:[],getHasStickyTop(e){var t=0,{__stickyControlMap:r={}}=this;for(var n in r)n!==e&&(t+=+r[n].height);return t},setStickyControlCheckItem(e,t,r){void 0===t&&(t=0);var{__stickyCheckList:n=[]}=this,a=n.findIndex(t=>t.key===e);a<0&&(n.push({key:e,weight:t}),this.__stickyCheckList=n),a>-1&&r&&(n[a]={key:e,weight:t},this.__stickyCheckList=n)},getFilterStickyCheckList(e,t,r){var n=e.find(e=>e.key===t)||{weight:0};return r?e.filter(e=>e.weight>n.weight):e.filter(e=>e.weight<n.weight)},checkStickyControlItem(e){var{__stickyCheckList:t=[]}=this;return this.getFilterStickyCheckList(t,e,!0).reduce((e,t)=>{var{key:r}=t,n=this.hasStickyControlItem(r);return e&&n},!0)},clearCheckWeightStickyControlItem(e){var{__stickyCheckList:t=[],__stickyControlMap:r={}}=this;this.getFilterStickyCheckList(t,e,!1).forEach(e=>{delete r[e.key]}),this.__stickyControlMap=r},hasStickyControlItem(e){var{__stickyControlMap:t}=this;return Object.prototype.hasOwnProperty.call(t,e)},setStickyControlItemHeight(e,t){this.__stickyControlMap[e].height=t},setStickyControlItem(e,t,r){this.clearCheckWeightStickyControlItem(e);var{__stickyControlMap:n={}}=this;if(r){var a={height:t,positionTop:this.getHasStickyTop(e),nextTop:this.getHasStickyTop(e)+t};this.hasStickyControlItem(e)||(n[e]=a,this.setStickyControlItemSubscribe())}else this.hasStickyControlItem(e)&&(delete n[e],this.setStickyControlItemSubscribe());this.__stickyControlMap=n},setStickyControlItemSubscribe(){var{__stickySubscribe:e}=this;e.forEach(e=>{e.fn.call(e.ctx,{type:"setItem"})})},getStickyControlItem(e){return this.__stickyControlMap[e]},getStickyControlNextTop(e){var{__stickyCheckList:t=[],__stickyControlMap:r={}}=this;return this.getFilterStickyCheckList(t,e,!0).reduce((e,t)=>{var{key:n}=t;return e+(r[n]||{height:0}).height},0)},setStickyControlSubscribe(e,t,r){var{__stickySubscribe:n=[]}=this;n.findIndex(e=>e.type===r)<0&&(n.push({type:r,ctx:t,fn:e}),this.__stickySubscribe=n)},delStickyControlSubscribe(e){var{__stickySubscribe:t=[]}=this,r=t.findIndex(t=>t.type===e);r>-1&&(t.splice(r,1),this.__stickySubscribe=t)},publicStickyControlSubscribe(e,t,r){var{__stickySubscribe:n=[],__stickyControlMap:a={}}=this,{positionTop:o}=a[e];n.forEach(n=>{var{type:i}=n;if(i!=e&&this.hasStickyControlItem(i)){var{positionTop:s}=a[i],c=s+(t?r:0);s>=o&&n.fn.call(n.ctx,{type:"stickyTop",stickyTop:c})}})},getStickyControl(){return{__stickyControlMap:this.__stickyControlMap,__stickySubscribe:this.__stickySubscribe,__stickyCheckList:this.__stickyCheckList}},setStickyControl(e){this.__stickyControlMap=e.__stickyControlMap,this.__stickySubscribe=e.__stickySubscribe,this.__stickyCheckList=e.__stickyCheckList},releaseStickyControl(){this.__stickyControlMap={},this.__stickySubscribe=[],this.__stickyCheckList=[]},releaseStickyControlMap(){this.__stickyControlMap={}}};t.a=n},z24M:function(e,t,r){r.d(t,"a",function(){return o});var n=r("x5Yp"),a={};function o(e){try{return Object(n.a)(a)&&wx.getExtConfigSync&&(a=wx.getExtConfigSync()),e?a[e]:a}catch(e){return{}}}},z2TJ:function(e,t,r){function n(e,t){try{if(e===t||!e||!t)return 0;for(var r=e.split("."),n=t.split("."),a=r.length,o=n.length,i=0,s=Math.min(a,o);i<s;i++){var c=parseInt(r[i],10),u=parseInt(n[i],10);if(isNaN(c)&&(c=0),isNaN(u)&&(u=0),c!==u)return c>u?1:-1}return a>o?1:a<o?-1:0}catch(e){return-1}}r.d(t,"a",function(){return n})},zHBu:function(e,t,r){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1;}return 0!==e}},zc1V:function(e,t,r){var n,a=r("d6Vr"),o=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},zcvR:function(e,t,r){var n=r("7o+A");e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},zjWU:function(e,t,r){r.d(t,"b",function(){return a});r("mK0O");var n,a,o=r("Pv5g");n=o.a,a=o.b,Object.assign(a,{cart_page:"购物车页面渲染流程",trade_buy_page:"下单页渲染流程",sku_buy:"SKU 立即购买流程",sku_cart:"SKU 加购流程"});var i=n({appName:"wsc",logIndex:"new_wsc_weapp_log"});t.a=i},znO2:function(e,t){e.exports={d:"payChannels;2;payWaysData;2;env;4;goods;4;goodsPriceInfo;4;shopConfig;4;payWays;4;goodsBaseInfo;4;umpActivity;4;goodsActivity;4;kdtId;4;buyerId;4;supportSkuDirectOrder;4;preferredPayChannel;6;themeVars;4",e:"showNearSku;sku:installment",el:"goodsSetupReady;payWaysData:update",w:"Widget",wd:"Widget",lc:"checkIsNeedSyncOrderScene"}}};