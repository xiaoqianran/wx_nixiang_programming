var a=getApp();Page({data:{imgUrl:a.globalData.imgUrl,apiUrl:a.globalData.apiUrl,wxToken:a.globalData.wxToken,popShow:!1,allZdData:[],competitionID:"",teamId:"",teamName:"",teamIc:"",teamRemark:"",mebData:[]},onLoad:function(t){var e=this;this.setData({wxToken:a.globalData.wxToken,competitionID:t.comId}),this.data.wxToken?this.getData():a.initOkCallback=function(t){e.setData({wxToken:a.globalData.wxToken}),e.getData()}},handlerGobackClick:function(t){getCurrentPages().length>=2?wx.navigateBack({delta:t}):wx.redirectTo({url:a.globalData.pageIndex})},handlerGohomeClick:function(){wx.redirectTo({url:a.globalData.pageIndex})},getData:function(){this.getAllZd()},getAllZd:function(){var a=this;wx.request({url:this.data.apiUrl+"/w/epro/team/event/"+this.data.competitionID,data:{wxToken:a.data.wxToken},success:function(t){console.log("NowZd:",t);var e=t.data.data;a.setData({allZdData:e})}})},teamShow:function(a){var t=this;wx.request({url:this.data.apiUrl+"/w/epro/idvPlayers/team/"+a.currentTarget.dataset.id,data:{wxToken:t.data.wxToken},success:function(a){console.log("teamShow:",a),t.setData({mebData:a.data.data.items})}}),t.setData({popShow:!0,teamId:a.currentTarget.dataset.id,teamName:a.currentTarget.dataset.name,teamIc:a.currentTarget.dataset.ic,teamRemark:a.currentTarget.dataset.remark})},hidePop:function(){this.setData({popShow:!1})}});