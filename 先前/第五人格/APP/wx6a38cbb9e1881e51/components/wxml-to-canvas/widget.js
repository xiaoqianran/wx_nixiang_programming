var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Objectvalues");var t=e(require("../../@babel/runtime/helpers/createClass")),r=e(require("../../@babel/runtime/helpers/classCallCheck")),i=e(require("../../@babel/runtime/helpers/possibleConstructorReturn")),n=e(require("../../@babel/runtime/helpers/getPrototypeOf")),u=e(require("../../@babel/runtime/helpers/inherits"));function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var l=require("widget-ui"),s=require("./utils").splitLineToCamelCase,c=function(e){(0,u.default)(s,e);var t,l=(t=s,function(){var e,r=(0,n.default)(t);if(a()){var u=(0,n.default)(this).constructor;e=Reflect.construct(r,arguments,u)}else e=r.apply(this,arguments);return(0,i.default)(this,e)});function s(e){var t;return(0,r.default)(this,s),(t=l.call(this,e.style)).name=e.name,t.attributes=e.attributes,t}return s}(l),o=function(){function e(t,i){(0,r.default)(this,e),this.xom=t,this.style=i,this.inheritProps=["fontSize","lineHeight","textAlign","verticalAlign","color"]}return(0,t.default)(e,[{key:"init",value:function(){return this.container=this.create(this.xom),this.container.layout(),this.inheritStyle(this.container),this.container}},{key:"inheritStyle",value:function(e){var t=this,r=e.parent||null,i=e.children||{},n=e.computedStyle;r&&this.inheritProps.forEach((function(e){n[e]=n[e]||r.computedStyle[e]})),Object.values(i).forEach((function(e){t.inheritStyle(e)}))}},{key:"create",value:function(e){var t=this,r=(e.attributes.class||"").split(" ");r=r.map((function(e){return s(e.trim())}));var i={};r.forEach((function(e){Object.assign(i,t.style[e]||{})}));for(var n={name:e.name,style:i},u={},a=0,l=Object.keys(e.attributes);a<l.length;a++){var o=l[a],f=e.attributes[o],h=s(o);u[h]=""===f||"true"===f||"false"!==f&&f}u.text=e.content,n.attributes=u;var b=new c(n);return e.children.forEach((function(e){var r=t.create(e);b.add(r)})),b}}]),e}();module.exports={Widget:o};