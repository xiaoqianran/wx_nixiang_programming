var t=require("../../@babel/runtime/helpers/interopRequireDefault"),e=require("../../@babel/runtime/helpers/objectSpread2"),a=t(require("../../utils/systemInfo.js")),i=require("../../utils/utils");Component({properties:{title:{type:String,value:"",observer:function(t){this.setData({title:t})}},titleStyle:{type:Object,observer:function(t){this.setTitleStyle(t)}},backCount:{type:Number,observer:function(t){this.backCount=t}},bgc:{type:Object,observer:function(t){this.setBgc(t)}},pageState:{type:String,observer:function(t){this.setData({pageState:t})}}},data:{statusBarHeight:60,fontsize:16,backgroundColor:"#fff",title:"",totalTopHeight:80,isIOS:a.default.globalData.isIOS},lifetimes:{attached:function(){this.calcHeader()}},methods:{calcHeader:function(){var t=null,e=null,o=null,r=wx.getSystemInfoSync().SDKVersion;if((0,i.compareVersion)(r,"2.15.0")<0)t=a.default.globalData.statusBarHeight,e=a.default.globalData.titleBarHeight,o=a.default.globalData.totalTopHeight;else{var l=wx.getMenuButtonBoundingClientRect();l&&(t=a.default.globalData.statusBarHeight,e=l.height+8,o=l.bottom+8)}this.triggerEvent("totalBarHeight",o);var s={statusBarHeight:t,titleBarHeight:e,totalTopHeight:o};this.setData(s),this.setTitleStyle(),this.setBgc()},setTitleStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wx.setNavigationBarColor(e({frontColor:"#000000",backgroundColor:"#ffffff"},t))},setBgc:function(t){wx.setBackgroundColor(e({backgroundColorTop:"#ffffff",backgroundColorBottom:"#ffffff"},t))},navigatorBack:function(){var t=this.data.title;"驾车路线详情"===t||"步行路线详情"===t?(this.triggerEvent("routeDetailVisible",!1),this.setData({title:"路线规划"})):"公交详情"===t&&"lineDetail"===this.data.pageState?this.triggerEvent("pageState","mapView"):wx.navigateBack({delta:this.backCount||1})}}});