var t=require("../../common/vendor.js"),e=require("../../config/config.js"),s={data:function(){return{getChooseWeek:getApp().globalData.nowWeek,allWeek:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],nowWeek:getApp().globalData.nowWeek,allCampus:["佛山校区","广州校区"],nowCampus:getApp().globalData.xq.name,nowCampusValue:getApp().globalData.xq.value,allBuildings:["励学楼","笃行楼","拓新楼"],allBuildingsFS:["励学楼(一教)","笃行楼(二教)","拓新楼(实验楼)"],allBuildingsGZ:["博学楼(一教)","致学楼(二教)","乐学楼(三教)","勤学楼(综合楼)","实验楼","善学楼(第二综合楼)","敏学楼(经管实验楼)"],nowBuilding:"励学楼",nowBuildingValue:1,allWeekNum:["周一","周二","周三","周四","周五","周六","周日"],nowDay:getApp().getweekday(getApp().getDate(1),1),nowDayValue:getApp().getweekday(getApp().getDate(1),2),emptyClassroomsInfo:{}}},onLoad:function(){this.chooseCampus({target:{value:this.nowCampusValue}}),this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue)},onShow:function(){},methods:{getEmptyClassrooms:function(s,o,n){var i=this;s=s.substring(0,3),t.index.showLoading({title:"获取中"}),t.index.request({url:e.config.getEmptyClassroomsByQueryUrl,method:"GET",data:{building:s,week:o,day:n},header:{token:getApp().globalData.token},success:function(e){"0"==e.data.code?(i.emptyClassroomsInfo=e.data.data,t.index.hideLoading()):(t.index.hideLoading(),t.index.showToast({title:"错误码"+e.data.message,icon:"error"}))},fail:function(e){t.index.hideLoading(),t.index.showToast({title:"请检查网络连接",icon:"error"})}})},chooseBuildings:function(t){this.nowBuilding=this.allBuildings[t.target.value],this.nowBuildingValue=parseInt(t.target.value),this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue)},chooseCampus:function(t){return this.nowCampus=this.allCampus[t.target.value],this.nowCampusValue=parseInt(t.target.value),"佛山校区"==this.nowCampus?(this.nowBuilding=this.allBuildingsFS[0],this.nowBuildingValue=0,this.allBuildings=this.allBuildingsFS,this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue),this.allBuildingsFS):(this.nowBuilding=this.allBuildingsGZ[0],this.nowBuildingValue=0,this.allBuildings=this.allBuildingsGZ,this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue),this.allBuildingsGZ)},chooseWeekNum:function(t){this.nowDay=this.allWeekNum[t.target.value],this.nowDayValue=parseInt(t.target.value)+1,this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue)},chooseWeek:function(t){this.nowWeek=this.allWeek[t.target.value],this.getEmptyClassrooms(this.nowBuilding,this.nowWeek,this.nowDayValue)},getStatus:function(t){return t?"statusGreen":"statusRed"},getAllBuildings:function(){return"佛山校区"==this.nowCampus?(this.allBuildings=this.allBuildingsFS,this.allBuildingsFS):(this.allBuildings=this.allBuildingsGZ,this.allBuildingsGZ)}}};Array||t.resolveComponent("uni-card")(),Math;var o=t._export_sfc(s,[["render",function(e,s,o,n,i,a){return{a:t.t(e.nowCampus),b:t.o((function(){return e.chooseCampus&&e.chooseCampus.apply(e,arguments)})),c:e.allCampus,d:e.nowCampusValue,e:t.t(e.nowBuilding),f:t.o((function(){return e.chooseBuildings&&e.chooseBuildings.apply(e,arguments)})),g:e.getAllBuildings(),h:e.nowBuildingsValue,i:t.t(e.nowWeek),j:t.o((function(){return e.chooseWeek&&e.chooseWeek.apply(e,arguments)})),k:e.allWeek,l:e.nowWeekValue,m:t.t(e.nowDay),n:t.o((function(){return e.chooseWeekNum&&e.chooseWeekNum.apply(e,arguments)})),o:e.allWeekNum,p:e.nowDayValuee-1,q:t.f(e.emptyClassroomsInfo,(function(s,o,n){return t.e({a:o%2==0},o%2==0?{b:t.t(s)}:{},{c:o%2==0},o%2==0?{d:t.t(e.emptyClassroomsInfo[o+1][0]?"✓":"×"),e:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][0])),f:t.t(e.emptyClassroomsInfo[o+1][1]?"✓":"×"),g:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][1])),h:t.t(e.emptyClassroomsInfo[o+1][2]?"✓":"×"),i:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][2])),j:t.t(e.emptyClassroomsInfo[o+1][3]?"✓":"×"),k:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][3])),l:t.t(e.emptyClassroomsInfo[o+1][4]?"✓":"×"),m:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][4])),n:t.t(e.emptyClassroomsInfo[o+1][5]?"✓":"×"),o:t.n(e.getStatus(e.emptyClassroomsInfo[o+1][5]))}:{},{p:o})})),r:t.p({"is-full":!0})}}]]);wx.createPage(o);