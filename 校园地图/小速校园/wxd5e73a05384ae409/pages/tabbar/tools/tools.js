var e=require("../../../common/vendor.js"),n=require("../../../config/config.js"),t={data:function(){return{notice:getApp().globalData.notice,loadingShow:!0,concatUri:n.config.concatUri,discount:[{title:"美团外卖",type:0,imgUri:"images/tools/discount/meituan.png",url:"",appId:"wxde8ac0a21135c07d",path:"index/pages/h5/h5?f_token=0&weburl=https%3A%2F%2Fclick.meituan.com%2Ft%3Ft%3D1%26c%3D2%26p%3DzyMpdb5zGaeN&f_openId=0&noshare=1&f_userId=0",envVersion:"release"},{title:"饿了么",type:0,imgUri:"images/tools/discount/eleme.png",url:"",appId:"wxece3a9a4c82f58c9",path:"commercialize/pages/taoke-guide/index?scene=57423b8536f743429c1a1f71685dd71c",envVersion:"release"}]}},onShow:function(){this.getDiscount()},onLoad:function(){e.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],success:function(e){}})},onShareAppMessage:function(e){return e.from,{title:"小速校园小程序",path:"/pages/tabbar/plan/plan",mpId:"wxd5e73a05384ae409"}},onShareTimeline:function(e){return{title:"“小速校园”校园小程序",type:0,summary:"“小速校园”校园小程序入驻广财啦！"}},methods:{countDiscountClick:function(t){e.index.request({url:n.config.countDiscountClickUrl+"?id="+t,method:"PUT",success:function(e){},fail:function(e){}})},getNoticeColorClass:function(e){return"重要"==e.context?"item_box_red":"item_box"},gonavigateTo:function(n){4==n?e.index.navigateTo({url:"/pages/emptyClassrooms/emptyClassrooms"}):getApp().globalData.isLogin?1==n?e.index.navigateTo({url:"/pages/scores/scores"}):2==n?e.index.navigateTo({url:"/pages/secondClass/secondClass"}):3==n?e.index.navigateTo({url:"/pages/schoolCalendar/schoolCalendar"}):4==n?e.index.navigateTo({url:"/pages/emptyClassrooms/emptyClassrooms"}):5==n?e.index.navigateTo({url:"/pages/addressList/addressList"}):6==n?e.index.navigateTo({url:"/pages/exam/exam"}):7==n?e.index.navigateTo({url:"/pages/secondHandAndRunner/secondHand"}):8==n?e.index.navigateTo({url:"/pages/secondHandAndRunner/runner"}):9==n?e.index.navigateTo({url:"/pages/bookSearch/bookSearch"}):10==n?e.index.navigateTo({url:"/pages/checkCredit/checkCredit"}):11==n?e.index.navigateTo({url:"/pages/rubLesson/rubLesson"}):12==n&&e.index.navigateTo({url:"/pages/secondClass/activity/activity"}):e.index.showModal({title:"请先登录！",confirmText:"去登录",cancelText:"取消",success:function(n){n.confirm&&e.index.navigateTo({url:"/pages/login/login"})}})},getDiscount:function(){var t=this;e.index.request({method:"GET",url:n.config.getDiscountUrl,success:function(e){if("0"==e.data.code){if(0==e.data.data.length)return;t.discount=e.data.data}}})},navigateDiscount:function(n){switch(this.countDiscountClick(n.id),n.type){case 0:e.index.navigateToMiniProgram({appId:n.appId,path:n.path,envVersion:n.envVersion,success:function(e){},fail:function(e){}});break;case 1:e.index.navigateTo({url:"/pages/webViewPage/webViewPage?url="+n.url});break;case 2:e.index.navigateTo({url:n.url})}},getWarning:function(){}}},o=e._export_sfc(t,[["render",function(n,t,o,a,i,r){return{a:e.f(n.notice,(function(t,o,a){return{a:e.t(t.title),b:e.n(n.getNoticeColorClass(t)),c:e.o((function(e){return n.click(t.id)}),o),d:o}})),b:e.o((function(e){return n.gonavigateTo(1)})),c:e.o((function(e){return n.gonavigateTo(2)})),d:e.o((function(e){return n.gonavigateTo(3)})),e:e.o((function(e){return n.gonavigateTo(4)})),f:e.o((function(e){return n.gonavigateTo(5)})),g:e.o((function(e){return n.gonavigateTo(6)})),h:e.o((function(e){return n.gonavigateTo(11)})),i:e.o((function(e){return n.gonavigateTo(9)})),j:e.o((function(e){return n.gonavigateTo(10)})),k:e.o((function(e){return n.gonavigateTo(12)})),l:e.f(n.discount,(function(t,o,a){return{a:n.concatUri+t.imgUri,b:o,c:e.o((function(e){return n.navigateDiscount(t)}),o)}}))}}]]);wx.createPage(o);