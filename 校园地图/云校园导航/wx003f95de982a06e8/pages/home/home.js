var o=require("../../utils/media"),t=require("../../utils/map"),n=require("../../utils/school"),a=require("../../utils/utils");Page({data:{miniprogram_name:a.miniprogram_name,school_information:n.school_information,AppID:n.AppID,laba:o.laba,school_logo:o.school_logo,function_buttons:o.function_buttons,school_icon:o.school_icon,book:o.book,money:o.money,wave:o.wave,label:o.label,magazine:o.magazine,school:o.school,information:o.information,notes:o.notes,admin:o.admin,contact:o.contact,guanwei:o.guanwei,weather:o.weather,APIKEY:a.weatherKey,school_location:parseFloat(t.longitude).toFixed(2)+","+parseFloat(t.latitude).toFixed(2),background:o.swiper_background,indicatorDots:!0,indicatorColor:"white",activeColor:"#2adce2",autoplay:!0,circular:!0,interval:3500,duration:1500,windowWidth:400,dialogShow:!1,buttons:[{text:"关闭"}]},showv:function(){wx.showModal({title:"欢迎沈工大2024级萌新",content:"沈工大校园导航由沈工大社团[帮你个忙]公益开发!为了方便新生入学前或者入学后了解工大校园,我们特意开发了本导航供你浏览.在线实时解答工大问题可加微信(微信号_BNGM_)或者13124267416!",complete:function(o){o.cancel,o.confirm}})},onLoad:function(o){this.showv(),this.getWeather();var t=this;wx.getSystemInfo({success:function(o){t.setData({windowWidth:o.windowWidth})}})},onReady:function(){},onShow:function(){},onShareAppMessage:function(){},onShareTimeline:function(o){return{title:"沈工大电子导航"}},imgHeight:function(o){var t=wx.getSystemInfoSync().windowWidth*o.detail.height/o.detail.width+"px";this.setData({Height:t})},toschool:function(){wx.previewImage({current:this.data.guanwei[0],urls:this.data.guanwei})},tolibrary:function(){wx.previewImage({current:this.data.guanwei[1],urls:this.data.guanwei})},tofinance:function(){wx.previewImage({current:this.data.guanwei[2],urls:this.data.guanwei})},toMiniProgram:function(){wx.navigateToMiniProgram({appId:this.data.AppID,success:function(o){},fail:function(o){}})},getWeather:function(){var o=this;wx.request({url:"https://devapi.qweather.com/v7/weather/now?key="+o.data.APIKEY+"&location="+o.data.school_location,success:function(t){var n=t.data;o.setData({now:n.now})}})},lookPhoto:function(o){console.log("点击了图片",o.target.dataset.src);var t=o.target.dataset.src;wx.previewImage({current:t,urls:this.data.background})},map:function(){wx.switchTab({url:"../map/map"})},school:function(){wx.switchTab({url:"../school/school"})},site:function(){wx.switchTab({url:"../site/site"})},link:function(){this.setData({dialogShow:!0})},mapmarker:function(o){this.setData({dialogShow:!1})},tointroduction:function(){wx.navigateTo({url:"../../pages/home/introduction/introduction"})},adLoad:function(){console.log("Banner 广告加载成功")},adError:function(o){console.error("Banner 广告加载失败",o)},adClose:function(){console.log("Banner 广告关闭")}});