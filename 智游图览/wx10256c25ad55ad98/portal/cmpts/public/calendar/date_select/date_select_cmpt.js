var e=require("../../../../../@babel/runtime/helpers/defineProperty"),t=(require("../../../../helper/data_helper.js"),require("../../../../helper/page_helper.js")),i=require("../../../../helper/time_helper.js");Component({options:{addGlobalClass:!0},properties:{start:{type:String,value:""},end:{type:String,value:""},selected:{type:String,observer:function(e,t){if(e!=t){var a=i.timestamp2Time(i.time2Timestamp(e),"Y年M月");this.setData({month:a})}}},toView:{type:String,val:""}},data:{range:[],month:""},lifetimes:{attached:function(){},ready:function(){this.data.selected?this.setData({toView:"day-"+this.data.selected}):this.setData({selected:i.time("Y-M-D")}),this.init()},detached:function(){}},methods:e({init:function(){var e=this.data.start,t=this.data.end;e||(e=i.time("Y-M-D")),t||(t=i.time("Y-M-D",1296e3));for(var a=[],s=i.time2Timestamp(e),r=i.time2Timestamp(t),n=s;n<=r;){var m=i.timestamp2Time(n,"Y-M-D"),h=i.timestamp2Time(n,"Y年M月"),o={day:m,show:this._fmtShow(m),week:this._fmtWeek(m),month:h};a.push(o),n+=864e5}this.setData({range:a})},bindTap:function(e){},_fmtShow:function(e){return e.split("-")[2]},_fmtWeek:function(e){return e==i.time("Y-M-D")?"今天":e=(e=i.week(e)).replace("周","")}},"bindTap",(function(e){var i=t.dataset(e,"day"),a=t.dataset(e,"month");this.setData({selected:i,month:a}),this.triggerEvent("select",i)}))});