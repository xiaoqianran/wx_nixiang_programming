var e=require("../../@babel/runtime/helpers/defineProperty");require("../../@babel/runtime/helpers/Arrayincludes");var r=require("./page_helper.js");function t(e){return void 0!==e}function n(e){return null==e||i(e)==String&&""===e}function a(e){if(null==e)return!0;var r=i(e);return r==String&&""===e||r==Array&&0==e.length}function i(e){return null==e?e:e.constructor}function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(i(e)){case Object:if("{}"==JSON.stringify(e))return r+"不能为空obj";break;case Array:if(0==e.length)return r+"不能为空arr";break;case String:if(0==e.length)return r+"不能为空";break;case null:case void 0:return r+"不能为空"}}function u(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!a(e))switch(r=Number(r),i(e)){case Array:if(e.length<r)return t+"不能少于"+r+"项";break;case String:if(e.length<r)return t+"不能少于"+r+"位";break;case Number:if(e<r)return t+"不能小于"+r}}function o(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!a(e))switch(r=Number(r),i(e)){case Array:if(e.length>r)return t+"不能多于"+r+"项";break;case String:if(e.length>r)return t+"不能多于"+r+"位";break;case Number:if(e>r)return t+"不能大于"+r}}function s(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!a(e))switch(r=Number(r),i(e)){case Array:if(e.length!=r)return t+"必须为"+r+"项";break;case String:if(e.length!=r)return t+"必须为"+r+"位"}}function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/(^1[1|2|3|4|5|6|7|8|9][0-9]{9}$)/.test(e)?void 0:r+"格式不正确"}function f(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/^[0-9]+$/.test(e)?void 0:r+"必须为数字"}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/^\d+(\.\d+)?$/.test(e)?void 0:r+"必须为数字或小数"}function h(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/^[A-Za-z]+$/.test(e)?void 0:r+"必须为字母"}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(e)?void 0:r+"必须为金额格式，例如2.00"}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e))return/^\w+$/.test(e)?void 0:r+"必须为字母，数字和下划线"}function g(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;if(!n(e))return t=Number(t),a=Number(a),i(e)!=String?r+"必须为ID字符串格式":e.length<t||e.length>a?r+"必须为ID格式":void 0}function k(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t=/^[A-Za-z0-9+]+[A-Za-z0-9\.\_\-+]*@([A-Za-z0-9\-]+\.)+[A-Za-z0-9]+$/;return t.test(e)?void 0:r+"必须为邮箱格式"}}function m(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t="请选择"+r;if(10!=e.length)return t;var a=e.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);if(null==a)return t;var i=new Date(a[1],a[3]-1,a[4]),c=i.getFullYear()==a[1]&&i.getMonth()+1==a[3]&&i.getDate()==a[4];return c?void 0:t}}function y(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t="请选择"+r;return 4!=e.length?t:m(e+="-01-01",r)}}function A(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t="请选择"+r;return 7!=e.length?t:m(e+="-01",r)}}function N(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t=r+"必须为时间格式";if(8!=e.length)return t;var a=e.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/);return null==a||a[1]>23||a[3]>59||a[4]>59?t:void 0}}function S(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t=r+"必须为时分时间格式";return 5!=e.length?t:N(e+=":01",r)}}function j(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n(e)){var t=r+"必须为完整时间格式";if(19!=e.length)return t;var a=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,i=e.match(a);if(null==i)return t;var c=new Date(i[1],i[3]-1,i[4],i[5],i[6],i[7]),u=c.getFullYear()==i[1]&&c.getMonth()+1==i[3]&&c.getDate()==i[4]&&c.getHours()==i[5]&&c.getMinutes()==i[6]&&c.getSeconds()==i[7];return u?void 0:t}}function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Array.isArray(e))return r+"填写错误arr"}function w(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.constructor!=Object)return r+"填写错误obj"}function O(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.constructor!=Boolean)return r+"填写错误bool"}function $(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!n(e)){var a=i(e);if(a!=String&&a!=Number)return t+"填写范围错误";var c=String(r).split(",");return c.includes(e)||c.includes(e+"")?void 0:t+"填写范围错误"}}function D(e,r){if(e.constructor!=String)return r+"填写错误"}function M(t,n,a){wx.showModal({title:"温馨提示",content:t,showCancel:!1,success:function(i){a&&(r.anchor(n,a),a.setData(e({},n+"Focus",t)))}})}module.exports={check:function(r,n,a){var B={};for(var z in n){for(var F=n[z].split("|"),I=z,Z=void 0,x="String",J=0;J<F.length;J++)if(F[J].startsWith("name="))I="「"+F[J].replace("name=","")+"」";else if(F[J].startsWith("default="))Z=F[J].replace("default=","").trim();else switch(F[J].toLowerCase()){case"int":case"digit":x="Number";break;case"array":case"arr":x="Array";break;case"object":case"obj":x="Object";break;case"bool":case"boolean":x="Boolean"}var L=F[0],Y=r[L];switch(x){case"Array":if(void 0!==Z)try{if(i(Z=JSON.parse(Z))!=Array)return M(I+"默认值数组格式错误",L,a)}catch(e){return M(I+"默认值数组格式错误",L,a)}if(null==Y&&(Y=Z),void 0!==Y&&i(Y)!=Array)return M(I+"数组格式错误",L,a);break;case"Object":if(void 0!==Z)try{if(i(Z=JSON.parse(Z))!=Object)return M(I+"默认值对象格式错误",L,a)}catch(e){return M(I+"默认值对象格式错误",L,a)}if(null==Y&&(Y=Z),void 0!==Y&&i(Y)!=Object)return M(I+"对象格式错误",L,a);break;case"Boolean":if(void 0!==Z)try{if(i(Z=JSON.parse(Z))!=Boolean)return M(I+"默认值布尔格式错误",L,a)}catch(e){return M(I+"默认值布尔格式错误")}if(null==Y&&(Y=Z),void 0!==Y&&i(Y)!=Boolean)return M(I+"布尔格式错误",L,a);break;case"Number":if(v(Z,I+"默认值"))return M(I+"默认值格式错误",L,a);if(null==Y&&(Y=Z),void 0===Y)break;if(""===Y)return M(I+"不能为空",L,a);var q=i(Y);if(q==Object||q==Boolean||q==Array)return M(I+"必须为数字格式",L,a);var _=v(Y,I);if(_)return M(_,L,a);Y=Number(Y);break;case"String":var C=i(Y);if(C==Object||C==Boolean||C==Array)return M(I+"必须为字符串格式",L,a);if(null==Y&&(Y=Z),void 0===Y)break;try{Y=String(Y).trim()}catch(e){return M(I+"必须为字符串格式",L,a)}}B[z]=Y;for(var H=1;H<F.length;H++){var T="",W=F[H].split(":"),E=W[0];if("must"==E||void 0!==Y){switch(E){case"must":T=c(Y,I);break;case"str":case"string":T=D(Y,I);break;case"arr":case"array":T=p(Y,I);break;case"obj":case"object":T=w(Y,I);break;case"bool":case"boolean":T=O(Y,I);break;case"money":T=b(Y,I);break;case"year":T=y(Y,I);break;case"yearmonth":T=A(Y,I);break;case"date":T=m(Y,I);break;case"time":T=N(Y,I);break;case"hourminute":T=S(Y,I);break;case"datetime":T=j(Y,I);break;case"min":T=u(Y,Number(W[1]),I);break;case"max":T=o(Y,Number(W[1]),I);break;case"len":T=s(Y,Number(W[1]),I);break;case"in":T=$(Y,W[1],I);break;case"email":T=k(Y,I);break;case"mobile":T=l(Y,I);break;case"int":T=f(Y,I);break;case"digit":T=v(Y,I);break;case"id":T=g(Y,I);break;case"letter":T=h(Y,I);break;case"letter_num":T=d(Y,I)}if(T)return M(T,L,a),!1;a&&t(a.data[L+"Focus"])&&a.setData(e({},L+"Focus",!1))}}}return B},checkString:D,checkArray:p,checkObject:w,checkMoney:b,checkYear:y,checkYearMonth:A,checkDate:m,checkTime:N,checkHourMinute:S,checkDatimeTime:j,checkMin:u,checkMax:o,checkLen:s,checkIn:$,checkEmail:k,checkMobile:l,checkInt:f,checkDigit:v,checkId:g,checkLetter:h,checkLetterNum:d};