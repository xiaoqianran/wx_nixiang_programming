require("../../@babel/runtime/helpers/Arrayincludes");var e=require("./helper.js");function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-M-D h:m:s",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=["Y","M","D","h","m","s"],a=[],u=new Date(e+n);for(var s in a.push(u.getFullYear()),a.push(r(u.getMonth()+1)),a.push(r(u.getDate())),a.push(r(u.getHours())),a.push(r(u.getMinutes())),a.push(r(u.getSeconds())),a)t=t.replace(i[s],a[s]);return t}function r(e){return(e=e.toString())[1]?e:"0"+e}function n(e){if(e.length<10){var t=e.split("-");1==t[1].length&&(t[1]="0"+t[1]),1==t[2].length&&(t[2]="0"+t[2]),e=t[0]+"-"+t[1]+"-"+t[2]}return 10==e.length&&(e+=" 00:00:00"),new Date(e.replace(/-/g,"/")).getTime()}function i(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;if(e.isDefined(r)){var a=(new Date).getTime()+1e3*n;return t(a,r)}return(new Date).getTime()+1e3*i}module.exports={fmtDateCHN:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-M-D";if(!t)return"";if("hh:mm"==r&&t.includes(":")){t.includes(" ")&&(t=t.split(" ")[1]);var n=t.split(":");return Number(n[0])+"点"+n[1]+"分"}if("Y-M-D hh:mm"==r){var i=t.split(" ");return 2!=i.length?t:e(i[0],"Y-M-D")+e(i[1],"hh:mm")}if("M-D hh:mm"==r){var a=t.split(" ");return 2!=a.length?t:e(a[0],"M-D")+" "+e(a[1],"hh:mm")}t.includes(" ")&&(t=t.split(" ")[0]);var u=t.split("-");return"Y-M"==r?u[0]+"年"+Number(u[1])+"月":"M-D"==r?u[1]+"月"+Number(u[2])+"日":"Y"==r?u[0]+"年":u[0]+"年"+Number(u[1])+"月"+Number(u[2])+"日"},simpleDate:function(e){var t=e.split("-");if(t.length<3)return e;var r=t[1];0==r.indexOf("0")&&(r=r.replace("0",""));var n=t[2];return 0==n.indexOf("0")&&(n=n.replace("0","")),t[0]+"-"+r+"-"+n},getTimeLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e;String(e).includes("-")&&((e=String(e)).includes(":")||(e+=" 00:00:00"),r=new Date(e).getTime());var n=(new Date).getTime(),i=r-n,a=parseInt(i/864e5),u=parseInt(i%864e5/36e5),s=parseInt(i%36e5/6e4),g=parseInt(i%6e4/1e3);return[t*a,t*u,t*s,t*g]},getNowMinTimestamp:function(){var e=i("Y-M-D h:m")+":00";return{min:e,timestamp:n(e)}},getMonthFirstTimestamp:function(e){var t=new Date(e),r=t.getFullYear(),n=t.getMonth();return new Date(r,n,1).getTime()},getMonthLastTimestamp:function(e){var t=new Date(e),r=t.getFullYear(),n=t.getMonth();return new Date(r,n+1,1).getTime()-1},getDayFirstTimestamp:function(e){return e||(e=i()),n(t(e,"Y-M-D"))},timestamp2Time:t,timestame2Ago:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-M-D",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=6e4,a=60*i,u=24*a,s=7*u,g=30*u,l=(new Date).getTime(),m=l-e;if(!(m<0)){var p=m/i,h=m/a,o=m/u,D=m/s,f=m/g;return f>=1&&f<=3?" "+parseInt(f)+"月前":D>=1&&D<=3?" "+parseInt(D)+"周前":o>=1&&o<=6?" "+parseInt(o)+"天前":h>=1&&h<=23?" "+parseInt(h)+"小时前":p>=1&&p<=59?" "+parseInt(p)+"分钟前":m>=0&&m<=i?"刚刚":t(e,r,n)}},time2Timestamp:n,time:i,getAge:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="",n="",i=e.split("-"),a=i[0],u=i[1],s=i[2],g=new Date,l=g.getFullYear(),m=g.getMonth()+1,p=g.getDate();if(l==a){(D=m-u)<0||(n=D+"个月")}else{var h=l-a;if(h>0)if(m==u){var o=p-s;r=o<0?h-1+"岁":h+"岁"}else{var D;(D=m-u)<0?r=h-1+"岁":(n=D+"个月",r=h+"岁")}else r=-1}return t?r+n:r},week:function(e){var t=new Array;t=e.split("-");var r=new Date(t[0],parseInt(t[1]-1),t[2]);return"周"+String(r.getDay()).replace("0","日").replace("1","一").replace("2","二").replace("3","三").replace("4","四").replace("5","五").replace("6","六")},getFirstOfWeek:function(e){var r=new Date(e),n=r.getTime(),i=r.getDay();return 0==i&&(i=7),t(n-864e5*(i-1),"Y-M-D")},getLastOfWeek:function(e){var r=new Date(e),n=r.getTime(),i=r.getDay();return 0==i&&(i=7),t(n+864e5*(7-i),"Y-M-D")},getFirstOfMonth:function(e){var t=e.split("-");return t[0]+"-"+t[1]+"-01"},getLastOfMonth:function(e){var r=new Date(e),n=r.getFullYear(),i=r.getMonth();return t(new Date(n,i+1,0).getTime(),"Y-M-D")}};