var e,t,r,n=require("../../../../../../@babel/runtime/helpers/regeneratorRuntime"),i=require("../../../../../../@babel/runtime/helpers/asyncToGenerator"),a=require("../../../public/indexdata"),s=require("../../../../../../index"),o=require("../../../biz/project_biz.js"),u=require("../../../../../helper/page_helper.js"),c=require("../../../biz/album_biz.js"),p=getApp();Page({data:{mediaSrvUrl:(0,s.getServeUrl)(),rootScenicId:0},onLoad:(r=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.initPage(this),null!=p.indexData){e.next=4;break}return e.next=4,(0,a.initIndexData)(this.data.rootScenicId,!0);case 4:this._getSearchMenu(),t&&t.id?this.setData({_params:{sortType:"cateId",sortVal:t.id,sid:p.indexData.sid}}):this.setData({_params:{sortType:"cateId",sortVal:"",sid:p.indexData.sid}});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),onReady:function(){},onShow:(t=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),onHide:function(){},onUnload:function(){},url:(e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.url(t,this);case 1:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)}),bindCommListCmpt:function(e){u.commListListener(this,e)},onShareAppMessage:function(){},_getSearchMenu:function(){c.setCateTitle();var e=[{label:"全部",type:"cateId",value:""}],t=e=e.concat(c.getCateList());this.setData({sortItems:[],sortMenus:t})}});