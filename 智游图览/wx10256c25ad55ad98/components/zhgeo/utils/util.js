Object.defineProperty(exports,"__esModule",{value:!0}),exports.xy2latLng=exports.latLng2xy=exports.formatTime=exports.calcRotateAngle=void 0;var t=exports.formatTime=function(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=t.getHours(),c=t.getMinutes(),l=t.getSeconds();return"".concat([e,n,r].map(a).join("/")," ").concat([o,c,l].map(a).join(":"))},a=function(t){return(t=t.toString())[1]?t:"0".concat(t)},e=function(t,a){return Math.sqrt(t*t+a*a)},n=exports.latLng2xy=function(t,a,n,r,o,c,l,s,u,i){var x=Math.cos(i*Math.PI/180),g=(u-l)*x,M=i-s,h=(t-l)*x,p=a-s,m=o-n,f=c-r,d=(h*h+p*p)*(m*m+f*f)/(g*g+M*M),y=(g*h+p*M)*e(m,f)*Math.sqrt(d)/(e(g,M)*e(h,p)),v=Math.sqrt(Math.max(0,y*y*f*f-(m*m+f*f)*(y*y-d*m*m))),L=(y*f+v)/(m*m+f*f),q=(y*f-v)/(m*m+f*f),P=(y-L*f)/m+n,j=L+r,A=(y-q*f)/m+n,I=q+r,R=0,T=0;return((t-l)*(i-s)-(a-s)*(u-l))*((P-n)*(c-r)-(j-r)*(o-n))<0?(R=P,T=j):(R=A,T=I),{x:R,y:T}},r=exports.xy2latLng=function(t,a,n,r,o,c,l,s,u,i){var x=Math.cos(i*Math.PI/180),g=(u-l)*x,M=i-s,h=o-n,p=c-r,m=t-n,f=a-r,d=(m*m+f*f)*(g*g+M*M)/(h*h+p*p),y=(h*m+f*p)*e(g,M)*Math.sqrt(d)/(e(h,p)*e(m,f)),v=Math.sqrt(Math.max(0,y*y*M*M-(g*g+M*M)*(y*y-d*g*g))),L=(y*M+v)/(g*g+M*M),q=(y*M-v)/(g*g+M*M),P=(y-L*M)/g/x+l,j=L+s,A=(y-q*M)/g/x+l,I=q+s,R=0,T=0;return((t-n)*(c-r)-(a-r)*(o-n))*((P-l)*(i-s)-(j-s)*(u-l))<0?(R=P,T=j):(R=A,T=I),{lon:R,lat:T}},o=exports.calcRotateAngle=function(t,a,e){var n=t[0],r=t[1],o=e.longitude-a.longitude,c=-(e.latitude-a.latitude),l=n*o+r*c,s=n*c-r*o;return(Math.atan2(s,l)/Math.PI*180+360)%360};module.exports={formatTime:t,latLng2xy:n,xy2latLng:r,calcRotateAngle:o};