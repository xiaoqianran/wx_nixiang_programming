var t=wx.leaflet.L;t.TileLayer.TDMapTileLayer=t.TileLayer.extend({options:{minNativeZoom:0},initialize:function(i,e){t.TileLayer.prototype.initialize.call(this,i,e)},createTile:function(i,e){var o=t.TileLayer.prototype.createTile.call(this,i,e);return o._originalCoords=i,o._originalSrc=o.src,o},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:t},_addTile:function(i){var e=t.TileLayer.prototype._addTile.call(this,i),o=this.options,r=i.z;return void 0!==o.maxNativeZoom&&o.maxNativeZoom<r?this._tileOutError(e):e},_createCurrentCoords:function(t){var i=this._wrapCoords(t);return i.fallback=!0,i},_tileOutError:function(t){var i,e,o,r=this.options,a=t._originalCoords,n=t._currentCoords=t._currentCoords||this._createCurrentCoords(a),l=r.maxNativeZoom,s=Math.pow(2,a.z-r.maxNativeZoom),T=this.getTileSize();return n.z=l,n.x=Math.floor(n.x/s),n.y=Math.floor(n.y/s),i=this.getTileUrl(n),t.width=T.x*s+"px",t.height=T.y*s+"px",e=(a.y-n.y*s)*T.y,t.top=t.top-e,o=(a.x-n.x*s)*T.x,t.left=t.left-o,t.src=i,t},getTileUrl:function(i){var e={s:this._getSubdomain(i),x:i.x,y:i.y,z:i.z};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-i.y;this.options.tms&&(e.y=o),e["-y"]=o}return t.Util.template(this._url,t.extend(e,this.options))}}),t.tileLayer.tdMapTileLayer=function(i){var e;return null!==(e=i)&&void 0!==e||(i={}),i.subdomains=["0","1","2","3","4","5","6","7"],new t.TileLayer.TDMapTileLayer("http://t{s}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=56b81006f361f6406d0e940d2f89a39c",i)};