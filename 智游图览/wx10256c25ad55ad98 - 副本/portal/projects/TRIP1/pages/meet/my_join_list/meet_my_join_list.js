var e,t,n=require("../../../../../../@babel/runtime/helpers/regeneratorRuntime"),a=require("../../../../../../@babel/runtime/helpers/asyncToGenerator"),r=require("../../../../../helper/page_helper.js"),i=require("../../../../../helper/cloud_helper.js"),o=require("../../../biz/project_biz.js");Page({data:{isLogin:!0},onLoad:function(e){o.initPage(this),this._getSearchMenu()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},url:(t=a(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.url(t,this);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)}),bindCommListCmpt:function(e){r.commListListener(this,e)},_getSearchMenu:function(){var e=[[{label:"排序",type:"",value:""},{label:"按时间倒序",type:"timedesc",value:""},{label:"按时间正序",type:"timeasc",value:""}]];this.setData({sortItems:e,sortMenus:[{label:"全部",type:"",value:""},{label:"今日",type:"today",value:""},{label:"明日",type:"tomorrow",value:""},{label:"已预约",type:"succ",value:""},{label:"已取消",type:"cancel",value:""}]})},bindCancelTap:(e=a(n().mark((function e(t){var o,s=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){var e=a(n().mark((function e(){var a,o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dataset(t,"id"),e.prev=1,o={joinId:a},u={title:"取消中"},e.next=6,i.callCloudSumbit("meet/my_join_cancel",o,u).then((function(e){r.modifyListNode(a,s.data.dataList.list,"JOIN_STATUS",10,"_id"),s.setData({dataList:s.data.dataList}),r.showNoneToast("已取消")}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),r.showConfirm("确认取消该预约?",o);case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});