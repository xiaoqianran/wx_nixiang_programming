var e,t=require("../../../../../../@babel/runtime/helpers/regeneratorRuntime"),n=require("../../../../../../@babel/runtime/helpers/asyncToGenerator"),a=require("../../../../../../index"),r=require("../../../public/indexdata"),i=require("../../../../../helper/page_helper.js"),o=require("../../../biz/project_biz.js"),s=require("../../../../../helper/cloud_helper.js"),c=getApp();Page({data:{mediaSrvUrl:(0,a.getServeUrl)(),svsbgimg:null,svs:[],rootScenicId:0},onLoad:function(e){var a=this;return n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.initPage(a),null!=c.indexData){e.next=4;break}return e.next=4,(0,r.initIndexData)(a.data.rootScenicId,!0);case 4:a._reloadData();case 5:case"end":return e.stop()}}),e)})))()},_reloadData:function(){this._loadPublicService(),c.indexData&&c.indexData.index&&c.indexData.index.svsbgimg&&this.setData({svsbgimg:c.indexData.index.svsbgimg})},_loadPublicService:(e=n(t().mark((function e(){var n,a,r,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,a=c.indexData.sid){e.next=4;break}return e.abrupt("return");case 4:return r={sid:a},i={},e.next=9,s.callCloudData("publicsvs/list",r,i);case 9:(o=e.sent)&&n.setData({svs:o});case 11:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)}),onReady:function(){},onShow:function(){c.globalData.changeRootScenic.about_service&&(this.data.rootScenicId=c.globalData.changeRootScenic.sid,c.globalData.changeRootScenic.about_service=!1,this._reloadData())},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},url:function(e){i.url(e,this)}});