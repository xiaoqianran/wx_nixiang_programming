var e,t,a=require("../../../../@babel/runtime/helpers/regeneratorRuntime"),o=require("../../../../@babel/runtime/helpers/asyncToGenerator"),i=require("../../../../@babel/runtime/helpers/defineProperty"),r=require("../../../helper/page_helper"),n=require("../../public/poster/poster_cmpt_helper.js"),s=require("../../../comm/biz/fav_biz.js"),d=require("../../../comm/biz/foot_biz.js"),p=require("../../../../components/zhmap/const");Component({options:{addGlobalClass:!0},properties:i(i(i(i(i(i(i(i(i({mode:{type:String,value:"mode1"},oid:{type:String,value:""},favType:{type:Number,value:""},title:{type:String,value:""},cover:{type:String,value:""},desc:{type:String,value:"查看详情"},qr:{type:String,value:""},bg:{type:String,value:""},tag:{type:String,value:""},doFav:{type:Boolean,value:!0},doFoot:{type:Boolean,value:!0},doShare:{type:Boolean,value:!0},doHome:{type:Boolean,value:!0},doPoster:{type:Boolean,value:!0}},"doFoot",{type:Boolean,value:!0}),"doTop",{type:Boolean,value:!0}),"doSlot",{type:Boolean,value:!1}),"topBtnBottom",{type:Number,value:300}),"topBtnShow",{type:Boolean,value:!1}),"showMap",{type:Boolean,value:!1}),"mapOid",{type:String,value:""}),"mapMode",{type:String,value:p.MAP_MODE_SCENIC}),"mapModeType",{type:String,value:""}),data:{isFav:-1,showPoster:!1,posterConfig:null},lifetimes:{created:function(){},attached:function(){},ready:(t=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data.oid&&this.data.title){e.next=2;break}return e.abrupt("return");case 2:if(this.data.doFav&&s.isFav(this,this.data.oid,this.data.favType),this.data.doFoot&&d.addFoot(this.data.favType,this.data.title),!this.data.doShare){e.next=9;break}return e.next=7,n.config1({cover:this.data.cover,title:this.data.title,desc:this.data.desc,qr:this.data.qr,bg:this.data.bg});case 7:t=e.sent,this.setData({posterConfig:t});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)}),move:function(){},detached:function(){}},methods:{bindShareTap:function(){this.setData({showPoster:!0})},bindFavTap:(e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!=this.data.isFav){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.updateFav(this,this.data.oid,this.data.isFav,this.data.favType,this.data.title);case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)}),url:function(e){r.url(e,this)},bindHomeTap:function(e){var t=r.fmtURLByPID("/pages/default/index/default_index");wx.reLaunch({url:t})},bindMapTap:function(e){this.data.mapMode==p.MAP_MODE_SCENIC?this.pageRouter.navigateTo({url:"/pages/index/index?rootScenicId="+this.data.oid}):this.data.mapMode==p.MAP_MODE_POINTS&&this.pageRouter.navigateTo({url:"/pages/index/index?rootScenicId="+this.data.mapOid+"&mode="+this.data.mapMode+"&modeOid="+this.data.oid+"&modeType="+this.data.mapModeType})},top:function(e){r.top()}}});