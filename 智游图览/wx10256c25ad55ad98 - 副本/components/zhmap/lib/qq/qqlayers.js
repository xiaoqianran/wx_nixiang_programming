var t=wx.leaflet.L;t.TileLayer.TXMapTileLayer=t.TileLayer.extend({options:{minNativeZoom:0},initialize:function(i,e){t.TileLayer.prototype.initialize.call(this,i,e)},createTile:function(i,e){var o=t.TileLayer.prototype.createTile.call(this,i,e);return o._originalCoords=i,o._originalSrc=o.src,o},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:t},_addTile:function(i){var e=t.TileLayer.prototype._addTile.call(this,i),o=this.options,r=i.z;return void 0!==o.maxNativeZoom&&o.maxNativeZoom<r?this._tileOutError(e):e},_createCurrentCoords:function(t){var i=this._wrapCoords(t);return i.fallback=!0,i},_tileOutError:function(t){var i,e,o,r=this.options,a=t._originalCoords,n=t._currentCoords=t._currentCoords||this._createCurrentCoords(a),l=r.maxNativeZoom,s=Math.pow(2,a.z-r.maxNativeZoom),p=this.getTileSize();return n.z=l,n.x=Math.floor(n.x/s),n.y=Math.floor(n.y/s),i=this.getTileUrl(n),t.width=p.x*s+"px",t.height=p.y*s+"px",e=(a.y-n.y*s)*p.y,t.top=t.top-e,o=(a.x-n.x*s)*p.x,t.left=t.left-o,t.src=i,t},getTileUrl:function(i){var e=this.options.getUrlArgs;if(e)var o=e(i);else o={z:i.z,x:i.x,y:i.y,s:this._getSubdomain(i)};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=r),o["-y"]=r}return t.Util.template(this._url,t.extend(o,this.options))}}),t.tileLayer.txMapTileLayer=function(i,e){var o,r,a;return"Normal"==i?(a="http://rt1.map.gtimg.com/realtimerender/?z={z}&x={x}&y={y}&type=vector&style=1&v=1.1.1",r=function(t){return{z:t.z,x:t.x,y:Math.pow(2,t.z)-1-t.y}}):"Satellite"==i?(a="http://p3.map.gtimg.com/sateTiles/{z}/{x}/{y}/{G}_{H}.jpg?version=229",r=function(t){return{z:t.z,x:Math.floor(t.x/16),y:Math.floor((Math.pow(2,t.z)-1-t.y)/16),G:t.x,H:Math.pow(2,t.z)-1-t.y}}):"Landform"==i&&(a="http://rt1.map.gtimg.com/tile?z={z}&x={x}&y={y}&type=vector&styleid=3&version=263",r=function(t){return{z:t.z,x:t.x,y:Math.pow(2,t.z)-1-t.y}}),null!==(o=e)&&void 0!==o||(e={}),e.subdomain="012",e.getUrlArgs=r,new t.TileLayer.TXMapTileLayer(a,e)};