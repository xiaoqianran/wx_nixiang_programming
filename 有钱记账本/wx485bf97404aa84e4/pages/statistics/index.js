(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[600],{6444:function(t,e,n){var r={};n.r(r),n.d(r,{assign:function(){return oi},default:function(){return Pi},defaultI18n:function(){return hi},format:function(){return Si},parse:function(){return _i},setGlobalDateI18n:function(){return pi},setGlobalDateMasks:function(){return Ai}});var i={};n.r(i),n.d(i,{Attr:function(){return ms},Category:function(){return Su},Identity:function(){return ks},Linear:function(){return bu}});var a={};n.r(a),n.d(a,{funnel:function(){return el},pyramid:function(){return el}});var o={};n.r(o),n.d(o,{funnel:function(){return sl},pyramid:function(){return sl},rect:function(){return al}});var s={};n.r(s),n.d(s,{backIn:function(){return mf},backInOut:function(){return kf},backOut:function(){return xf},bounceIn:function(){return wf},bounceInOut:function(){return bf},bounceOut:function(){return Mf},cubicIn:function(){return rf},cubicInOut:function(){return of},cubicOut:function(){return af},elasticIn:function(){return vf},elasticInOut:function(){return gf},elasticOut:function(){return yf},exponentialIn:function(){return pf},exponentialOut:function(){return df},linear:function(){return Kh},quadraticIn:function(){return tf},quadraticInOut:function(){return nf},quadraticOut:function(){return ef},quarticIn:function(){return sf},quarticInOut:function(){return lf},quarticOut:function(){return uf},quinticIn:function(){return cf},quinticInOut:function(){return ff},quinticOut:function(){return hf}});var u=n(6073),l=n(3029),c=n(2901),h=n(9874),f=n(5501),p=n(4467);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,p.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=n(9417),g=n(3954),m=n(2176),x=n(6822);function k(t){var e=(0,m.A)();return function(){var n,r=(0,g.A)(t);if(e){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,x.A)(this,n)}}var w={}.toString,M=function(t,e){return w.call(t)==="[object "+e+"]"},b=M,A=function(t){return b(t,"Function")},S=function(t){return null===t||void 0===t},_=S,C=function(t){return Array.isArray?Array.isArray(t):b(t,"Array")},P=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function T(t,e){var n;if(t)if(C(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(P(t))for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),!1===n))break}var D=T,O=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return D(t,(function(n,r){A(t)&&"prototype"===r||e.push(r)})),e},j=O;function E(t,e){var n=j(e),r=n.length;if(_(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var Y=E,N=function(t){return"object"===typeof t&&null!==t},I=N,F=function(t){if(!I(t)||!b(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},R=F;function L(t,e){if(!C(t))return null;var n;if(A(e)&&(n=e),R(e)&&(n=function(t){return Y(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}var z=L;function B(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}var W=B,X=function(t){if(!C(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},H=X,q=function(t){if(C(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},V=function(t){if(C(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},G=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(C(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=q(e),a=V(e);return{min:a,max:i}},U=G,Z=Array.prototype,$=(Z.splice,Z.indexOf,Array.prototype.splice,function(t,e,n){if(!C(t)&&!R(t))return t;var r=n;return D(t,(function(t,n){r=e(r,t,n)})),r}),J=$,Q=function(t){return b(t,"String")};var K=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=a[e];if(!_(o)){C(o)||(o=[o]);for(var s=0;s<o.length;s++){var u=o[s];r[u]||(n.push(u),r[u]=!0)}}}return n},tt=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},et=tt;function nt(t){if(et(t))return t[0]}function rt(t){if(et(t)){var e=t;return e[e.length-1]}}var it=function(t,e){if(!et(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},at=it,ot=Object.prototype.hasOwnProperty;function st(t,e){if(!e||!C(t))return{};for(var n,r={},i=A(e)?e:function(t){return t[e]},a=0;a<t.length;a++){var o=t[a];n=i(o),ot.call(r,n)?r[n].push(o):r[n]=[o]}return r}var ut=st;function lt(t,e){if(!e)return{0:t};if(!A(e)){var n=C(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return ut(t,e)}var ct=function(t,e){if(!e)return[t];var n=lt(t,e),r=[];for(var i in n)r.push(n[i]);return r};var ht=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},ft=ht,pt=function(t){return b(t,"Number")},dt=pt,vt=(Number.isInteger&&Number.isInteger,Math.PI,Math.PI,Object.values?function(t){return Object.values(t)}:function(t){var e=[];return D(t,(function(n,r){A(t)&&"prototype"===r||e.push(n)})),e}),yt=vt;function gt(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var mt=gt,xt=function(t){return _(t)?"":t.toString()},kt=function(t){var e=xt(t);return e.charAt(0).toUpperCase()+e.substring(1)},wt=kt,Mt={}.toString,bt=function(t){return Mt.call(t).replace(/^\[object /,"").replace(/]$/,"")},At=bt,St=function(t){return b(t,"Boolean")},_t=St,Ct=function(t){return b(t,"Date")},Pt=Ct;var Tt=Object.prototype,Dt=function(t){var e=t&&t.constructor,n="function"===typeof e&&e.prototype||Tt;return t===n},Ot=Dt,jt=function(t){return void 0===t},Et=jt;n(6073)["TaroElement"],n(6073)["window"];n(6073)["window"];var Yt=function(t){if("object"!==typeof t||null===t)return t;var e;if(C(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=Yt(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=Yt(t[i]):e[i]=t[i];return e},Nt=Yt,It=function(t,e){if(!A(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return o.set(a,s),s};return n.cache=new Map,n},Ft=5;function Rt(t,e,n,r){for(var i in n=n||0,r=r||Ft,e)if(e.hasOwnProperty(i)){var a=e[i];null!==a&&R(a)?(R(t[i])||(t[i]={}),n<r?Rt(t[i],a,n+1,r):t[i]=e[i]):C(a)?(t[i]=[],t[i]=t[i].concat(a)):void 0!==a&&(t[i]=a)}}var Lt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Rt(t,e[r]);return t},zt=Lt,Bt=function(t,e){if(!et(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},Wt=Bt,Xt=Object.prototype.hasOwnProperty;function Ht(t){if(_(t))return!0;if(et(t))return!t.length;var e=At(t);if("Map"===e||"Set"===e)return!t.size;if(Ot(t))return!Object.keys(t).length;for(var n in t)if(Xt.call(t,n))return!1;return!0}var qt=Ht,Vt=function(t,e){if(!et(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},Gt=Vt,Ut=function(t){return t},Zt=function(t,e){void 0===e&&(e=Ut);var n={};return P(t)&&!_(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n};function $t(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jt(t,e,n,r){return e&&$t(t,e),n&&$t(t,n),r&&$t(t,r),t}var Qt=function(t,e,n){var r=0,i=Q(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},Kt=Object.prototype.hasOwnProperty,te=function(t,e){if(null===t||!R(t))return{};var n={};return D(e,(function(e){Kt.call(t,e)&&(n[e]=t[e])})),n},ee=function(t,e){return J(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})};function ne(t){return _(t)?0:et(t)?t.length:Object.keys(t).length}Object.create;function re(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;"function"===typeof SuppressedError&&SuppressedError;var ie,ae=n(6073)["document"],oe=(It((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return ie||(ie=ae.createElement("canvas").getContext("2d")),ie.font=[a,o,i,n+"px",r].join(" "),ie.measureText(Q(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),re([t],yt(e)).join("")})),function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()),se=oe,ue=function(){function t(e,n,r){(0,l.A)(this,t),this.destroyed=!1,this.props=e,this.state={},this.context=n,this.updater=r}return(0,c.A)(t,[{key:"willMount",value:function(){}},{key:"didMount",value:function(){}},{key:"willReceiveProps",value:function(t,e){}},{key:"willUpdate",value:function(){}},{key:"didUpdate",value:function(){}},{key:"render",value:function(){return null}},{key:"didUnmount",value:function(){}},{key:"setState",value:function(t,e){this.updater.enqueueSetState(this,t,e)}},{key:"forceUpdate",value:function(t){this.updater.enqueueForceUpdate(this,{},t)}},{key:"setAnimate",value:function(t){this.animate=t}},{key:"destroy",value:function(){this.destroyed=!0}}]),t}();ue.prototype.isF2Component=!0;var le=ue,ce=n(2284);function he(t){return Object.prototype.toString.call(t)}function fe(t){return Object.keys(t)}function pe(t,e){if(t===e)return!0;if((0,ce.A)(t)!==(0,ce.A)(e))return!1;if(null==t||null==e)return!1;if(Number.isNaN(t)&&Number.isNaN(e))return!0;if(he(t)!==he(e))return!1;if(A(t))return!0;if("object"!==(0,ce.A)(t))return!1;if(C(t)){if(t.length!==e.length)return!1;for(var n=t.length-1;n>=0;n--)if(!pe(t[n],e[n]))return!1;return!0}if(!R(t))return!1;var r=fe(t),i=fe(e);if(r.length!==i.length)return!1;r.sort(),i.sort();for(var a=r.length-1;a>=0;a--)if(r[a]!=i[a])return!1;for(var o=r.length-1;o>=0;o--){var s=r[o];if(!pe(t[s],e[s]))return!1}return!0}var de=pe;function ve(t,e){return t?v(v({},t),{},{props:v(v({},t.props),e)}):t}function ye(t,e){return t&&C(t)?t.map((function(t){return ye(t,e)})):e(t)}function ge(t,e,n){for(var r={},i=t.length,a=e.length,o=0,s=a;o<s;o++){var u=e[o];if(u&&!_(u.key)){var l=u.key;r[l]=u}}for(var c=0,h=Math.max(i,a);c<h;c++){var f=t[c];if(f){var p=f.key;if(_(f.key))me(f,e[c],n);else{var d=r[p];d&&delete r[p],me(f,d,n)}}else me(f,e[c],n)}Object.keys(r).forEach((function(t){me(null,r[t],n)}))}function me(t,e,n){if(t&&e)if(C(t)||C(e)){var r=C(t)?t:[t],i=C(e)?e:[e];ge(r,i,n)}else n(t,e);else n(t,e)}function xe(t){if(!t)return t;if(!C(t))return[t];for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];C(i)?e=e.concat(xe(i)):e.push(i)}return e}var ke={cloneElement:ve,map:ye,toArray:xe,compare:me},we=ke,Me=n(5544),be=function(){function t(e){(0,l.A)(this,t),this.left=0,this.top=0,this.width=0,this.height=0,this.update(e)}return(0,c.A)(t,[{key:"update",value:function(t){Jt(this,t);var e=this.left,n=this.top,r=this.width,i=this.height;return this.right=e+r,this.bottom=n+i,this}},{key:"padding",value:function(t){if(!t)return this;var e=t.top,n=void 0===e?0:e,r=t.right,i=void 0===r?0:r,a=t.bottom,o=void 0===a?0:a,s=t.left,u=void 0===s?0:s,l=this.top,c=this.right,h=this.bottom,f=this.left;return this.top=l+n,this.right=c-i,this.bottom=h-o,this.left=f+u,this.width=this.right-this.left,this.height=this.bottom-this.top,this}},{key:"clone",value:function(){var e=this.left,n=this.top,r=this.width,i=this.height;return new t({left:e,top:n,width:r,height:i})}}],[{key:"fromStyle",value:function(e){var n=e.left,r=e.top,i=e.width,a=e.height,o=e.padding,s=(0,Me.A)(o,4),u=s[0],l=s[1],c=s[2],h=s[3];return new t({left:n+h,top:r+u,width:i-h-l,height:a-u-c})}}]),t}(),Ae=be,Se=function(){function t(){(0,l.A)(this,t)}return(0,c.A)(t,[{key:"getRectRange",value:function(t){var e=t.left,n=t.top,r=t.width,i=t.height,a=t.padding,o=(0,Me.A)(a,4),s=o[0],u=o[1],l=o[2],c=o[3];return{left:e+c,top:n+s,width:r-c-u,height:i-s-l}}},{key:"create",value:function(t){var e=this.getRectRange(t),n=new Ae(e);return this.layout=n,n}},{key:"update",value:function(t){var e=this.getRectRange(t),n=this.layout;return n.update(e),n}}]),t}(),_e=Se,Ce=n(6045);function Pe(t){var e=t.xMin,n=t.xMax,r=t.yMin,i=t.yMax;return{xMin:r,xMax:i,yMin:e,yMax:n}}function Te(t){var e,n,r,i,a=t.x,o=t.y,s=t.size,u=t.y0;return C(a)?(e=a[0],n=a[1]):(e=a-s/2,n=a+s/2),C(o)?(r=o[0],i=o[1]):(r=Math.min(u,o),i=Math.max(u,o)),{xMin:e,xMax:n,yMin:r,yMax:i}}var De=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;return(0,l.A)(this,n),r=e.call(this,t),r.transposed=!1,r.x=[0,1],r.y=[0,1],r.update(t),r}return(0,c.A)(n,[{key:"update",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"update",this).call(this,t);var e=this.left,r=this.top,i=this.width,a=this.height,o=t.center,s=o?A(o)?o(i,a):o:[i/2,a/2];return this.center={x:e+s[0],y:r+s[1]},this}},{key:"isCyclic",value:function(){return!1}},{key:"_zoomVal",value:function(t,e){return C(t)?t.map((function(t){return e(t)})):e(t)}},{key:"convert",value:function(t){var e=this.transposed,n=this.x,r=this.y,i=e?"y":"x",a=e?"x":"y",o=t[i],s=t[a];return o<0||o>1||s<0||s>1?{x:NaN,y:NaN}:{x:this._zoomVal(t[i],(function(t){return n[0]+(n[1]-n[0])*t})),y:this._zoomVal(t[a],(function(t){return r[0]+(r[1]-r[0])*t}))}}},{key:"invert",value:function(t){var e,n=this.transposed,r=this.x,i=this.y,a=n?"y":"x",o=n?"x":"y";return e={},(0,p.A)(e,a,this._zoomVal(t.x,(function(t){return(t-r[0])/(r[1]-r[0])}))),(0,p.A)(e,o,this._zoomVal(t.y,(function(t){return(t-i[0])/(i[1]-i[0])}))),e}},{key:"convertPoint",value:function(t){return this.convert(t)}},{key:"invertPoint",value:function(t){return this.invert(t)}},{key:"convertRect",value:function(t){var e=this.x,n=this.y,r=this.transposed,i=(0,Me.A)(e,2),a=i[0],o=i[1],s=(0,Me.A)(n,2),u=s[0],l=s[1],c=Te(t),h=r?Pe(c):c,f=h.xMin,p=h.xMax,d=h.yMin,v=h.yMax,y=a+(o-a)*f,g=a+(o-a)*p,m=u+(l-u)*d,x=u+(l-u)*v;return{xMin:Math.min(y,g),xMax:Math.max(y,g),yMin:Math.min(m,x),yMax:Math.max(m,x)}}},{key:"transformToRect",value:function(t){var e=t.x,n=t.y,r=t.y0,i=t.size,a=this.convertPoint({x:0,y:r}),o=this.transposed,s={size:i,x:o?n:e,y:o?e:n,y0:o?a.x:a.y},u=Te(s),l=o?Pe(u):u,c=l.xMin,h=l.xMax,f=l.yMin,p=l.yMax;return{xMin:c,xMax:h,yMin:f,yMax:p}}}]),n}(Ae),Oe=De,je=function(t){(0,f.A)(n,t);var e=k(n);function n(){var t;return(0,l.A)(this,n),t=e.apply(this,arguments),t.type="rect",t}return(0,c.A)(n,[{key:"update",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"update",this).call(this,t);var e=this.left,r=this.top,i=this.right,a=this.bottom,o=[e,i],s=[a,r];return this.x=o,this.y=s,this}}]),n}(Oe),Ee=je,Ye={generateDefault:function(){return[1,0,0,1,0,0]},isChanged:function(t){return 1!==t[0]||0!==t[1]||0!==t[2]||1!==t[3]||0!==t[4]||0!==t[5]},multiply:function(t,e){var n=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],i=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],o=t[0]*e[4]+t[2]*e[5]+t[4],s=t[1]*e[4]+t[3]*e[5]+t[5];return[n,r,i,a,o,s]},scale:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[0],t[2]=e[2]*n[1],t[3]=e[3]*n[1],t[4]=e[4],t[5]=e[5],t},rotate:function(t,e,n){var r=Math.cos(n),i=Math.sin(n),a=e[0]*r+e[2]*i,o=e[1]*r+e[3]*i,s=e[0]*-i+e[2]*r,u=e[1]*-i+e[3]*r;return t[0]=a,t[1]=o,t[2]=s,t[3]=u,t[4]=e[4],t[5]=e[5],t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+e[0]*n[0]+e[2]*n[1],t[5]=e[5]+e[1]*n[0]+e[3]*n[1],t},transform:function(t,e){for(var n=[].concat(t),r=0,i=e.length;r<i;r++){var a=e[r];switch(a[0]){case"t":Ye.translate(n,n,[a[1],a[2]]);break;case"s":Ye.scale(n,n,[a[1],a[2]]);break;case"r":Ye.rotate(n,n,a[1]);break;default:break}}return n}},Ne=Ye,Ie={create:function(){return[0,0]},length:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},normalize:function(t,e){var n=this.length(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},direction:function(t,e){return t[0]*e[1]-e[0]*t[1]},angle:function(t,e){var n=this.dot(t,e)/(this.length(t)*this.length(e));return Math.acos(n)},angleTo:function(t,e,n){var r=this.angle(t,e),i=this.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},zero:function(t){return 0===t[0]&&0===t[1]},distance:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},clone:function(t){return[t[0],t[1]]},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},transformMat2d:function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}};function Fe(t){return[t.x,t.y]}function Re(t,e,n,r){var i,a,o,s,u,l,c,h,f=[],p=!!r;if(p){for(o=[1/0,1/0],s=[-1/0,-1/0],h=0,c=t.length;h<c;h++)u=Fe(t[h]),Ie.min(o,o,u),Ie.max(s,s,u);Ie.min(o,o,r[0]),Ie.max(s,s,r[1])}for(h=0,l=t.length;h<l;h++){if(u=Fe(t[h]),n)i=Fe(t[h?h-1:l-1]),a=Fe(t[(h+1)%l]);else{if(0===h||h===l-1){f.push([u[0],u[1]]);continue}i=Fe(t[h-1]),a=Fe(t[h+1])}var d=Ie.sub([],a,i);Ie.scale(d,d,e);var v=Ie.distance(u,i),y=Ie.distance(u,a),g=v+y;0!==g&&(v/=g,y/=g);var m=Ie.scale([],d,-v),x=Ie.scale([],d,y),k=Ie.add([],u,m),w=Ie.add([],u,x);p&&(Ie.max(k,k,o),Ie.min(k,k,s),Ie.max(w,w,o),Ie.min(w,w,s)),f.push([k[0],k[1]]),f.push([w[0],w[1]])}return n&&f.push(f.shift()),f}function Le(t,e,n){for(var r,i,a,o=!!e,s=Re(t,.4,o,n),u=t.length,l=[],c=0;c<u-1;c++)r=s[2*c],i=s[2*c+1],a=t[c+1],l.push(["C",r[0],r[1],i[0],i[1],a.x,a.y]);return o&&(r=s[u],i=s[u+1],a=t[0],l.push(["C",r[0],r[1],i[0],i[1],a.x,a.y])),l}var ze=Ie.create(),Be=Ie.create(),We=Ie.create();function Xe(t,e,n,r,i){var a=He(i,t.x,e.x,n.x,r.x),o=He(i,t.y,e.y,n.y,r.y);return{x:a,y:o}}function He(t,e,n,r,i){var a=t*t,o=a*t;return e+(3*-e+t*(3*e-e*t))*t+(3*n+t*(-6*n+3*n*t))*t+(3*r-3*r*t)*a+i*o}function qe(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,a={x:t[0],y:t[1]},o={x:t[2],y:t[3]},s={x:t[4],y:t[5]},u={x:t[6],y:t[7]},l=0;l<100;l++){var c=Xe(a,o,s,u,l/100);c.x<e&&(e=c.x),c.x>n&&(n=c.x),c.y<r&&(r=c.y),c.y>i&&(i=c.y)}return{minX:e,minY:r,maxX:n,maxY:i}}function Ve(t,e){if(0!==t.length){for(var n=t[0],r=n.x,i=n.x,a=n.y,o=n.y,s=t.length,u=1;u<s;u++)n=t[u],r=Math.min(r,n.x),i=Math.max(i,n.x),a=Math.min(a,n.y),o=Math.max(o,n.y);return e=e/2||0,{minX:r-e,minY:a-e,maxX:i+e,maxY:o+e}}}function Ge(t,e,n,r,i){return i=i/2||0,{minX:Math.min(t,n)-i,minY:Math.min(e,r)-i,maxX:Math.max(t,n)+i,maxY:Math.max(e,r)+i}}function Ue(t,e,n,r,i,a){var o=Math.abs(r-i);if(o%(2*Math.PI)<1e-4&&o>1e-4)return{minX:t-n,minY:e-n,maxX:t+n,maxY:e+n};ze[0]=Math.cos(r)*n+t,ze[1]=Math.sin(r)*n+e,Be[0]=Math.cos(i)*n+t,Be[1]=Math.sin(i)*n+e;var s=[0,0],u=[0,0];if(Ie.min(s,ze,Be),Ie.max(u,ze,Be),r%=2*Math.PI,r<0&&(r+=2*Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI),r>i&&!a?i+=2*Math.PI:r<i&&a&&(r+=2*Math.PI),a){var l=i;i=r,r=l}for(var c=0;c<i;c+=Math.PI/2)c>r&&(We[0]=Math.cos(c)*n+t,We[1]=Math.sin(c)*n+e,Ie.min(s,We,s),Ie.max(u,We,u));return{minX:s[0],minY:s[1],maxX:u[0],maxY:u[1]}}function Ze(t,e){for(var n=1/0,r=-1/0,i=1/0,a=-1/0,o=0,s=t.length;o<s;o++){var u=qe(t[o]);u.minX<n&&(n=u.minX),u.maxX>r&&(r=u.maxX),u.minY<i&&(i=u.minY),u.maxY>a&&(a=u.maxY)}return e=e/2||0,{minX:n-e,minY:i-e,maxX:r+e,maxY:a+e}}var $e=" ",Je=function(){function t(){(0,l.A)(this,t),this.__events={}}return(0,c.A)(t,[{key:"on",value:function(t,e){var n=this;t&&e&&t.split($e).forEach((function(t){var r=n.__events[t]||[];r.push(e),n.__events[t]=r}))}},{key:"emit",value:function(t,e){var n=this;if(P(t)&&(e=t,t=e&&e.type),t){var r=this.__events[t];r&&r.length&&r.forEach((function(t){t.call(n,e)}))}}},{key:"off",value:function(t,e){var n=this.__events;t.split($e).forEach((function(t){var r=n[t];if(r&&r.length)if(e)for(var i=0,a=r.length;i<a;i++)r[i]===e&&(r.splice(i,1),i--);else delete n[t]}))}}]),t}(),Qe=Je,Ke=n(6073)["window"],tn=n(6073)["document"];(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});Ke.addEventListener("e",null,e)}catch(t){}})(),"object"===("undefined"===typeof wx?"undefined":(0,ce.A)(wx))&&wx.getSystemInfoSync,"object"===("undefined"===typeof my?"undefined":(0,ce.A)(my))&&my.getSystemInfoSync,("undefined"===typeof n.g?"undefined":(0,ce.A)(n.g))&&("undefined"===typeof Ke||(0,ce.A)(Ke)),"undefined"!==typeof Ke&&"undefined"!==typeof Ke.document&&Ke.sessionStorage;function en(t){return!(!t||"object"!==(0,ce.A)(t))&&(!(1!==t.nodeType||!t.nodeName)||!!t.isCanvasElement)}function nn(){return Ke&&Ke.devicePixelRatio||1}function rn(t,e){var n,r;return t.currentStyle?t.currentStyle[e]:null===(n=tn.defaultView)||void 0===n||null===(r=n.getComputedStyle(t,null))||void 0===r?void 0:r.getPropertyValue(e)}function an(t){var e=rn(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)}function on(t){var e=rn(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)}function sn(t){return t?tn.getElementById(t):null}function un(t,e){var n=e.get("el");if(!n)return t;var r=n.getBoundingClientRect(),i=r.top,a=r.left,o=parseFloat(rn(n,"padding-left"))||0,s=parseFloat(rn(n,"padding-top"))||0,u=t.x-a-o,l=t.y-i-s;return{x:u,y:l}}function ln(t,e){var n=e.get("landscape");if(!n)return t;if(A(n))return n(t,e);var r=e.get("height"),i=t.y,a=r-t.x;return{x:i,y:a}}function cn(t,e){var n=t.touches;if(!n){var r=un({x:t.clientX,y:t.clientY},e);return[ln(r,e)]}n.length||(n=t.changedTouches||[]);for(var i=[],a=0,o=n.length;a<o;a++){var s=n[a],u=s.x,l=s.y,c=s.clientX,h=s.clientY,f=void 0;f=dt(u)||dt(l)?{x:u,y:l}:un({x:c,y:h},e),i.push(ln(f,e))}return i}function hn(t,e,n){return n||(n=tn.createElement("canvas").getContext("2d")),n.font=e||"12px sans-serif",n.measureText(t)}var fn=cn,pn=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.abs(n)>Math.abs(r)?n>0?"right":"left":r>0?"down":"up"},dn=function(t,e){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)},vn=function(t,e){var n=t.x+(e.x-t.x)/2,r=t.y+(e.y-t.y)/2;return{x:n,y:r}},yn=250,gn=function(){function t(e){var n=this,r=e.canvas,i=e.el;(0,l.A)(this,t),this._click=function(t){var e=fn(t,n.canvas);t.points=e,n.emitEvent("click",t)},this._start=function(t){var e=fn(t,n.canvas);e&&(t.points=e,n.emitEvent("touchstart",t),n.reset(),n.startTime=Date.now(),n.startPoints=e,e.length>1?(n.startDistance=dn(e[0],e[1]),n.center=vn(e[0],e[1])):n.pressTimeout=setTimeout((function(){var e="press",r="none";t.direction=r,n.emitStart(e,t),n.emitEvent(e,t),n.eventType=e,n.direction=r}),yn))},this._move=function(t){var e=fn(t,n.canvas);if(e){n.clearPressTimeout(),t.points=e,n.emitEvent("touchmove",t);var r=n.startPoints;if(r)if(e.length>1){var i=n.startDistance,a=dn(e[0],e[1]);t.zoom=a/i,t.center=n.center,n.emitStart("pinch",t),n.emitEvent("pinch",t)}else{var o=e[0].x-r[0].x,s=e[0].y-r[0].y,u=n.direction||pn(r[0],e[0]);n.direction=u;var l=n.getEventType(e);t.direction=u,t.deltaX=o,t.deltaY=s,n.emitStart(l,t),n.emitEvent(l,t);var c=n.lastMoveTime,h=Date.now();h-c>0&&(n.prevMoveTime=c,n.prevMovePoints=n.lastMovePoints,n.lastMoveTime=h,n.lastMovePoints=e)}}},this._end=function(t){var e=fn(t,n.canvas);t.points=e,n.emitEnd(t),n.emitEvent("touchend",t);var r=n.lastMoveTime,i=Date.now();if(i-r<100){var a=n.prevMoveTime||n.startTime,o=r-a;if(o>0){var s=n.prevMovePoints||n.startPoints,u=n.lastMovePoints,l=dn(s[0],u[0])/o;l>.3&&(t.velocity=l,t.direction=pn(s[0],u[0]),t.velocityX=(u[0].x-s[0].x)/o,t.velocityY=(u[0].y-s[0].y)/o,n.emitEvent("swipe",t))}}n.reset();var c=t.touches;c&&c.length>0&&n._start(t)},this._cancel=function(t){n.emitEvent("touchcancel",t),n.reset()},this.canvas=r,this.delegateEvent(i),this.processEvent={}}return(0,c.A)(t,[{key:"delegateEvent",value:function(t){t.addEventListener("click",this._click),t.addEventListener("touchstart",this._start),t.addEventListener("touchmove",this._move),t.addEventListener("touchend",this._end),t.addEventListener("touchcancel",this._cancel)}},{key:"emitEvent",value:function(t,e){var n=this.canvas;n.emit(t,e)}},{key:"getEventType",value:function(t){var e,n=this.eventType,r=this.canvas,i=this.startTime,a=this.startPoints;if(n)return n;var o=r.__events.pan;if(o&&o.length){var s=Date.now();e=s-i>yn&&dn(a[0],t[0])<10?"press":"pan"}else e="press";return this.eventType=e,e}},{key:"enable",value:function(t){this.processEvent[t]=!0}},{key:"isProcess",value:function(t){return this.processEvent[t]}},{key:"emitStart",value:function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent("".concat(t,"start"),e))}},{key:"emitEnd",value:function(t){var e=this,n=this.processEvent;Object.keys(n).forEach((function(r){e.emitEvent("".concat(r,"end"),t),delete n[r]}))}},{key:"clearPressTimeout",value:function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:"reset",value:function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}(),mn=gn,xn=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;(0,l.A)(this,n),r=e.call(this),r.context=t;var i=t.canvas||{};return r.width=i.width||0,r.height=i.height||0,r.style={},r.currentStyle={},r.attrs={},r.isCanvasElement=!0,r}return(0,c.A)(n,[{key:"getContext",value:function(){return this.context}},{key:"getBoundingClientRect",value:function(){var t=this.width,e=this.height;return{top:0,right:t,bottom:e,left:0}}},{key:"setAttribute",value:function(t,e){this.attrs[t]=e}},{key:"addEventListener",value:function(t,e){this.on(t,e)}},{key:"removeEventListener",value:function(t,e){this.off(t,e)}},{key:"dispatchEvent",value:function(t,e){this.emit(t,e)}}]),n}(Qe);function kn(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||"canvas"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener("eventTest",(function(){e=!0})),t.dispatchEvent(new Event("eventTest"))}catch(t){e=!1}return e}var wn={create:function(t){return t?kn(t.canvas)?t.canvas:new xn(t):null}};function Mn(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function bn(t,e){return(t%e+e)%e}function An(t,e){D(t,(function(t){t=t.split(":"),e.addColorStop(Number(t[0]),t[1])}))}function Sn(t,e,n){var r=t.split(" "),i=r[0].slice(2,r[0].length-1);i=bn(parseFloat(i)*Math.PI/180,2*Math.PI);var a,o,s=r.slice(1),u=e.getBBox(),l=u.minX,c=u.minY,h=u.maxX,f=u.maxY;i>=0&&i<.5*Math.PI?(a={x:l,y:c},o={x:h,y:f}):.5*Math.PI<=i&&i<Math.PI?(a={x:h,y:c},o={x:l,y:f}):Math.PI<=i&&i<1.5*Math.PI?(a={x:h,y:f},o={x:l,y:c}):(a={x:l,y:f},o={x:h,y:c});var p=Math.tan(i),d=p*p,v=(o.x-a.x+p*(o.y-a.y))/(d+1)+a.x,y=p*(o.x-a.x+p*(o.y-a.y))/(d+1)+a.y,g=n.createLinearGradient(a.x,a.y,v,y);return An(s,g),g}function _n(t,e,n){var r=t.split(" "),i=r[0].slice(2,r[0].length-1);i=i.split(",");var a=parseFloat(i[0]),o=parseFloat(i[1]),s=parseFloat(i[2]),u=r.slice(1);if(0===s){var l=u[u.length-1];return l.split(":")[1]}var c=e.getBBox(),h=c.width,f=c.height,p=c.minX,d=c.minY,v=Math.sqrt(h*h+f*f)/2,y=n.createRadialGradient(p+h*a,d+f*o,s*v,p+h/2,d+f/2,v);return An(u,y),y}function Cn(t,e,n){if("("===t[1])try{var r=t[0];if("l"===r)return Sn(t,e,n);if("r"===r)return _n(t,e,n)}catch(t){console.error("error in parsing gradient string, please check if there are any extra whitespaces."),console.error(t)}return t}var Pn={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"},Tn=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","shadow"],Dn=["circle","sector","polygon","rect","polyline","custom"],On=function(){function t(e){(0,l.A)(this,t),this._initProperties(),Jt(this._attrs,e);var n=this._attrs.attrs;n&&this.initAttrs(n),this.initTransform()}return(0,c.A)(t,[{key:"_initProperties",value:function(){this._attrs=v(v({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1})}},{key:"get",value:function(t){return this._attrs[t]}},{key:"set",value:function(t,e){this._attrs[t]=e}},{key:"isGroup",value:function(){return this.get("isGroup")}},{key:"isShape",value:function(){return this.get("isShape")}},{key:"initAttrs",value:function(t){this.attr(Jt(this.getDefaultAttrs(),t))}},{key:"getDefaultAttrs",value:function(){return{}}},{key:"_setAttr",value:function(t,e){var n=this._attrs.attrs;if("clip"===t)e=this._setAttrClip(e);else{var r=Pn[t];r&&(n[r]=e)}n[t]=e}},{key:"_getAttr",value:function(t){var e,n;return null===(e=this._attrs)||void 0===e||null===(n=e.attrs)||void 0===n?void 0:n[t]}},{key:"_afterAttrsSet",value:function(){}},{key:"_setAttrClip",value:function(t){return t&&Dn.indexOf(t._attrs.type)>-1?(null===t.get("canvas")&&(t=v({},t)),t.set("parent",this.get("parent")),t.set("context",this.get("context")),t):null}},{key:"attr",value:function(t,e){if(this.get("destroyed"))return null;var n=arguments.length;if(0===n)return this._attrs.attrs;if(P(t)){for(var r in this._attrs.bbox=null,t)this._setAttr(r,t[r]);return this._afterAttrsSet&&this._afterAttrsSet(),this}return 2===n?(this._attrs.bbox=null,this._setAttr(t,e),this._afterAttrsSet&&this._afterAttrsSet(),this):this._getAttr(t)}},{key:"getParent",value:function(){return this.get("parent")}},{key:"draw",value:function(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))}},{key:"setContext",value:function(t){var e=this._attrs.attrs.clip;t.save(),e&&!e._attrs.destroyed&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)}},{key:"restoreContext",value:function(t){t.restore()}},{key:"resetContext",value:function(t){var e=this._attrs.attrs;for(var n in e)if(Tn.indexOf(n)>-1){var r=e[n];"fillStyle"!==n&&"strokeStyle"!==n||!r||(r=Cn(r,this,t)),"lineDash"===n&&t.setLineDash&&C(r)?t.setLineDash(r):t[n]=r}}},{key:"hasFill",value:function(){return this.get("canFill")&&this._attrs.attrs.fillStyle}},{key:"hasStroke",value:function(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle}},{key:"drawInner",value:function(t){}},{key:"show",value:function(){return this.set("visible",!0),this}},{key:"hide",value:function(){return this.set("visible",!1),this}},{key:"isVisible",value:function(){return this.get("visible")}},{key:"getAriaLabel",value:function(){var t=this._attrs,e=t.destroyed,n=t.visible,r=t.isShape,i=t.aria;if(!e&&n&&(!r||i))return this._getAriaLabel()}},{key:"_getAriaLabel",value:function(){return this._attrs.ariaLabel}},{key:"_removeFromParent",value:function(){var t=this.get("parent");if(t){var e=t.get("children");Mn(e,this)}return this}},{key:"remove",value:function(t){t?this.destroy():this._removeFromParent()}},{key:"destroy",value:function(){var t=this.get("destroyed");if(t)return null;this._removeFromParent();var e=this._attrs.attrs;this._attrs={attrs:e},this.set("destroyed",!0)}},{key:"getBBox",value:function(){return{minX:0,maxX:0,minY:0,maxY:0,width:0,height:0}}},{key:"initTransform",value:function(){var t=this._attrs.attrs;t||(t={}),t.matrix||(t.matrix=[1,0,0,1,0,0]),this._attrs.attrs=t}},{key:"getMatrix",value:function(){return this._attrs.attrs.matrix}},{key:"setMatrix",value:function(t){this._attrs.attrs.matrix=[t[0],t[1],t[2],t[3],t[4],t[5]]}},{key:"transform",value:function(t){var e=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=Ne.transform(e,t),this}},{key:"setTransform",value:function(t){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(t)}},{key:"translate",value:function(t,e){var n=this._attrs.attrs.matrix;Ne.translate(n,n,[t,e])}},{key:"rotate",value:function(t){var e=this._attrs.attrs.matrix;Ne.rotate(e,e,t)}},{key:"scale",value:function(t,e){var n=this._attrs.attrs.matrix;Ne.scale(n,n,[t,e])}},{key:"moveTo",value:function(t,e){var n=this._attrs.x||0,r=this._attrs.y||0;this.translate(t-n,e-r),this.set("x",t),this.set("y",e)}},{key:"apply",value:function(t){var e=this._attrs.attrs.matrix;return Ie.transformMat2d(t,t,e),this}},{key:"resetTransform",value:function(t){var e=this._attrs.attrs.matrix;Ne.isChanged(e)&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),t}(),jn=On,En=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){this._attrs=v(v({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1,isShape:!0,attrs:{}})}},{key:"getType",value:function(){return this._attrs.type}},{key:"drawInner",value:function(t){var e=this.get("attrs");this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var r=e.fillOpacity;_(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=n)}if(this.hasStroke()){var i=e.lineWidth;if(i>0){var a=e.strokeOpacity;_(a)||1===a||(t.globalAlpha=a),t.stroke()}}}},{key:"getBBox",value:function(){var t=this._attrs.bbox;return t||(t=this.calculateBox(),t&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._attrs.bbox=t),t}},{key:"calculateBox",value:function(){return null}},{key:"createPath",value:function(t){}}]),n}(jn),Yn=En;function Nn(t){var e=0,n=0,r=0,i=0;return dt(t)?e=r=i=n=t:C(t)&&(e=t[0],n=_(t[1])?t[0]:t[1],r=_(t[2])?t[0]:t[2],i=_(t[3])?n:t[3]),[e,n,r,i]}function In(t,e,n){if(t=Nn(t),!t[0]&&!t[1]&&!t[2]&&!t[3])return t;var r=Math.max(t[0]+t[1],t[2]+t[3]),i=Math.max(t[0]+t[3],t[1]+t[2]),a=Math.min(e/r,n/i);return a<1?t.map((function(t){return t*a})):t}var Fn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}},{key:"createRadiusPath",value:function(t,e,n,r,i,a){a=In(a,r,i),t.moveTo(e+a[0],n),t.lineTo(e+r-a[1],n),t.arc(e+r-a[1],n+a[1],a[1],-Math.PI/2,0,!1),t.lineTo(e+r,n+i-a[2]),t.arc(e+r-a[2],n+i-a[2],a[2],0,Math.PI/2,!1),t.lineTo(e+a[3],n+i),t.arc(e+a[3],n+i-a[3],a[3],Math.PI/2,Math.PI,!1),t.lineTo(e,n+a[0]),t.arc(e+a[0],n+a[0],a[0],Math.PI,3*Math.PI/2,!1),t.closePath()}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.width,a=e.height,o=e.radius;t.beginPath(),o&&i*a?this.createRadiusPath(t,n,r,i,a,o):t.rect(n,r,i,a)}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e,minY:n,maxX:e+r,maxY:n+i}}}]),n}(Yn),Rn=Fn,Ln=n(6073)["window"],zn={},Bn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!1,this._attrs.canStroke=!1,this._attrs.loading=!1,this._attrs.image=null,this._attrs.type="image"}},{key:"draw",value:function(t){var e=this;if(!this.get("loading")){var r=this.get("image");if(r)(0,Ce.A)((0,g.A)(n.prototype),"draw",this).call(this,t);else{var i=this.get("attrs"),a=i.src,o=i.img;if(o)return this.set("image",o),void(0,Ce.A)((0,g.A)(n.prototype),"draw",this).call(this,t);if(a){var s=this.get("cacheImage");if(s&&zn[a])return this.set("image",zn[a]),void this.draw(t);var u=null,l=this.get("canvas");if(l&&l.get("createImage")){var c=l.get("createImage");u=c()}else Ln.Image&&(u=new Image);u&&(this.set("loading",!0),u.crossOrigin="",u.onload=function(){e.set("loading",!1),e.set("image",u),l.draw()},u.src=a,s&&(zn[a]=u))}}}}},{key:"createPath",value:function(t){var e=this.get("image");this.drawImage(t,e)}},{key:"drawImage",value:function(t,e){var n=this._attrs,r=n.attrs,i=n.destroyed;if(!i){var a=r.x,o=r.y,s=r.width,u=r.height,l=r.sx,c=r.sy,h=r.swidth,f=r.sheight,p=r.radius,d=r.fillOpacity;p&&(t.save(),this.createRadiusPath(t,a,o,s,u,p),t.clip());var v=t.globalAlpha;_(d)||(t.globalAlpha=d),_(l)||_(c)||_(h)||_(f)?t.drawImage(e,a,o,s,u):t.drawImage(e,l,c,h,f,a,o,s,u),t.globalAlpha=v,p&&t.restore()}}}]),n}(Rn),Wn=Bn,Xn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,lineWidth:0}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r;return{minX:e-r,maxX:e+r,minY:n-r,maxY:n+r}}}]),n}(Yn),Hn=Xn,qn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.type="line"}},{key:"getDefaultAttrs",value:function(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.x1,r=e.y1,i=e.x2,a=e.y2;t.beginPath(),t.moveTo(n,r),t.lineTo(i,a)}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x1,n=t.y1,r=t.x2,i=t.y2,a=t.lineWidth;return Ge(e,n,r,i,a)}}]),n}(Yn),Vn=qn,Gn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:0}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.points;t.beginPath();for(var r=0,i=n.length;r<i;r++){var a=n[r];0===r?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)}t.closePath()}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.points;return Ve(e)}}]),n}(Yn),Un=Gn;function Zn(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];isNaN(i.x)||isNaN(i.y)||e.push(i)}return e}var $n=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:1,smooth:!1}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.points,r=e.smooth,i=Zn(n);if(t.beginPath(),i.length)if(t.moveTo(i[0].x,i[0].y),r)for(var a=[[0,0],[1,1]],o=Le(i,!1,a),s=0,u=o.length;s<u;s++){var l=o[s];t.bezierCurveTo(l[1],l[2],l[3],l[4],l[5],l[6])}else{var c,h;for(c=1,h=i.length-1;c<h;c++)t.lineTo(i[c].x,i[c].y);t.lineTo(i[h].x,i[h].y)}}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.points,n=t.smooth,r=t.lineWidth,i=Zn(e);if(n){for(var a=[],o=[[0,0],[1,1]],s=Le(i,!1,o),u=0,l=s.length;u<l;u++){var c=s[u];if(0===u)a.push([i[0].x,i[0].y,c[1],c[2],c[3],c[4],c[5],c[6]]);else{var h=s[u-1];a.push([h[5],h[6],c[1],c[2],c[3],c[4],c[5],c[6]])}}return Ze(a,r)}return Ve(i,r)}}]),n}(Yn),Jn=$n,Qn=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.canFill=!0,this._attrs.type="arc"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:2*Math.PI,anticlockwise:!1,lineWidth:1}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r,a=e.startAngle,o=e.endAngle,s=e.anticlockwise;t.beginPath(),a!==o&&t.arc(n,r,i,a,o,s)}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r,i=t.startAngle,a=t.endAngle,o=t.anticlockwise;return Ue(e,n,r,i,a,o)}}]),n}(Yn),Kn=Qn,tr=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0,r:0,r0:0,startAngle:0,endAngle:2*Math.PI,anticlockwise:!1}}},{key:"createPath",value:function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.startAngle,a=e.r,o=e.r0,s=e.anticlockwise,u=Math.min(e.endAngle,i+2*Math.PI);t.beginPath();var l=Math.cos(i),c=Math.sin(i);t.moveTo(l*o+n,c*o+r),t.lineTo(l*a+n,c*a+r),(Math.abs(u-i)>1e-4||0===i&&u<0)&&(t.arc(n,r,a,i,u,s),t.lineTo(Math.cos(u)*o+n,Math.sin(u)*o+r),0!==o&&t.arc(n,r,o,u,i,!s)),t.closePath()}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r,i=t.r0,a=t.startAngle,o=t.endAngle,s=t.anticlockwise,u=Ue(e,n,r,a,o,s),l=Ue(e,n,i,a,o,s);return{minX:Math.min(u.minX,l.minX),minY:Math.min(u.minY,l.minY),maxX:Math.max(u.maxX,l.maxX),maxY:Math.max(u.maxY,l.maxY)}}}]),n}(Yn),er=tr,nr={calcRotatedBox:function(t){var e=t.width,n=t.height,r=t.rotate,i=Math.abs(r);return{width:Math.abs(e*Math.cos(i)+n*Math.sin(i)),height:Math.abs(n*Math.cos(i)+e*Math.sin(i))}}},rr=nr,ir=hn,ar=0,or={},sr=5e3,ur=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"}},{key:"getDefaultAttrs",value:function(){return{lineWidth:0,lineCount:1,fontSize:12,fontFamily:"",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null}}},{key:"_getFontStyle",value:function(){var t=this._attrs.attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return"".concat(i," ").concat(a," ").concat(r," ").concat(e,"px ").concat(n)}},{key:"_afterAttrsSet",value:function(){var t=this._attrs.attrs;if(t.font=this._getFontStyle(),t.text){var e=t.text,n=null,r=1;Q(e)&&-1!==e.indexOf("\n")&&(n=e.split("\n"),r=n.length),t.lineCount=r,t.textArr=n}this.set("attrs",t)}},{key:"_getTextHeight",value:function(){var t=this._attrs.attrs;if(t.height)return t.height;var e=t.lineCount,n=1*t.fontSize;if(e>1){var r=this._getSpaceingY();return n*e+r*(e-1)}return n}},{key:"_getSpaceingY",value:function(){var t=this._attrs.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n}},{key:"drawInner",value:function(t){var e=this._attrs.attrs,n=e.text,r=e.x,i=e.y;if(!(_(n)||isNaN(r)||isNaN(i))){var a=e.textArr,o=1*e.fontSize,s=this._getSpaceingY();e.rotate&&(t.translate(r,i),t.rotate(e.rotate),r=0,i=0);var u,l,c=e.textBaseline;if(a&&(u=this._getTextHeight()),this.hasFill()){var h=e.fillOpacity;if(_(h)||1===h||(t.globalAlpha=h),a)for(var f=0,p=a.length;f<p;f++){var d=a[f];l=i+f*(s+o)-u+o,"middle"===c&&(l+=u-o-(u-o)/2),"top"===c&&(l+=u-o),t.fillText(d,r,l)}else t.fillText(n,r,i)}if(this.hasStroke())if(a)for(var v=0,y=a.length;v<y;v++){var g=a[v];l=i+v*(s+o)-u+o,"middle"===c&&(l+=u-o-(u-o)/2),"top"===c&&(l+=u-o),t.strokeText(g,r,l)}else t.strokeText(n,r,i)}}},{key:"_getAriaLabel",value:function(){return this._attrs.attrs.text}},{key:"calculateBox",value:function(){var t=this._attrs.attrs,e=t.x,n=t.y,r=t.textAlign,i=t.textBaseline,a=this._getTextWidth();if(!a)return{minX:e,minY:n,maxX:e,maxY:n};var o=this._getTextHeight();if(t.rotate){var s=rr.calcRotatedBox({width:a,height:o,rotate:t.rotate});a=s.width,o=s.height}var u={x:e,y:n-o};return r&&("end"===r||"right"===r?u.x-=a:"center"===r&&(u.x-=a/2)),i&&("top"===i?u.y+=o:"middle"===i&&(u.y+=o/2)),{minX:u.x,minY:u.y,maxX:u.x+a,maxY:u.y+o}}},{key:"_getTextWidth",value:function(){var t=this._attrs.attrs;if(t.width)return t.width;var e=t.text,n=this.get("context");if(!_(e)){var r=t.font,i=t.textArr,a=e+""+r;if(or[a])return or[a];var o=0;if(i)for(var s=0,u=i.length;s<u;s++){var l=i[s];o=Math.max(o,ir(l,r,n).width)}else o=ir(e,r,n).width;return ar>sr&&(ar=0,or={}),ar++,or[a]=o,o}}}]),n}(Yn),lr=ur,cr=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"}},{key:"createPath",value:function(t){var e=this.get("createPath");e&&e.call(this,t)}},{key:"calculateBox",value:function(){var t=this.get("calculateBox");return t&&t.call(this)}}]),n}(Yn),hr=cr,fr={circle:function(t,e,n,r){r.arc(t,e,n,0,2*Math.PI,!1)},square:function(t,e,n,r){r.moveTo(t-n,e-n),r.lineTo(t+n,e-n),r.lineTo(t+n,e+n),r.lineTo(t-n,e+n),r.closePath()}},pr=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0}}},{key:"createPath",value:function(t){var e,n=this.get("attrs"),r=n.x,i=n.y,a=n.radius,o=n.symbol||"circle";e=A(o)?o:fr[o],t.beginPath(),e(r,i,a,t,this)}},{key:"calculateBox",value:function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.radius;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}}}]),n}(Yn),dr=pr;Yn.Rect=Rn,Yn.Image=Wn,Yn.Circle=Hn,Yn.Line=Vn,Yn.Polygon=Un,Yn.Polyline=Jn,Yn.Arc=Kn,Yn.Sector=er,Yn.Text=lr,Yn.Custom=hr,Yn.Marker=dr;var vr=Yn,yr={},gr="_INDEX";function mr(t){return function(e,n){var r=t(e,n);return 0===r?e[gr]-n[gr]:r}}var xr={getGroupClass:function(){},getChildren:function(){return this.get("children")},addShape:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yr[t];n||(n=wt(t),yr[t]=n);var r=new vr[n](e);return this.add(r),r},addGroup:function(t){var e=this.getGroupClass(),n=new e(t);return this.add(n),n},contain:function(t){var e=this.get("children");return e.indexOf(t)>-1},sort:function(){for(var t=this.get("children"),e=0,n=t.length;e<n;e++){var r=t[e];r[gr]=e}return t.sort(mr((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},drawChildren:function(t){this.sort();for(var e=this.get("children"),n=0,r=e.length;n<r;n++){var i=e[n];i.draw(t)}return this},clear:function(){var t=this.get("children")||[];while(0!==t.length)t[t.length-1].remove(!0);return this},add:function(t){var e=this.get("children");e||(e=[],this.set("children",e)),C(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++){var i=t[n],a=i.get("parent");if(a){var o=a.get("children");Mn(o,i)}this._setEvn(i),e.push(i)}return this},_setEvn:function(t){var e,n,r=this._attrs,i=r.context,a=r.canvas,o=r.aria,s=t._attrs,u=s.isGroup,l=s.type;t._attrs.parent=this,t._attrs.context=i,t._attrs.canvas=a,o&&!1!==t._attrs.aria&&(t._attrs.aria=o),"text"===l&&a&&a.get("fontFamily")&&!(null===(e=t._attrs.attrs)||void 0===e?void 0:e.fontFamily)&&t.attr("fontFamily",a.get("fontFamily"));var c=null===(n=t._attrs.attrs)||void 0===n?void 0:n.clip;if(c&&(c._attrs.parent=this,c._attrs.context=i,c._attrs.canvas=a),u)for(var h=t._attrs.children,f=0,p=h.length;f<p;f++)t._setEvn(h[f])},_getAriaLabel:function(){var t=this._attrs,e=t.aria,n=t.ariaLabel,r=t.children;if(e){var i=[];if(r&&r.length)for(var a=0,o=r.length;a<o;a++){var s=r[a].getAriaLabel();s&&i.push(s)}var u=i.join(" ");return n&&u?"".concat(n," ").concat(u," "):n||u}}},kr=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"_initProperties",value:function(){this._attrs={type:"group",zIndex:0,visible:!0,destroyed:!1,isGroup:!0,canFill:!0,canStroke:!0,children:[],attrs:{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}}},{key:"getBBox",value:function(){for(var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.get("children"),a=0,o=i.length;a<o;a++){var s=i[a];if(s.get("visible")){var u=s.getBBox();if(!u)continue;var l=[u.minX,u.minY],c=[u.minX,u.maxY],h=[u.maxX,u.minY],f=[u.maxX,u.maxY],p=s.attr("matrix");Ie.transformMat2d(l,l,p),Ie.transformMat2d(c,c,p),Ie.transformMat2d(h,h,p),Ie.transformMat2d(f,f,p),t=Math.min(l[0],c[0],h[0],f[0],t),e=Math.max(l[0],c[0],h[0],f[0],e),n=Math.min(l[1],c[1],h[1],f[1],n),r=Math.max(l[1],c[1],h[1],f[1],r)}}return{minX:t,minY:n,maxX:e,maxY:r,x:t,y:n,width:e-t,height:r-n}}},{key:"createPath",value:function(t){var e=this.get("attrs");(e.fillStyle||e.strokeStyle)&&(0,Ce.A)((0,g.A)(n.prototype),"createPath",this).call(this,t)}},{key:"drawInner",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"drawInner",this).call(this,t),this.drawChildren(t)}},{key:"destroy",value:function(){this.get("destroyed")||(this.clear(),(0,Ce.A)((0,g.A)(n.prototype),"destroy",this).call(this))}}]),n}(Rn);Jt(kr.prototype,xr,{getGroupClass:function(){return kr}});var wr=kr,Mr=n(6073)["window"],br="object"===("undefined"===typeof Mr?"undefined":(0,ce.A)(Mr))&&Mr.requestAnimationFrame?Mr.requestAnimationFrame:function(t){return setTimeout(t,16)},Ar={general:{title:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c",withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002"},coord:{cartesian:"X\u8f74\u662f{xLabel}Y\u8f74\u662f{yLabel}"},scale:{linear:"\u6570\u503c\u578b\uff0c\u6570\u636e\u6700\u5c0f\u503c\u4e3a{min}\uff0c\u6700\u5927\u503c\u4e3a{max}\uff1b",cat:"\u5206\u7c7b\u578b, \u5206\u7c7b\u7c7b\u578b\u6709\uff1a{values}\uff1b",timeCat:"\u65f6\u95f4\u578b\uff0c\u65f6\u95f4\u8303\u56f4\u4ece{start}\u5230{end}\uff1b"},geometry:{prefix:"\u5171\u6709{count}\u79cd\u5206\u7c7b\u7ec4\u6210\uff0c",oneData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u6570\u636e\u662f{values};",partData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u5171\u6709{count}\u9879\u6570\u636e\uff0c\u524d{part}\u9879\u662f{values};",allData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u6709{count}\u9879\u6570\u636e\uff0c\u5206\u522b\u662f{values};"},legend:{prefix:"\u56fe\u4f8b\u5206\u7c7b\u6709\uff1a"}},Sr=nn,_r=sn,Cr=an,Pr=on,Tr=en,Dr=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;(0,l.A)(this,n),r=e.call(this);var i=t.title,a=i?mt(Ar.general.withTitle,{title:i}):Ar.general.title;return r._attrs=Jt({type:"canvas",children:[],ariaLabel:a},t),r._initPixelRatio(),r._initCanvas(),r}return(0,c.A)(n,[{key:"get",value:function(t){return this._attrs[t]}},{key:"set",value:function(t,e){this._attrs[t]=e}},{key:"_initPixelRatio",value:function(){var t=this.get("pixelRatio");t||this.set("pixelRatio",Sr())}},{key:"beforeDraw",value:function(){var t=this._attrs.context,e=this._attrs.el;t&&t.clearRect&&t.clearRect(0,0,e.width,e.height)}},{key:"_initCanvas",value:function(){var t,e=this.get("el"),n=this.get("context");if(!e&&!n)throw new Error("Please specify the id, el or context of the chart!");t=e?Q(e)?_r(e):e:wn.create(n),n&&t&&!t.getContext&&(t.getContext=function(){return n});var r=this.get("width")||Cr(t)||t.width,i=this.get("height")||Pr(t)||t.height;this.set("canvas",this),this.set("el",t),this.set("context",n||t.getContext("2d")),this.changeSize(r,i);var a=new mn({canvas:this,el:t});this.set("eventController",a)}},{key:"changeSize",value:function(t,e){var n=this.get("pixelRatio"),r=this.get("el");if(r.style&&(r.style.width=t+"px",r.style.height=e+"px"),Tr(r)&&(r.width=t*n,r.height=e*n,1!==n)){var i=this.get("context");i.scale(n,n)}this.set("width",t),this.set("height",e)}},{key:"getWidth",value:function(){var t=this.get("pixelRatio"),e=this.get("width");return e*t}},{key:"getHeight",value:function(){var t=this.get("pixelRatio"),e=this.get("height");return e*t}},{key:"getPointByClient",value:function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top;return{x:(t-r.left)*(n.width/i),y:(e-r.top)*(n.height/a)}}},{key:"_beginDraw",value:function(){this._attrs.toDraw=!0}},{key:"_endDraw",value:function(){this._attrs.toDraw=!1,this.emit("afterdraw",{})}},{key:"draw",value:function(){var t=this,e=function e(){t.set("animateHandler",br((function(){t.set("animateHandler",void 0),t.get("toDraw")&&e()}))),t.beforeDraw();try{var n=t._attrs.context;t.drawChildren(n),n.draw&&n.draw(),t.setAriaLabel()}catch(e){console.warn("error in draw canvas, detail as:"),console.warn(e),t._endDraw()}t._endDraw()};this.get("destroyed")||(this.get("animateHandler")?this._beginDraw():e())}},{key:"setAriaLabel",value:function(){var t=this._attrs.el,e=this._getAriaLabel();e&&t.setAttribute&&t.setAttribute("aria-label",e)}},{key:"destroy",value:function(){if(!this.get("destroyed")){var t=this.get("el");t.width=0,t.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),n}(Qe);Jt(Dr.prototype,xr,{getGroupClass:function(){return wr}});var Or=Dr,jr={};function Er(t){var e=jr[t];return e||{Canvas:Or,Group:wr,Shape:vr}}function Yr(t){var e=t.renderer,n=Er(e);return new n.Canvas(t)}var Nr=function(t){(0,f.A)(n,t);var e=k(n);function n(){var t;return(0,l.A)(this,n),t=e.apply(this,arguments),t.type="polar",t.isPolar=!0,t}return(0,c.A)(n,[{key:"update",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"update",this).call(this,t),this.option||(this.option=t);var e=this.option,r=e.radius,i=void 0===r?1:r,a=e.innerRadius,o=void 0===a?0:a,s=this.width,u=this.height,l=this.startAngle,c=void 0===l?-Math.PI/2:l,h=this.endAngle,f=void 0===h?3*Math.PI/2:h,p=i*(Math.min(s,u)/2),d=[c,f],v=[o*p,p];return this.x=d,this.y=v,this.startAngle=c,this.endAngle=f,this.radius=p,this.innnerRadius=o*p,this}},{key:"isCyclic",value:function(){var t=this.startAngle,e=this.endAngle;return!(e-t<2*Math.PI)}},{key:"convertPoint",value:function(t){var e=this.center,n=this.transposed,r=this.x,i=this.y,a=n?"y":"x",o=n?"x":"y",s=(0,Me.A)(r,2),u=s[0],l=s[1],c=(0,Me.A)(i,2),h=c[0],f=c[1],p=u+(l-u)*t[a],d=h+(f-h)*t[o];return{x:e.x+Math.cos(p)*d,y:e.y+Math.sin(p)*d}}},{key:"invertPoint",value:function(t){var e=this.center,n=this.transposed,r=this.x,i=this.y,a=n?"y":"x",o=n?"x":"y",s=(0,Me.A)(r,2),u=s[0],l=s[1],c=(0,Me.A)(i,2),h=c[0],f=c[1],p=[1,0,0,1,0,0];Ne.rotate(p,p,u);var d=[1,0];Ie.transformMat2d(d,d,p),d=[d[0],d[1]];var v=[t.x-e.x,t.y-e.y];if(Ie.zero(v))return{x:0,y:0};var y=Ie.angleTo(d,v,l<u);Math.abs(y-2*Math.PI)<.001&&(y=0);var g=Ie.length(v),m=y/(l-u);m=l-u>0?m:-m;var x=(g-h)/(f-h),k={};return k[a]=m,k[o]=x,k}}]),n}(Oe),Ir=Nr,Fr={rect:Ee,polar:Ir},Rr=function(){function t(){(0,l.A)(this,t)}return(0,c.A)(t,[{key:"getOption",value:function(t){if(Q(t))return{type:Fr[t]||Ee};if(A(t))return{type:t};var e=t||{},n=e.type;return v(v({},t),{},{type:A(n)?n:Fr[n]||Ee})}},{key:"create",value:function(t,e){var n=this.getOption(t),r=n.type,i=new r(v(v({},n),e));return this.coord=i,i}},{key:"updateLayout",value:function(t){this.coord.update(t)}},{key:"update",value:function(){}}]),t}(),Lr=Rr,zr={};function Br(t){return zr[t]}function Wr(t,e){zr[t]=e}var Xr=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Jt(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Gt(this.ticks,(function(e,n){return P(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return _(r)||!A(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Jt(this,this.__cfg__),this.setDomain(),qt(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Q(t)){var n=Br(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else A(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return dt(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Hr=Xr,qr=function(t,e){return qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qr(t,e)};function Vr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Gr=function(){return Gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Gr.apply(this,arguments)};Object.create;function Ur(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Zr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Vr(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=dt(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return dt(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Ur([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(_(this.getConfig("min"))&&(this.min=0),_(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Hr),$r=Zr,Jr=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Qr="\\d\\d?",Kr="\\d\\d",ti="\\d{3}",ei="\\d{4}",ni="[^\\s]+",ri=/\[([^]*?)\]/gm;function ii(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var ai=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var si=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ui=["January","February","March","April","May","June","July","August","September","October","November","December"],li=ii(ui,3),ci=ii(si,3),hi={dayNamesShort:ci,dayNames:si,monthNamesShort:li,monthNames:ui,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},fi=oi({},hi),pi=function(t){return fi=oi(fi,t)},di=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},vi=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},yi={D:function(t){return String(t.getDate())},DD:function(t){return vi(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return vi(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return vi(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return vi(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return vi(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return vi(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return vi(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return vi(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return vi(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return vi(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return vi(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+vi(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+vi(Math.floor(Math.abs(e)/60),2)+":"+vi(Math.abs(e)%60,2)}},gi=function(t){return+t-1},mi=[null,Qr],xi=[null,ni],ki=["isPm",ni,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],wi=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],Mi={D:["day",Qr],DD:["day",Kr],Do:["day",Qr+ni,function(t){return parseInt(t,10)}],M:["month",Qr,gi],MM:["month",Kr,gi],YY:["year",Kr,function(t){var e=new Date,n=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?n-1:n)+t)}],h:["hour",Qr,void 0,"isPm"],hh:["hour",Kr,void 0,"isPm"],H:["hour",Qr],HH:["hour",Kr],m:["minute",Qr],mm:["minute",Kr],s:["second",Qr],ss:["second",Kr],YYYY:["year",ei],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",Kr,function(t){return 10*+t}],SSS:["millisecond",ti],d:mi,dd:mi,ddd:xi,dddd:xi,MMM:["month",ni,ai("monthNamesShort")],MMMM:["month",ni,ai("monthNames")],a:ki,A:ki,ZZ:wi,Z:wi},bi={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ai=function(t){return oi(bi,t)},Si=function(t,e,n){if(void 0===e&&(e=bi["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=bi[e]||e;var r=[];e=e.replace(ri,(function(t,e){return r.push(e),"@@@"}));var i=oi(oi({},fi),n);return e=e.replace(Jr,(function(e){return yi[e](t,i)})),e.replace(/@@@/g,(function(){return r.shift()}))};function _i(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=bi[e]||e,t.length>1e3)return null;var r=new Date,i={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(ri,(function(t,e){return o.push(di(e)),"@@@"})),u={},l={};s=di(s).replace(Jr,(function(t){var e=Mi[t],n=e[0],r=e[1],i=e[3];if(u[n])throw new Error("Invalid format. "+n+" specified twice in format");return u[n]=!0,i&&(l[i]=!0),a.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!u[t])throw new Error("Invalid format. "+t+" is required in specified format")})),s=s.replace(/@@@/g,(function(){return o.shift()}));var c=t.match(new RegExp(s,"i"));if(!c)return null;for(var h,f=oi(oi({},fi),n),p=1;p<c.length;p++){var d=a[p-1],v=d[0],y=d[2],g=y?y(c[p],f):+c[p];if(null==g)return null;i[v]=g}if(1===i.isPm&&null!=i.hour&&12!==+i.hour?i.hour=+i.hour+12:0===i.isPm&&12===+i.hour&&(i.hour=0),null==i.timezoneOffset){h=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],x=(p=0,m.length);p<x;p++)if(u[m[p][0]]&&i[m[p][0]]!==h[m[p][1]]())return null}else if(h=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return h}var Ci={format:Si,parse:_i,defaultI18n:hi,setGlobalDateI18n:pi,setGlobalDateMasks:Ai},Pi=Ci;function Ti(t){return function(e,n,r,i){var a=_(r)?0:r,o=_(i)?e.length:i;while(a<o){var s=a+o>>>1;t(e[s])>n?o=s:a=s+1}return a}}var Di="format";function Oi(t,e){var n=r[Di]||Pi[Di];return n(t,e)}function ji(t){return Q(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Pt(t)&&(t=t.getTime()),t}var Ei=1e3,Yi=60*Ei,Ni=60*Yi,Ii=24*Ni,Fi=31*Ii,Ri=365*Ii,Li=[["HH:mm:ss",Ei],["HH:mm:ss",10*Ei],["HH:mm:ss",30*Ei],["HH:mm",Yi],["HH:mm",10*Yi],["HH:mm",30*Yi],["HH",Ni],["HH",6*Ni],["HH",12*Ni],["YYYY-MM-DD",Ii],["YYYY-MM-DD",4*Ii],["YYYY-WW",7*Ii],["YYYY-MM",Fi],["YYYY-MM",4*Fi],["YYYY-MM",6*Fi],["YYYY",380*Ii]];function zi(t,e,n){var r=(e-t)/n,i=Ti((function(t){return t[1]}))(Li,r)-1,a=Li[i];return i<0?a=Li[0]:i>=Li.length&&(a=rt(Li)),a}var Bi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Vr(e,t),e.prototype.translate=function(t){t=ji(t);var e=this.values.indexOf(t);return-1===e&&(e=dt(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):Oi(r,this.mask),r}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;D(e,(function(t,n){e[n]=ji(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}($r),Wi=Bi,Xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Vr(e,t),e.prototype.scale=function(t){if(_(t))return NaN;var e=this.rangeMin(),n=this.rangeMax(),r=this.max,i=this.min;if(r===i)return e;var a=this.getScalePercent(t);return e+a*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=nt(e),r=rt(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),_(this.minLimit)||(this.min=n),_(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=U(this.values),e=t.min,n=t.max;_(this.min)&&(this.min=e),_(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=at(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Hr),Hi=Xi,qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Vr(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Hi),Vi=qi;function Gi(t,e){var n,r=Math.E;return n=e>=0?Math.pow(r,Math.log(e)/t):-1*Math.pow(r,Math.log(-e)/t),n}function Ui(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Zi(t,e,n){_(n)&&(n=Math.max.apply(null,t));var r=n;return D(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var $i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Vr(e,t),e.prototype.invert=function(t){var e,n=this.base,r=Ui(n,this.max),i=this.rangeMin(),a=this.rangeMax()-i,o=this.positiveMin;if(o){if(0===t)return 0;e=Ui(n,o/n);var s=1/(r-e)*a;if(t<s)return t/s*o}else e=Ui(n,this.min);var u=(t-i)/a,l=u*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Zi(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r,i=this.base,a=this.positiveMin;return a&&(n=1*a/i),r=t<a?t/a/(Ui(i,e)-Ui(i,n)):(Ui(i,t)-Ui(i,n))/(Ui(i,e)-Ui(i,n)),r},e}(Hi),Ji=$i,Qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Vr(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=Gi(n,this.max),i=Gi(n,this.min),a=e*(r-i)+i,o=a>=0?1:-1;return Math.pow(a,n)*o},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent,i=(Gi(r,t)-Gi(r,n))/(Gi(r,e)-Gi(r,n));return i},e}(Hi),Ki=Qi,ta=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Vr(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):Oi(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Q(n)||Pt(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return ji(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(_(e)&&dt(e)||(this.min=this.translate(this.min)),_(n)&&dt(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,a=i,o=0;D(t,(function(t){var e=ji(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(a=i,i=e):a>e&&(a=e),o<e&&(o=e),r.push(e)})),t.length>1&&(this.minTickInterval=a-i),_(e)&&(this.min=i),_(n)&&(this.max=o)}},e}(Vi),ea=ta,na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Vr(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return rt(e);if(i<0)return nt(e);var a=e[i],o=e[i+1],s=i/(n-1),u=(i+1)/(n-1);return a+(r-s)/(u-s)*(o-a)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(rt(e)!==this.max&&e.push(this.max),nt(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<nt(e))return 0;if(t>rt(e))return 1;var n=0;return D(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Hi),ra=na,ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Vr(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(ra),aa=ia,oa={};function sa(t){return oa[t]}function ua(t,e){if(sa(t))throw new Error("type '"+t+"' existed.");oa[t]=e}var la=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Vr(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&dt(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Hr),ca=la;function ha(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if(dt(n)){var a=at(e,(function(t,e){return e%n===0})),o=rt(e);return i&&rt(a)!==o&&a.push(o),a}var s=e.length,u=t.min,l=t.max;if(_(u)&&(u=0),_(l)&&(l=e.length-1),!dt(r)||r>=s)return e.slice(u,l+1);if(r<=0||l<=0)return[];for(var c=1===r?s:Math.floor(s/(r-1)),h=[],f=u,p=0;p<r;p++){if(f>=l)break;f=Math.min(u+p*c,l),p===r-1&&i?h.push(e[l]):h.push(e[f])}return h}function fa(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,a=new ga;return a.domain([e,n]),r&&a.nice(i),a.ticks(i)}var pa=5,da=Math.sqrt(50),va=Math.sqrt(10),ya=Math.sqrt(2),ga=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=pa);var r,i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o];return u<s&&(e=[u,s],s=e[0],u=e[1],n=[o,a],a=n[0],o=n[1]),r=xa(s,u,t),r>0?(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,r=xa(s,u,t)):r<0&&(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,r=xa(s,u,t)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=pa),ma(this._domain[0],this._domain[this._domain.length-1],t||pa)},t}();function ma(t,e,n){var r,i,a,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=xa(t,e,n))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));while(++s<i)a[s]=(t+s)*o}else{t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));while(++s<i)a[s]=(t-s)/o}return r&&a.reverse(),a}function xa(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=da?10:a>=va?5:a>=ya?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=da?10:a>=va?5:a>=ya?2:1)}function ka(t,e,n){var r;return r="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e),r*e}function wa(t,e,n){var r=ka(t,n,"floor"),i=ka(e,n,"ceil");r=ft(r,n),i=ft(i,n);for(var a=[],o=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=o){var u=ft(s,o);a.push(u)}return{min:r,max:i,ticks:a}}function Ma(t,e,n){var r,i=t.minLimit,a=t.maxLimit,o=t.min,s=t.max,u=t.tickCount,l=void 0===u?5:u,c=_(i)?_(e)?o:e:i,h=_(a)?_(n)?s:n:a;if(c>h&&(r=[c,h],h=r[0],c=r[1]),l<=2)return[c,h];for(var f=(h-c)/(l-1),p=[],d=0;d<l;d++)p.push(c+f*d);return p}function ba(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,a=t.maxLimit,o=fa(t);return _(i)&&_(a)?r?wa(e,n,r).ticks:o:Ma(t,nt(o),rt(o))}function Aa(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Sa=[1,5,2,2.5,4,3],_a=100*Number.EPSILON;function Ca(t,e){return(t%e+e)%e}function Pa(t){return Math.round(1e12*t)/1e12}function Ta(t,e,n,r,i,a){var o=ne(e),s=Wt(e,t),u=0,l=Ca(r,a);return(l<_a||a-l<_a)&&r<=0&&i>=0&&(u=1),1-s/(o-1)-n+u}function Da(t,e,n){var r=ne(e),i=Wt(e,t),a=1;return 1-i/(r-1)-n+a}function Oa(t,e,n,r,i,a){var o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function ja(t,e){return t>=e?2-(t-1)/(e-1):1}function Ea(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function Ya(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function Na(){return 1}function Ia(t,e,n,r,i,a){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Sa),void 0===a&&(a=[.25,.2,.5,.05]);var o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!o)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===o)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var s=n||5,u=(e-t)/s;return{min:t,max:e,ticks:Array(s).fill(null).map((function(e,n){return Aa(t+u*n)}))}}var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;while(c<1/0){for(var h=0;h<i.length;h+=1){var f=i[h],p=Da(f,i,c);if(a[0]*p+a[1]+a[2]+a[3]<l.score){c=1/0;break}var d=2;while(d<1/0){var v=ja(d,o);if(a[0]*p+a[1]+a[2]*v+a[3]<l.score)break;var y=(e-t)/(d+1)/c/f,g=Math.ceil(Math.log10(y));while(g<1/0){var m=c*f*Math.pow(10,g),x=Ya(t,e,m*(d-1));if(a[0]*p+a[1]*x+a[2]*v+a[3]<l.score)break;var k=Math.floor(e/m)*c-(d-1)*c,w=Math.ceil(t/m)*c;if(k<=w){s=w-k;for(var M=0;M<=s;M+=1){var b=k+M,A=b*(m/c),S=A+m*(d-1),_=m,C=Ta(f,i,c,A,S,_),P=Ea(t,e,A,S),T=Oa(d,o,t,e,A,S),D=Na(),O=a[0]*C+a[1]*P+a[2]*T+a[3]*D;O>l.score&&(!r||A<=t&&S>=e)&&(l.lmin=A,l.lmax=S,l.lstep=_,l.score=O)}}g+=1}d+=1}}c+=1}var j=Aa(l.lmax),E=Aa(l.lmin),Y=Aa(l.lstep),N=Math.floor(Pa((j-E)/Y))+1,I=new Array(N);I[0]=Aa(E);for(h=1;h<N;h++)I[h]=Aa(I[h-1]+Y);return{min:Math.min(t,nt(I)),max:Math.max(e,rt(I)),ticks:I}}function Fa(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,a=t.tickInterval,o=t.minLimit,s=t.maxLimit,u=Ia(e,n,r,i).ticks;return _(o)&&_(s)?a?wa(e,n,a).ticks:u:Ma(t,nt(u),rt(u))}function Ra(t){var e,n=t.base,r=t.tickCount,i=t.min,a=t.max,o=t.values,s=Ui(n,a);if(i>0)e=Math.floor(Ui(n,i));else{var u=Zi(o,n,a);e=Math.floor(Ui(n,u))}for(var l=s-e,c=Math.ceil(l/r),h=[],f=e;f<s+c;f+=c)h.push(Math.pow(n,f));return i<=0&&h.unshift(0),h}function La(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=1.5,a=.5+1.5*i,o=e-t,s=o/r,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<i*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<i*(s-l)&&(l=10*u)));for(var c=Math.ceil(e/l),h=Math.floor(t/l),f=Math.max(c*l,e),p=Math.min(h*l,t),d=Math.floor((f-p)/l)+1,v=new Array(d),y=0;y<d;y++)v[y]=Aa(p+y*l);return{min:p,max:f,ticks:v}}function za(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(Gi(e,t.max)),i=Math.floor(Gi(e,t.min)),a=La(i,r,n).ticks;return a.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))}function Ba(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function Wa(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],a=0;a<e;a++){var o=a/(e-1);i.push(Ba(r,o))}return i}function Xa(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,a=t.minLimit,o=t.maxLimit,s=La(e,n,r).ticks;return _(a)&&_(o)?i?wa(e,n,i).ticks:s:Ma(t,nt(s),rt(s))}function Ha(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,a=t.tickCount;if(i)a=Math.ceil((n-e)/i);else{i=zi(e,n,a)[1];var o=(n-e)/i,s=o/a;s>1&&(i*=Math.ceil(s)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var u=[],l=e;l<n+i;l+=i)u.push(l);return u}function qa(t){var e=ha(Gr({showLast:!0},t));return e}function Va(t){return new Date(t).getFullYear()}function Ga(t){return new Date(t,0,1).getTime()}function Ua(t){return new Date(t).getMonth()}function Za(t,e){var n=Va(t),r=Va(e),i=Ua(t),a=Ua(e);return 12*(r-n)+(a-i)%12}function $a(t,e){return new Date(t,e,1).getTime()}function Ja(t,e){return Math.ceil((e-t)/Ii)}function Qa(t,e){return Math.ceil((e-t)/Ni)}function Ka(t,e){return Math.ceil((e-t)/6e4)}function to(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,a=t.tickInterval,o=[];a||(a=(n-e)/i,r&&a<r&&(a=r)),a=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),a);var s=Va(e);if(a>Ri)for(var u=Va(n),l=Math.ceil(a/Ri),c=s;c<=u+l;c+=l)o.push(Ga(c));else if(a>Fi){var h=Math.ceil(a/Fi),f=Ua(e),p=Za(e,n);for(c=0;c<=p+h;c+=h)o.push($a(s,c+f))}else if(a>Ii){var d=new Date(e),v=d.getFullYear(),y=d.getMonth(),g=d.getDate(),m=Math.ceil(a/Ii),x=Ja(e,n);for(c=0;c<x+m;c+=m)o.push(new Date(v,y,g+c).getTime())}else if(a>Ni){d=new Date(e),v=d.getFullYear(),y=d.getMonth(),m=d.getDate();var k=d.getHours(),w=Math.ceil(a/Ni),M=Qa(e,n);for(c=0;c<=M+w;c+=w)o.push(new Date(v,y,m,k+c).getTime())}else if(a>Yi){var b=Ka(e,n),A=Math.ceil(a/Yi);for(c=0;c<=b+A;c+=A)o.push(e+c*Yi)}else{var S=a;S<Ei&&(S=Ei);var _=Math.floor(e/Ei)*Ei,C=Math.ceil((n-e)/Ei),P=Math.ceil(S/Ei);for(c=0;c<C+P;c+=P)o.push(_+c*Ei)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}Wr("cat",ha),Wr("time-cat",qa),Wr("wilkinson-extended",Fa),Wr("r-pretty",Xa),Wr("time",Ha),Wr("time-pretty",to),Wr("log",Ra),Wr("pow",za),Wr("quantile",Wa),Wr("d3-linear",ba),ua("cat",$r),ua("category",$r),ua("identity",ca),ua("linear",Vi),ua("log",Ji),ua("pow",Ki),ua("time",ea),ua("timeCat",Wi),ua("quantize",ra),ua("quantile",aa);var eo=function(t){var e=t.values,n=t.tickCount;if(!n)return e;if(e.length<=1)return e;for(var r=Math.floor(e.length/(n-1))||1,i=[],a=0;a<e.length;a+=r)i.push(e[a]);var o=e[e.length-1];return i[i.length-1]!==o&&(i.length>=n?i[i.length-1]=o:i.push(o)),i},no=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],ro=5,io=function(t){var e=t||{},n=e.tickCount,r=e.tickInterval,i=t||{},a=i.min,o=i.max;a=isNaN(a)?0:a,o=isNaN(o)?0:o;var s=n&&n>=2?n:ro,u=r||so({tickCount:s,max:o,min:a}),l=Math.floor(a/u)*u;if(r){var c=Math.abs(Math.ceil((o-l)/r))+1;s=Math.max(s,c)}var h=0,f=co(u);if(a<0&&o>0&&2===s)return[ho(l,f),ho(Math.ceil(o/u)*u,f)];var p=[];while(h<s)p.push(ho(l+h*u,f)),h++;return p},ao=12;function oo(t){t=Math.abs(t);var e=1;if(0===t)return e;if(t<1){var n=0;while(t<1)e/=10,t*=10,n++;return e.toString().length>ao&&(e=parseFloat(e.toFixed(n))),e}while(t>10)e*=10,t/=10;return e}function so(t){var e=t.tickCount,n=t.min,r=t.max;if(n===r)return 1*oo(r);for(var i=(r-n)/(e-1),a=oo(i),o=i/a,s=r/a,u=n/a,l=0,c=0;c<no.length;c++){var h=no[c];if(o<=h){l=c;break}}var f=n<0&&r>0&&2===e?no[l]:uo(l,e,u,s),p=co(f)+co(a);return ho(f*a,p)}function uo(t,e,n,r){for(var i=!1,a=no[t],o=t;o<no.length;o++)if(lo({interval:no[o],tickCount:e,max:r,min:n})){a=no[o],i=!0;break}return i?a:10*uo(0,e,n/10,r/10)}function lo(t){var e=t.interval,n=t.tickCount,r=t.max,i=t.min,a=Math.floor(i/e)*e;return a+(n-1)*e>=r}function co(t){var e=t.toString(),n=e.indexOf("."),r=e.indexOf("e-"),i=r>=0?parseInt(e.substr(r+2),10):e.substr(n+1).length;return i>20&&(i=20),i}function ho(t,e){return parseFloat(t.toFixed(e))}Wr("cat",eo),Wr("time-cat",eo),Wr("wilkinson-extended",io);var fo=function(){function t(e){(0,l.A)(this,t),this.data=e,this.options={},this.scales={}}return(0,c.A)(t,[{key:"_getType",value:function(t){var e=t.type,n=t.values,r=t.field;return e||(dt(r)||_(n[0])&&r?"identity":"number"===typeof n[0]?"linear":"cat")}},{key:"_getOption",value:function(t){var e=t.values,n=t.field,r=t.justifyContent,i=this._getType(t);if(t.type=i,"identity"===i)return t.field=n.toString(),t.values=[n],t;if("linear"===i){"boolean"!==typeof t.nice&&(t.nice=!0);var a=U(e),o=a.min,s=a.max;return _(t.min)&&(t.min=o),_(t.max)&&(t.max=s),t.values=e.sort((function(t,e){return t-e})),t}if("cat"===i||"timeCat"===i){if(t.range)return t;var u=e.length,l=[0,1];if(1===u)l=[.5,1];else if(r){var c=1/u*.5;l=[c,1-c]}else{var h=1/u;l=[0,1-h]}t.range=l}return t}},{key:"createScale",value:function(t){var e=t.type;if(A(e))return new e(t);var n=sa(e);return new n(t)}},{key:"setScale",value:function(t,e){var n=this.options,r=this.scales;n[t]=Jt({},n[t],e),r[t]&&delete r[t]}},{key:"create",value:function(t){this.update(t)}},{key:"update",value:function(t){var e=this;t&&(D(t,(function(t,n){e.setScale(n,t)})),this.scales=v({},this.scales))}},{key:"changeData",value:function(t){this.data=t,this.scales={}}},{key:"getData",value:function(){return this.data}},{key:"getScale",value:function(t){var e=this.scales,n=this.options,r=this.data,i=e[t];if(i)return i;var a=n[t];if(!a)return null;var o=a.values?a.values:r?K(r,t):[],s=this._getOption(v(v({},a),{},{field:t,values:o})),u=this.createScale(s);return e[t]=u,u}},{key:"getScales",value:function(){var t=this,e=this.options,n=this.scales;return D(e,(function(e,n){t.getScale(n)})),n}},{key:"adjustStartZero",value:function(t){var e=this.options,n=t.field,r=t.min,i=t.max,a=e[n];a&&a.min||(r>0?t.change({min:0}):i<0&&t.change({max:0}))}},{key:"adjustPieScale",value:function(t){var e=this.options,n=t.field,r=e[n];if(r&&!_(r.nice))return null;t.change({nice:!1})}},{key:"getZeroValue",value:function(t){var e,n=t.min,r=t.max;return e=n>=0?n:r<=0?r:0,t.scale(e)}}]),t}(),po=fo,vo=function(t){(0,f.A)(n,t);var e=k(n);function n(t,r,i){var a;(0,l.A)(this,n),a=e.call(this,t,r,i),a.componentsPosition=[];var o=t.data,s=t.coord,u=t.scale,c=void 0===u?[]:u;a.layoutController=new _e,a.coordController=new Lr,a.scaleController=new po(o),a.scale=a.scaleController;var h=(0,y.A)(a),f=h.layoutController,p=h.coordController,d=h.scaleController,v=a.getStyle(t,r);return a.layout=f.create(v),a.coord=p.create(s,a.layout),d.create(c),a.data=o,a.state={filters:{}},a}return(0,c.A)(n,[{key:"willReceiveProps",value:function(t,e){var n=this.layoutController,r=this.coordController,i=this.scaleController,a=this.props,o=t.style,s=t.data,u=t.scale,l=a.style,c=a.data,h=a.scale;if(!de(o,l)||e!==this.context){var f=this.getStyle(t,e);this.layout=n.create(f),r.updateLayout(this.layout)}s!==c&&i.changeData(s),de(u,h)||i.update(u)}},{key:"willUpdate",value:function(){var t=this.coordController,e=this.props;this.coord=t.create(e.coord,this.layout)}},{key:"getStyle",value:function(t,e){var n=e.theme,r=e.px2hd,i=e.left,a=e.top,o=e.width,s=e.height,u=t.style;return r(v(v({left:i,top:a,width:o,height:s},n.chart),u))}},{key:"layoutCoord",value:function(t){var e=this.coord,n=this.props,r=t.position,i=t.width,a=t.height,o=e.left,s=e.top,u=e.width,l=e.height;switch(r){case"left":o+=i,u=Math.max(0,u-i);break;case"right":u=Math.max(0,u-i);break;case"top":s+=a,l=Math.max(0,l-a);break;case"bottom":l=Math.max(0,l-a);break}e.update(v(v({},n.coord),{},{left:o,top:s,width:u,height:l}))}},{key:"resetCoordLayout",value:function(){var t=this.coord,e=this.layout;t.update(e)}},{key:"updateCoordLayout",value:function(t){var e=this;C(t)?t.forEach((function(t){e.layoutCoord(t)})):this.layoutCoord(t)}},{key:"updateCoordFor",value:function(t,e){var n=this;if(e){var r=this.componentsPosition,i={component:t,layout:e},a=W(r,(function(e){return e.component===t}));if(a>-1)return r.splice(a,1,i),this.resetCoordLayout(),void r.forEach((function(t){var e=t.layout;n.updateCoordLayout(e)}));r.push(i),this.updateCoordLayout(e)}}},{key:"getGeometrys",value:function(){var t=this.children,e=[];return we.toArray(t).forEach((function(t){if(!t)return!1;var n=t.component;n&&n.isGeometry&&e.push(n)})),e}},{key:"getPosition",value:function(t){for(var e=this.getCoord(),n=this.getXScales()[0],r=n.field,i=this.getYScales(),a=i[0],o=a.field,s=0,u=i.length;s<u;s++){var l=i[s],c=l.field;if(t[c]){a=l,o=c;break}}var h=n.scale(t[r]),f=a.scale(t[o]);return e.convertPoint({x:h,y:f})}},{key:"getSnapRecords",value:function(t,e){var n=this.getGeometrys();if(n.length)return n[0].getSnapRecords(t,e)}},{key:"getRecords",value:function(t,e){var n=this.getGeometrys();if(n.length)return n[0].getRecords(t,e)}},{key:"getLegendItems",value:function(t){var e=this.getGeometrys();if(e.length)return e[0].getLegendItems(t)}},{key:"setScale",value:function(t,e){this.scaleController.setScale(t,e)}},{key:"getScale",value:function(t){return this.scaleController.getScale(t)}},{key:"getScales",value:function(){return this.scaleController.getScales()}},{key:"getXScales",value:function(){var t=this.getGeometrys();return t.map((function(t){return t.getXScale()}))}},{key:"getYScales",value:function(){var t=this.getGeometrys();return t.map((function(t){return t.getYScale()}))}},{key:"getCoord",value:function(){return this.coord}},{key:"filter",value:function(t,e){var n=this.state.filters;this.setState({filters:v(v({},n),{},(0,p.A)({},t,e))})}},{key:"_getRenderData",value:function(){var t=this.props,e=this.state,n=t.data,r=e.filters;if(!r||!Object.keys(r).length)return n;var i=n;return D(r,(function(t,e){t&&(i=i.filter((function(n){return t(n[e],n)})))})),i}},{key:"render",value:function(){var t=this,e=this.props,n=this.layout,r=this.coord,i=e.children,a=e.data;if(!a)return null;var o=this._getRenderData();return we.map(i,(function(e){return we.cloneElement(e,{chart:t,coord:r,data:o,layout:n})}))}}]),n}(le),yo=vo;function go(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mo(t,e){if(null==t)return{};var n,r,i=go(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var xo=["key","ref"];function ko(t,e){for(var n=e||{},r=n.key,i=n.ref,a=mo(n,xo),o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return s.length&&(a.children=1===s.length?s[0]:s),{key:r,ref:i,type:t,props:a,_cache:{}}}var wo=function(t){return function(e){(0,f.A)(r,e);var n=k(r);function r(t){var e;(0,l.A)(this,r),e=n.call(this,t),e.style={};var i=e.props,a=i.chart,o=i.field,s=e.getScaleOption(t);return a.setScale(o,s),e}return(0,c.A)(r,[{key:"willReceiveProps",value:function(t){var e=this.props,n=t.chart,r=t.field,i=this.getScaleOption(t),a=this.getScaleOption(e);de(i,a)||n.setScale(r,i)}},{key:"willMount",value:function(){this.updateCoord()}},{key:"willUpdate",value:function(){this.updateCoord()}},{key:"getScaleOption",value:function(t){var e=t.type,n=t.tickCount,r=t.range,i=t.mask,a=t.formatter,o=t.ticks,s=t.min,u=t.max,l=t.nice;return{type:e,tickCount:n,range:r,mask:i,formatter:a,min:s,max:u,nice:l,ticks:o}}},{key:"_getDimType",value:function(){var t=this.props,e=t.field,n=t.chart,r=n.getXScales(),i=r.filter((function(t){return t.field===e}));return i.length>0?"x":"y"}},{key:"getMaxBBox",value:function(t,e){var n=this.context,r=n.measureText,i=e.label,a=e.labelOffset,o=0,s=0;if(t.forEach((function(t){if(i){var e=t.labelStyle,n=void 0===e?{}:e,a=t.text,u=r(n.text||a,v(v({},i),n));o=Math.max(o,u.width),s=Math.max(s,u.height)}})),!o&&!s)return{width:o,height:s};var u={width:o+a,height:s+a};return u}},{key:"_getPosition",value:function(){var t=this.props,e=t.position,n=t.coord;if(e)return e;var r=this._getDimType();return n.transposed?"x"===r?"left":"bottom":"x"===r?"bottom":"left"}},{key:"getTicks",value:function(){var t=this.props,e=t.field,n=t.chart,r=n.getScale(e),i=r.getTicks();return i=this._setTicksStyle(i),i=this._generateGridPoints(i),i}},{key:"_generateGridPoints",value:function(t){var e=this.props,n=e.chart,r=e.coord;if(!r.isPolar)return t;var i=this._getDimType();if("y"!==i)return t;var a=n.getXScales()[0],o=a.getTicks();return t.forEach((function(t){var e=o.map((function(e){return r.convertPoint({x:e.value,y:t.value})}));e.push(e[0]),t.gridPoints=e})),t}},{key:"_setTicksStyle",value:function(t){var e=this,n=this.props,r=this.context,i=r.theme,a=r.px2hd,o=n.style,s=void 0===o?{}:o,u=i.axis;return D(u,(function(t,n){if(null!==s[n]){var r=A(s[n])?void 0:s[n];Q(t)||dt(t)?e.style[n]=a(r)||t:e.style[n]=a(zt(Nt(t),r))}})),t.map((function(e,n){var r=s.label,i=s.grid,o=u.label,l=u.grid;return A(r)&&(e.labelStyle=a(Jt({},o,r(e.text,n,t)))),A(i)&&(e.gridStyle=a(Jt({},l,i(e.text,n,t.length)))),e}))}},{key:"convertTicks",value:function(t){var e=this.props,n=e.coord,r=this._getDimType(),i="x"===r?"y":"x";return t.map((function(t){var e,a,o=n.convertPoint((e={},(0,p.A)(e,r,t.value),(0,p.A)(e,i,0),e)),s=n.convertPoint((a={},(0,p.A)(a,r,t.value),(0,p.A)(a,i,1),a));return v(v({},t),{},{points:[o,s]})}))}},{key:"measureLayout",value:function(){var t=this.props,e=t.visible,n=t.coord;if(!1===e)return null;var r=this.getTicks(),i=this.getMaxBBox(r,this.style),a=n.isPolar,o=this._getDimType(),s=i.width,u=i.height;if(a)return"y"===o?null:["top","right","bottom","left"].map((function(t){return{position:t,width:s,height:u}}));var l=this._getPosition();return{position:l,width:s,height:u}}},{key:"updateCoord",value:function(){var t=this.props,e=t.chart,n=this.measureLayout();e.updateCoordFor(this,n)}},{key:"render",value:function(){var e=this.props,n=this.style,r=e.visible,i=e.coord;if(!1===r)return null;var a=this.getTicks(),o=this._getPosition(),s=this._getDimType();return ko(t,v(v({},e),{},{style:n,ticks:this.convertTicks(a),coord:i,position:o,dimType:s}))}}]),r}(le)};function Mo(t,e,n){var r=e.x-t.x,i=e.y-t.y,a=[r,i],o=Ie.length(a),s=o+n,u=r/o*s,l=i/o*s;return{x:t.x+u,y:t.y+l}}function bo(t,e){var n,r,i=[e.x-t.x,e.y-t.y];return n=i[0]>0?"left":i[0]<0?"right":"center",r=i[1]>0?"top":i[1]<0?"bottom":"middle",{textAlign:n,textBaseline:r}}var Ao=function(t){var e=t.line,n=t.gridType,r=t.center,i=t.radius,a=t.ticks;if(!e)return null;if("line"!==n)return ko("arc",{attrs:v({x:r.x,y:r.y,r:i},e)});var o=a.map((function(t){var e=t.points;return e[e.length-1]}));return o.push(o[0]),ko("polyline",{attrs:v({points:o},e)})},So=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,a=n.center,o=r.grid,s=r.tickLine,u=r.line,l=r.labelOffset,c=r.label,h=e[0],f=h.points,p=f[f.length-1],d=Ie.length([p.x-a.x,p.y-a.y]);return ko("group",null,o?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[e.length-1];return ko("line",{attrs:v(v({x1:a.x,y1:a.y,x2:r.x,y2:r.y},o),n)})})):null,s&&s.length?e.map((function(t){var e=t.points,n=e[e.length-1],r=Mo(a,n,s.length);return ko("line",{attrs:v({x1:n.x,y1:n.y,x2:r.x,y2:r.y},s)})})):null,ko(Ao,{line:u,gridType:i,center:a,radius:d,ticks:e}),c?e.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1],o=Mo(a,i,l);return ko("text",{attrs:v(v(v({x:o.x,y:o.y,text:n},bo(a,i)),c),r)})})):null)},_o=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,a=n.center,o=r.grid,s=r.tickLine,u=r.line,l=r.labelOffset,c=r.label;return ko("group",null,o?e.map((function(t){var e=t.points,n=t.gridStyle,r=t.gridPoints,s=e[e.length-1];return"line"!==i?ko("arc",{attrs:v(v({x:a.x,y:a.y,r:Ie.length([s.x-a.x,s.y-a.y])},o),n)}):ko("polyline",{attrs:v(v({points:r},o),n)})})):null,s&&s.length?e.map((function(t){var e=t.points,n=e[e.length-1];return ko("line",{attrs:v({x1:n.x,y1:n.y,x2:n.x-s.length,y2:n.y},s)})})):null,u?ko("line",{attrs:v({x1:e[0].points[0].x,y1:e[0].points[0].y,x2:e[e.length-1].points[0].x,y2:e[e.length-1].points[0].y},u)}):null,c?e.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1];return ko("text",{attrs:v(v({x:i.x-l,y:i.y,text:n,textAlign:"right",textBaseline:"middle"},c),r)})})):null)},Co=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.left,a=n.top,o=n.right,s=r.grid,u=r.tickLine,l=r.line,c=r.labelOffset,h=r.label;return ko("group",null,s?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return ko("line",{attrs:v(v({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,u&&u.length?e.map((function(t){var e=t.points,n=e[e.length-1];return ko("line",{attrs:v({x1:n.x,y1:n.y,x2:n.x,y2:n.y-u.length},u)})})):null,l?ko("line",{attrs:v({x1:i,y1:a,x2:o,y2:a},l)}):null,h?e.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,a=n[n.length-1];return ko("text",{attrs:v(v({x:a.x,y:a.y-c,textAlign:"center",textBaseline:"bottom",text:r},h),i)})})):null)},Po=function(t,e){var n=t.ticks,r=t.coord,i=t.style,a=t.animation,o=e.px2hd,s=r.left,u=r.right,l=r.bottom,c=i.grid,h=i.tickLine,f=i.line,p=i.labelOffset,d=i.label;return ko("group",null,c?n.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],a=e[e.length-1];return ko("line",{key:n,attrs:v(v({x1:i.x,y1:i.y,x2:a.x,y2:a.y},c),r)})})):null,h&&h.length?n.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return ko("line",{key:n,attrs:v({x1:r.x,y1:r.y,x2:r.x,y2:r.y+o(h.length)},h)})})):null,f?ko("line",{attrs:v({x1:s,y1:l,x2:u,y2:l},f)}):null,d?n.map((function(t,e){var r=t.points,i=t.text,o=t.tickValue,s=t.labelStyle,u=r[0],l=s||d||{},c=l.align,h=void 0===c?"center":c,f=v(v({x:u.x,y:u.y+p,textBaseline:"top",text:i},d),s);return"between"===h?0===e?f.textAlign="start":e===n.length-1?f.textAlign="end":f.textAlign="center":f.textAlign=h,ko("text",{key:o,attrs:f,animation:a||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)},To=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.top,a=n.right,o=n.bottom,s=r.grid,u=r.tickLine,l=r.line,c=r.labelOffset,h=r.label;return ko("group",null,s?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return ko("line",{attrs:v(v({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,u&&u.length?e.map((function(t){var e=t.points,n=e[e.length-1];return ko("line",{attrs:v({x1:n.x,y1:n.y,x2:n.x+u.length,y2:n.y},u)})})):null,l?ko("line",{attrs:v({x1:a,y1:i,x2:a,y2:o},l)}):null,h?e.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,a=n[n.length-1];return ko("text",{attrs:v(v({x:a.x+c,y:a.y,textAlign:"left",textBaseline:"middle",text:r},h),i)})})):null)},Do=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.animation,a=n.left,o=n.top,s=n.bottom,u=r.grid,l=r.tickLine,c=r.line,h=r.labelOffset,f=r.label;return ko("group",null,u?e.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],a=e[e.length-1];return ko("line",{key:n,attrs:v(v({x1:i.x,y1:i.y,x2:a.x,y2:a.y},u),r)})})):null,l&&l.length?e.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return ko("line",{key:n,attrs:v({x1:r.x,y1:r.y,x2:r.x-l.length,y2:r.y},l)})})):null,c?ko("line",{attrs:v({x1:a,y1:o,x2:a,y2:s},c)}):null,f?e.map((function(t,e){var n=t.tickValue,r=t.points,a=t.text,o=t.labelStyle,s=r[0];return ko("text",{key:n,attrs:v(v({x:s.x-h,y:s.y,textAlign:"right",textBaseline:"middle",text:a},f),o),animation:i||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)};function Oo(t){return t.coord.isPolar}var jo=function(t){if(Oo(t)){var e=t.dimType;return ko("x"===e?So:_o,v({},t))}var n=t.position;return ko("right"===n?To:"left"===n?Do:"top"===n?Co:Po,v({},t))},Eo=wo(jo),Yo=n(436);function No(t,e,n){if(t===e)return!0;for(var r=0,i=n.length;r<i;r++){var a=n[r];if(t[a]!==e[a])return!1}return!0}var Io=function(t){(0,f.A)(n,t);var e=k(n);function n(t,r){var i;(0,l.A)(this,n),i=e.call(this,t,r);var a=t.selection;if(!a)return(0,x.A)(i);var o=a.defaultSelected;return i.state.selected=o,i}return(0,c.A)(n,[{key:"didMount",value:function(){var t=this,e=this.props,n=this.state,r=this.container,i=r.get("canvas"),a=e.selection,o=e.chart;if(a){var s=a.triggerOn,u=void 0===s?"click":s;i.on(u,(function(e){var r=e.points,i=t.getSnapRecords(r[0]),s=a.type,u=void 0===s?"single":s,l=a.cancelable,c=void 0===l||l;if(i&&i.length){var h=n.selected,f=i.map((function(t){return t.origin}));if(h&&h.length||t.setState({selected:f}),"single"===u){if(!c)return void t.setState({selected:f});var p=[];return i.forEach((function(e){t.isSelected(e)||p.push(e.origin)})),void t.setState({selected:p})}var d=o.getScales(),v=Object.keys(d),y={};h.forEach((function(t){var e=v.map((function(e){return t[e]})).join("-");y[e]=t})),i.forEach((function(t){var e=t.origin,n=v.map((function(t){return e[t]})).join("-");y[n]=y[n]?null:e}));var g=Object.keys(y).map((function(t){return y[t]})).filter(Boolean);t.setState({selected:g})}else c&&t.setState({selected:null})}))}}},{key:"willReceiveProps",value:function(t){var e=t.selection,n=this.props.selection;if(e&&n){var r=e.defaultSelected,i=n.defaultSelected;de(r,i)||(this.state.selected=r)}}},{key:"getSnapRecords",value:function(t){return null}},{key:"isSelected",value:function(t){var e=this.state,n=this.props,r=e.selected;if(!r||!r.length)return!1;for(var i=n.chart,a=i.getScales(),o=Object.keys(a),s=0,u=r.length;s<u;s++){var l=r[s];if(No(t.origin,l,o))return!0}return!1}},{key:"getSelectionStyle",value:function(t){var e=this.state,n=this.props,r=e.selected;if(!r||!r.length)return null;var i=n.selection,a=i.selectedStyle,o=i.unSelectedStyle,s=this.isSelected(t);return s?A(a)?a(t):a:A(o)?o(t):o}}]),n}(le),Fo=Io,Ro=0,Lo=.5,zo=.5,Bo=.05,Wo=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,a=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=a}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,a=this.yField,o=n.indexOf(e),s=n.length;return!a&&this.isAdjust("y")?(r=0,i=1):s>1?(r=n[0===o?0:o-1],i=n[o===s-1?s-1:o+1],0!==o?r+=(e-r)/2:r-=(i-e)/2,o!==s-1?i-=(i-e)/2:i+=(e-n[s-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);D(t,(function(t,e){D(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return D(t,(function(t){void 0===t[e]&&(t[e]=Ro)})),ut(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this,n=e.xField,r=e.yField,i=Jt({},this.dimValuesMap),a=[];if(n&&this.isAdjust("x")&&a.push(n),r&&this.isAdjust("y")&&a.push(r),a.forEach((function(e){i&&i[e]||(i[e]=K(t,e).sort((function(t,e){return t-e})))})),!r&&this.isAdjust("y")){var o="y";i[o]=[Ro,1]}return i},t}(),Xo=Wo,Ho={},qo=function(t){return Ho[t.toLowerCase()]},Vo=function(t,e){if(qo(t))throw new Error("Adjust type '"+t+"' existed.");Ho[t.toLowerCase()]=e},Go=function(t,e){return Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Go(t,e)};function Uo(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Zo=function(){return Zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zo.apply(this,arguments)};var $o=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?Lo:r,a=e.dodgeRatio,o=void 0===a?zo:a,s=e.dodgeBy,u=e.intervalPadding,l=e.dodgePadding,c=e.xDimensionLength,h=e.groupNum,f=e.defaultSize,p=e.maxColumnWidth,d=e.minColumnWidth,v=e.columnWidthRatio,y=e.customOffset;return n.marginRatio=i,n.dodgeRatio=o,n.dodgeBy=s,n.intervalPadding=u,n.dodgePadding=l,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=f,n.maxColumnWidth=p,n.minColumnWidth=d,n.columnWidthRatio=v,n.customOffset=y,n}return Uo(e,t),e.prototype.process=function(t){var e=Nt(t),n=H(e),r=this.dodgeBy,i=r?ct(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,a=this.customOffset,o=this.getDistribution(t),s=this.groupData(n,t);return D(s,(function(n,s){var u;u=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(s),e),D(n,(function(e){var n=e[t],s=o[n],l=s.indexOf(r);if(_(a))e[t]=i.getDodgeOffset(u,l,s.length);else{var c=u.pre,h=u.next;e[t]=A(a)?a(e,u):(c+h)/2+a}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,a=i.dodgeRatio,o=i.marginRatio,s=i.intervalPadding,u=i.dodgePadding,l=t.pre,c=t.next,h=c-l;if(!_(s)&&_(u)&&s>=0){var f=this.getIntervalOnlyOffset(n,e);r=l+f}else if(!_(u)&&_(s)&&u>=0){f=this.getDodgeOnlyOffset(n,e);r=l+f}else if(!_(s)&&!_(u)&&s>=0&&u>=0){f=this.getIntervalAndDodgeOffset(n,e);r=l+f}else{var p=h*a/n,d=o*p;f=.5*(h-n*p-(n-1)*d)+((e+1)*p+e*d)-.5*p-.5*h;r=(l+c)/2+f}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,a=n.xDimensionLegenth,o=n.groupNum,s=n.dodgeRatio,u=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/a,f=(1-(o-1)*h)/o*s/(t-1),p=((1-h*(o-1))/o-f*(t-1))/t;if(p=_(c)?p:1/o/t*c,!_(u)){var d=u/a;p=Math.min(p,d)}if(!_(l)){var v=l/a;p=Math.max(p,v)}p=r?r/a:p,f=((1-(o-1)*h)/o-t*p)/(t-1);var y=((.5+e)*p+e*f+.5*h)*o-h/2;return y},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,s=n.marginRatio,u=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/a,f=1*s/(o-1),p=((1-f*(o-1))/o-h*(t-1))/t;if(p=c?1/o/t*c:p,!_(u)){var d=u/a;p=Math.min(p,d)}if(!_(l)){var v=l/a;p=Math.max(p,v)}p=r?r/a:p,f=(1-(p*t+h*(t-1))*o)/(o-1);var y=((.5+e)*p+e*h+.5*f)*o-f/2;return y},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,s=r/a,u=i/a,l=((1-s*(o-1))/o-u*(t-1))/t,c=((.5+e)*l+e*u+.5*s)*o-s/2;return c},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},D(e,(function(e,n){var i=K(e,t);i.length||i.push(0),D(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(Xo),Jo=$o;function Qo(t,e){return(e-t)*Math.random()+t}var Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uo(e,t),e.prototype.process=function(t){var e=Nt(t),n=H(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return D(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=(n-e)*Bo;return Qo(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,a=this.getAdjustRange(e,n,r);return D(t,(function(t){t[e]=i.getAdjustOffset(a)})),t},e}(Xo),ts=Ko,es=se,ns=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,a=e.height,o=void 0===a?NaN:a,s=e.size,u=void 0===s?10:s,l=e.reverseOrder,c=void 0!==l&&l;return n.adjustNames=i,n.height=o,n.size=u,n.reverseOrder=c,n}return Uo(e,t),e.prototype.process=function(t){var e=this,n=e.yField,r=e.reverseOrder,i=n?this.processStack(t):this.processOneDimStack(t);return r?this.reverse(i):i},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder,a=i?this.reverse(t):t,o=new es,s=new es;return a.map((function(t){return t.map((function(t){var e,i=Qt(t,n,0),a=Qt(t,[r]),u=i.toString();if(a=C(a)?a[1]:a,!_(a)){var l=a>=0?o:s;l.has(u)||l.set(u,0);var c=l.get(u),h=a+c;return l.set(u,h),Zo(Zo({},t),(e={},e[r]=[c,h],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,a=n.reverseOrder,o="y",s=a?this.reverse(t):t,u=new es;return s.map((function(t){return t.map((function(t){var n,a=e.size,s=t[r],l=2*a/i;u.has(s)||u.set(s,l/2);var c=u.get(s);return u.set(s,c+l),Zo(Zo({},t),(n={},n[o]=c,n))}))}))},e}(Xo),rs=ns,is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uo(e,t),e.prototype.process=function(t){var e=H(t),n=this,r=n.xField,i=n.yField,a=this.getXValuesMaxMap(e),o=Math.max.apply(Math,Object.keys(a).map((function(t){return a[t]})));return Gt(t,(function(t){return Gt(t,(function(t){var e,n,s=t[i],u=t[r];if(C(s)){var l=(o-a[u])/2;return Zo(Zo({},t),(e={},e[i]=Gt(s,(function(t){return l+t})),e))}var c=(o-s)/2;return Zo(Zo({},t),(n={},n[i]=[c,s+c],n))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this,r=n.xField,i=n.yField,a=ut(t,(function(t){return t[r]}));return Zt(a,(function(t){return e.getDimMaxValue(t,i)}))},e.prototype.getDimMaxValue=function(t,e){var n=Gt(t,(function(t){return Qt(t,e,[])})),r=H(n);return Math.max.apply(Math,r)},e}(Xo),as=is;Vo("Dodge",Jo),Vo("Jitter",ts),Vo("Stack",rs),Vo("Symmetric",as);var os,ss=n(6073)["document"];try{os=parseInt(ss.documentElement.style.fontSize,10)||50}catch(t){os=50}var us=os/100;function ls(t){return t?Number((t*us).toFixed(1)):0}function cs(t){if(dt(t))return[t,t,t,t];var e=t[0],n=dt(t[1])?t[1]:t[0],r=dt(t[2])?t[2]:e,i=dt(t[3])?t[3]:n;return[e,n,r,i]}function hs(t){var e=function e(n){if(Q(n)&&/^-?\d+(\.\d+)?px$/.test(n)){var r=n.substr(0,n.length-2);return t(Number(r))}if(C(n))return n.map((function(t){return e(t)}));if(R(n)){var i={};for(var a in n)if(n.hasOwnProperty(a)){var o=e(n[a]);if(!o){i[a]=o;continue}if("padding"===a||"margin"===a){var s=cs(o);i[a]=s,i["".concat(a,"Top")]=s[0],i["".concat(a,"Right")]=s[1],i["".concat(a,"Bottom")]=s[2],i["".concat(a,"Left")]=s[3];continue}i[a]=o}return i}return n};return e}function fs(t,e){if(!t)return t;if(!C(t))return[e(t)];for(var n=[],r=0;r<t.length;r++){var i=t[r];C(i)?n=n.concat(fs(i,e)):i&&n.push(e(i))}return n}function ps(t){return Q(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Pt(t)&&(t=t.getTime()),t}function ds(t,e){var n=t.minX,r=t.maxX,i=t.minY,a=t.maxY,o=e.x,s=e.y;return n<=o&&r>=o&&i<=s&&a>=s}function vs(t,e){if(!e||!t)return[];var n=[];e.get("className")===t&&n.push(e);var r=e.get("children");if(r&&r.length)for(var i=0;i<r.length;i++){var a=r[i];n=n.concat(vs(t,a))}return n}var ys=hs(ls),gs=function(){function t(e){(0,l.A)(this,t),Jt(this,e);var n=this.scale,r=this.field,i=this.data;if(!n&&i){var a=K(i,r);this.scale=this.createScale({values:a,field:r})}}return(0,c.A)(t,[{key:"createScale",value:function(t){return null}},{key:"_mapping",value:function(t){return t}},{key:"update",value:function(t){Jt(this,t)}},{key:"setRange",value:function(t){this.range=t}},{key:"normalize",value:function(t){var e=this.scale;return C(t)?t.map((function(t){return e.scale(t)})):e.scale(t)}},{key:"convert",value:function(t){return t}},{key:"mapping",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=A(this.callback)?this.callback(t,e):null;return _(n)?this._mapping(t):n}}]),t}(),ms=gs,xs=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"createScale",value:function(t){return new ca(t)}},{key:"_mapping",value:function(){var t=this.field,e=this.range;return t||e&&e[0]}}]),n}(ms),ks=xs;function ws(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ms(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bs(){}var As=.7,Ss=1/As,_s="\\s*([+-]?\\d+)\\s*",Cs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ps="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ts=/^#([0-9a-f]{3,8})$/,Ds=new RegExp("^rgb\\("+[_s,_s,_s]+"\\)$"),Os=new RegExp("^rgb\\("+[Ps,Ps,Ps]+"\\)$"),js=new RegExp("^rgba\\("+[_s,_s,_s,Cs]+"\\)$"),Es=new RegExp("^rgba\\("+[Ps,Ps,Ps,Cs]+"\\)$"),Ys=new RegExp("^hsl\\("+[Cs,Ps,Ps]+"\\)$"),Ns=new RegExp("^hsla\\("+[Cs,Ps,Ps,Cs]+"\\)$"),Is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fs(){return this.rgb().formatHex()}function Rs(){return $s(this).formatHsl()}function Ls(){return this.rgb().formatRgb()}function zs(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ts.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Bs(e):3===n?new qs(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ws(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ws(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ds.exec(t))?new qs(e[1],e[2],e[3],1):(e=Os.exec(t))?new qs(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=js.exec(t))?Ws(e[1],e[2],e[3],e[4]):(e=Es.exec(t))?Ws(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ys.exec(t))?Zs(e[1],e[2]/100,e[3]/100,1):(e=Ns.exec(t))?Zs(e[1],e[2]/100,e[3]/100,e[4]):Is.hasOwnProperty(t)?Bs(Is[t]):"transparent"===t?new qs(NaN,NaN,NaN,0):null}function Bs(t){return new qs(t>>16&255,t>>8&255,255&t,1)}function Ws(t,e,n,r){return r<=0&&(t=e=n=NaN),new qs(t,e,n,r)}function Xs(t){return t instanceof bs||(t=zs(t)),t?(t=t.rgb(),new qs(t.r,t.g,t.b,t.opacity)):new qs}function Hs(t,e,n,r){return 1===arguments.length?Xs(t):new qs(t,e,n,null==r?1:r)}function qs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Vs(){return"#"+Us(this.r)+Us(this.g)+Us(this.b)}function Gs(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Us(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Zs(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qs(t,e,n,r)}function $s(t){if(t instanceof Qs)return new Qs(t.h,t.s,t.l,t.opacity);if(t instanceof bs||(t=zs(t)),!t)return new Qs;if(t instanceof Qs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Qs(o,s,u,t.opacity)}function Js(t,e,n,r){return 1===arguments.length?$s(t):new Qs(t,e,n,null==r?1:r)}function Qs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ks(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function tu(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function eu(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return tu((n-r/e)*e,o,i,a,s)}}function nu(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return tu((n-r/e)*e,i,a,o,s)}}ws(bs,zs,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Fs,formatHex:Fs,formatHsl:Rs,formatRgb:Ls,toString:Ls}),ws(qs,Hs,Ms(bs,{brighter:function(t){return t=null==t?Ss:Math.pow(Ss,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?As:Math.pow(As,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vs,formatHex:Vs,formatRgb:Gs,toString:Gs})),ws(Qs,Js,Ms(bs,{brighter:function(t){return t=null==t?Ss:Math.pow(Ss,t),new Qs(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?As:Math.pow(As,t),new Qs(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qs(Ks(t>=240?t-240:t+120,i,r),Ks(t,i,r),Ks(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ru=function(t){return function(){return t}};function iu(t,e){return function(n){return t+n*e}}function au(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ou(t){return 1===(t=+t)?su:function(e,n){return n-e?au(e,n,t):ru(isNaN(e)?n:e)}}function su(t,e){var n=e-t;return n?iu(t,n):ru(isNaN(t)?e:t)}var uu=function t(e){var n=ou(e);function r(t,e){var r=n((t=Hs(t)).r,(e=Hs(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=su(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function lu(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Hs(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}lu(eu),lu(nu);function cu(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=wu(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function hu(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fu(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pu(t,e){var n,r={},i={};for(n in null!==t&&"object"===(0,ce.A)(t)||(t={}),null!==e&&"object"===(0,ce.A)(e)||(e={}),e)n in t?r[n]=wu(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var du=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vu=new RegExp(du.source,"g");function yu(t){return function(){return t}}function gu(t){return function(e){return t(e)+""}}function mu(t,e){var n,r,i,a=du.lastIndex=vu.lastIndex=0,o=-1,s=[],u=[];t+="",e+="";while((n=du.exec(t))&&(r=vu.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:fu(n,r)})),a=vu.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?gu(u[0].x):yu(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function xu(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function ku(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wu(t,e){var n,r=(0,ce.A)(e);return null==e||"boolean"===r?ru(e):("number"===r?fu:"string"===r?(n=zs(e))?(e=n,uu):mu:e instanceof zs?uu:e instanceof Date?hu:ku(e)?xu:Array.isArray(e)?cu:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?pu:fu)(t,e)}var Mu=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;return(0,l.A)(this,n),r=e.call(this,t),r._updateInterpolate(),r}return(0,c.A)(n,[{key:"createScale",value:function(t){return new Vi(t)}},{key:"_updateInterpolate",value:function(){var t=(0,Me.A)(this.range,2),e=t[0],n=t[1];this.interpolate=wu(e,n)}},{key:"update",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"update",this).call(this,t),this._updateInterpolate()}},{key:"_mapping",value:function(t){var e=this.scale,n=this.interpolate;return C(t)?t.map((function(t){return n(e.scale(t))})):n(e.scale(t))}},{key:"normalize",value:function(t){var e=this.scale;return C(t)?t.map((function(t){return e.scale(t)})):e.scale(t)}},{key:"convert",value:function(t){var e=this.range,n=(0,Me.A)(e,2),r=n[0],i=n[1];return C(t)?t.map((function(t){return r+(i-r)*t})):r+(i-r)*t}}]),n}(ms),bu=Mu,Au=function(t){(0,f.A)(n,t);var e=k(n);function n(){return(0,l.A)(this,n),e.apply(this,arguments)}return(0,c.A)(n,[{key:"createScale",value:function(t){return new $r(t)}},{key:"_mapping",value:function(t){var e=this.scale,n=this.range;if("cat"===e.type){var r=e.translate(t);return n[r%n.length]}var i=e.scale(t),a=Math.round(i*(n.length-1));return n[a]}}]),n}(ms),Su=Au,_u=ks,Cu=bu,Pu=Su,Tu=["x","y","color","size","shape"],Du=["color","size","shape"];function Ou(t,e){return new t.constructor(v(v({},t.__cfg__),e))}var ju=function(){function t(e,n){(0,l.A)(this,t),this.scaleController=e,this.attrsRange=n,this.options={},this.attrs={}}return(0,c.A)(t,[{key:"parseOption",value:function(t,e){return t?Q(t)?{field:t,type:"category"}:dt(t)&&"size"===e?{type:"identity",field:t}:C(t)?{field:t[0],range:t[1]}:t:{type:"identity"}}},{key:"getAttrOptions",value:function(t,e){var n=this;if(!t.x||!t.y)throw new Error("x, y are required !");var r={},i=this.attrsRange;Tu.forEach((function(e){if(t[e]){var a=n.parseOption(t[e],e);a.range||(a.range=i[e]),r[e]=a}}));var a=r.x,o=r.y;return a.justifyContent=e,a.type=Cu,o.type=Cu,r}},{key:"getDefaultAttrValues",value:function(){var t=this.attrsRange,e=t.color,n=t.shape;return{color:e[0],shape:n&&n[0]}}},{key:"getGroupScales",value:function(){var t=this.attrs,e=[];return D(Du,(function(n){var r=t[n];if(r){var i=r.scale;i&&i.isCategory&&-1===e.indexOf(i)&&e.push(i)}})),e}},{key:"createAttr",value:function(t){var e=t.type,n=t.field,r=t.scale;if(_(n)||e===_u)return new _u(t);var a=this.scaleController.getScale(n),o=v(v({},t),{},{data:this.scaleController.getData(),scale:r?Ou(a,r):a});if(a&&"identity"===a.type)return new _u(o);var s=a.isLinear?Cu:Pu;return A(e)&&(s=e),Q(e)&&i[wt(e)]&&(s=i[wt(e)]),new s(o)}},{key:"create",value:function(t){this.update(t)}},{key:"update",value:function(t){var e=this.scaleController,n=this.options,r=this.attrs,i={};D(t,(function(t,a){var o=n[a];de(t,o)&&(i[a]=r[a]);var s=t.field,u=t.justifyContent;s&&e.setScale(s,{justifyContent:u})})),this.options=t,this.attrs=i}},{key:"getAttr",value:function(t){var e=this.attrs,n=this.options,r=e[t];if(r)return r;var i=n[t];if(!i)return null;var a=this.createAttr(i);return e[t]=a,a}},{key:"getAttrs",value:function(){var t=this,e=this.options,n=this.attrs;return D(e,(function(e,n){t.getAttr(n)})),n}},{key:"isGroupAttr",value:function(t){return-1!==Du.indexOf(t)}},{key:"getAttrsByLinear",value:function(){var t=this.attrs,e=Object.keys(t),n=[],r=[];return e.forEach((function(e){if("x"!==e&&"y"!==e){var i=t[e].scale;i&&"linear"===i.type?n.push(e):r.push(e)}else n.push(e)})),{linearAttrs:n,nonlinearAttrs:r}}}]),t}(),Eu=ju,Yu=["field"],Nu="origin",Iu=function(t){(0,f.A)(n,t);var e=k(n);function n(t,r){var i;(0,l.A)(this,n),i=e.call(this,t,r),i.isGeometry=!0,i.justifyContent=!1,i.startOnZero=!1,i.connectNulls=!1,i.sortable=!1,Jt((0,y.A)(i),i.getDefaultCfg());var a=t.chart,o=t.coord,s=i._getThemeAttrsRange();i.attrController=new Eu(a.scale,s);var u=(0,y.A)(i),c=u.attrController,h=u.justifyContent,f=c.getAttrOptions(t,!o.isCyclic()||h);return c.create(f),i}return(0,c.A)(n,[{key:"getDefaultCfg",value:function(){return{}}},{key:"willReceiveProps",value:function(t){(0,Ce.A)((0,g.A)(n.prototype),"willReceiveProps",this).call(this,t);var e=this.props,r=this.attrController,i=this.justifyContent,a=t.data,o=t.adjust,s=t.zoomRange,u=t.coord,l=e.data,c=e.adjust,h=e.zoomRange,f=!u.isCyclic()||i,p=r.getAttrOptions(t,f),d=r.getAttrOptions(e,f);de(p,d)||(r.update(p),this.dataRecords=null),a!==l&&(this.dataRecords=null),o!==c&&(this.dataRecords=null),de(s,h)||(this.records=null)}},{key:"willMount",value:function(){this._createAttrs(),this.dataRecords||this._processData()}},{key:"willUpdate",value:function(){this._createAttrs(),this.dataRecords||this._processData()}},{key:"didMount",value:function(){(0,Ce.A)((0,g.A)(n.prototype),"didMount",this).call(this),this._initEvent()}},{key:"_createAttrs",value:function(){var t=this.attrController;t.attrs={},this.attrs=t.getAttrs()}},{key:"_getThemeAttrsRange",value:function(){var t=this.context,e=this.props,n=this.geomType,r=e.coord,i=t.theme,a=i.colors,o=i.sizes,s=i.shapes;return{x:r.x,y:r.y,color:a,size:o,shape:s[n]}}},{key:"_adjustScales",value:function(){var t=this.attrs,e=this.props,n=this.startOnZero,r=e.chart,i=e.startOnZero,a=void 0===i?n:i,o=e.coord,s=e.adjust,u=o.isPolar,l=o.transposed,c=t.y,h=c.field;if(a){var f=t.y;r.scale.adjustStartZero(f.scale)}if(u&&l&&("stack"===s||"stack"===(null===s||void 0===s?void 0:s.type))){var p=t.y;r.scale.adjustPieScale(p.scale)}"stack"!==s&&"stack"!==(null===s||void 0===s?void 0:s.type)||this._updateStackRange(h,c.scale,this.dataArray)}},{key:"_groupData",value:function(t){var e=this.attrController,n=e.getGroupScales();if(!n.length)return[{children:t}];var r=[];n.forEach((function(t){var e=t.field;r.push(e)}));var i=lt(t,r),a=[];for(var o in i)a.push({key:o.replace(/^_/,""),children:i[o]});return a}},{key:"_saveOrigin",value:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++){var i=t[r];n[r]=v(v({},i),{},(0,p.A)({},Nu,i))}return n}},{key:"_numberic",value:function(t){for(var e=this.attrs,n=[e.x.scale,e.y.scale],r=0,i=t.length;r<i;r++)for(var a=t[r],o=n.length,s=0;s<o;s++){var u=n[s];if(u.isCategory){var l=u.field;a[l]=u.translate(a[l])}}}},{key:"_adjustData",value:function(t){var e=this.attrs,n=this.props,r=n.adjust,i=t.map((function(t){return t.children}));if(!r)return i;var a="string"===typeof r?{type:r}:r,o=wt(a.type),s=qo(o);if(!s)throw new Error("not support such adjust : "+r);if("Dodge"===o){for(var u=0,l=i.length;u<l;u++)this._numberic(i[u]);a.adjustNames=["x"]}var c=e.x,h=e.y;a.xField=c.field,a.yField=h.field;var f=new s(a),p=f.process(i);return this.adjust={type:a.type,adjust:f},t.forEach((function(t,e){t.children=p[e]})),p}},{key:"_updateStackRange",value:function(t,e,n){for(var r=H(n),i=1/0,a=-1/0,o=0,s=r.length;o<s;o++){var u=r[o],l=Math.min.apply(null,u[t]),c=Math.max.apply(null,u[t]);l<i&&(i=l),c>a&&(a=c)}i===e.min&&a===e.max||e.change({min:i,max:a})}},{key:"_processData",value:function(){var t=this.props,e=t.data,n=this._saveOrigin(e),r=this._groupData(n),i=this._adjustData(r);this.dataArray=i,this._adjustScales(),this.sortable&&this._sortData(r),this.dataRecords=r}},{key:"_sortData",value:function(t){var e=this.getXScale(),n=e.field,r=e.type;"identity"!==r&&e.values.length>1&&D(t,(function(t){var i=t.children;i.sort((function(t,i){if("timeCat"===r)return ps(t[Nu][n])-ps(i[Nu][n]);var a=e.translate(t[Nu][n]),o=e.translate(i[Nu][n]);return isNaN(a)?1:isNaN(o)?-1:a-o}))}))}},{key:"_initEvent",value:function(){var t=this,e=this.container,n=this.props,r=e.get("canvas");["onPressStart","onPress","onPressEnd","onPan","onPanStart","onPanEnd"].forEach((function(e){n[e]&&r.on(e.substr(2).toLowerCase(),(function(r){r.geometry=t,n[e](r)}))}))}},{key:"getY0Value",value:function(){var t=this.attrs,e=this.props,n=e.chart,r=t.y.field,i=n.getScale(r);return n.scale.getZeroValue(i)}},{key:"_getShapeStyle",value:function(t,e){var n=this.context,r=this.props,i=this.geomType,a=n.theme,o=a.shape[i]||{},s=o.default,u=o[t],l=r.style,c=v(v({},s),u);if(!l||!P(l))return c;var h=l.field,f=mo(l,Yu),p=h?e[h]:e;return D(f,(function(t,e){A(t)?c[e]=t(p):c[e]=t})),c}},{key:"_mapping",value:function(t){for(var e=this.attrs,n=this.props,r=this.attrController,i=n.coord,a=r.getAttrsByLinear(),o=a.linearAttrs,s=a.nonlinearAttrs,u=r.getDefaultAttrValues(),l=[],c=0,h=t.length;c<h;c++){var f=t[c],p=f.children,d=v({},u),y=p[0];if(0!==p.length){for(var g=0,m=s.length;g<m;g++){var x=s[g],k=e[x];d[x]=k.mapping(y[k.field])}for(var w=[],M=0,b=p.length;M<b;M++){for(var A=p[M],S={},_=0;_<o.length;_++){var C=o[_],P=e[C];r.isGroupAttr(C)?d[C]=P.mapping(A[P.field],A):S[C]=P.normalize(A[P.field])}var T=i.convertPoint({x:S.x,y:S.y}),D=T.x,O=T.y,j=A.origin,E=d.shape,Y=this._getShapeStyle(E,j),N=this.isSelected(A);w.push(v(v(v({},A),d),{},{normalized:S,x:D,y:O,shapeName:E,shape:Y,selected:N}))}l.push(v(v({},f),{},{children:w}))}else l.push(v({},f))}return l}},{key:"mapping",value:function(){var t=this.dataRecords;return this.records=this._mapping(t),this.records}},{key:"getClip",value:function(){var t=this.props,e=t.coord,n=t.viewClip,r=e.width,i=e.height,a=e.left,o=e.top;return n?{type:"rect",attrs:{x:a,y:o,width:r,height:i}}:null}},{key:"getAttr",value:function(t){return this.attrController.getAttr(t)}},{key:"getXScale",value:function(){return this.getAttr("x").scale}},{key:"getYScale",value:function(){return this.getAttr("y").scale}},{key:"_getXSnap",value:function(t){var e=this.getXScale();if(e.isCategory)return e.invert(t);var n=e.invert(t),r=e.values,i=r.length;if(1===i)return r[0];if((r[0]+r[1])/2>n)return r[0];if((r[i-2]+r[i-1])/2<=n)return r[i-1];for(var a=1;a<i;a++)if((r[a-1]+r[a])/2<=n&&(r[a+1]+r[a])/2>n)return r[a];return null}},{key:"_getYSnapRecords",value:function(t,e){var n=this.getYScale(),r=n.field,i=n.invert(t);return n.isCategory?e.filter((function(t){return t[Nu][r]===i})):e.filter((function(t){var e=t[r];return e[0]<=i&&e[1]>=i}))}},{key:"flatRecords",value:function(){var t=this.records;return t.reduce((function(t,e){return t.concat(e.children)}),[])}},{key:"getSnapRecords",value:function(t,e){var n=this.props,r=n.coord,i=n.adjust,a=r.invertPoint(t),o=this.getXScale(),s=this.getYScale();if(e){var u=o.range,l=s.range;a.x=Math.min(Math.max(a.x,u[0]),u[1]),a.y=Math.min(Math.max(a.y,l[0]),l[1])}var c=this.flatRecords();if("stack"===i&&r.isPolar&&r.transposed&&a.x>=0&&a.x<=1){var h=this._getYSnapRecords(a.y,c);return h}var f=[],p=this._getXSnap(a.x);if(!p)return f;for(var d=o.field,y=s.field,g=0,m=c.length;g<m;g++){var x=v(v({},c[g]),{},{xField:d,yField:y}),k=x[Nu][d];("timeCat"===o.type&&ps(k)===p||k===p)&&f.push(x)}return f}},{key:"getRecords",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xfield",n=this.flatRecords(),r=this.getXScale(),i=this.getYScale(),a=r.field,o=i.field,s=t[a],u=[],l=0,c=n.length;l<c;l++){var h=v(v({},n[l]),{},{xField:a,yField:o}),f=h[Nu]["xfield"===e?a:o];f===s&&u.push(h)}return u}},{key:"getLegendItems",value:function(){var t=this.attrController,e=t.getAttr("color");if(!e)return null;var n=e.scale;if(!n.isCategory)return null;var r=n.getTicks(),i=r.map((function(t){var r=t.text,i=t.tickValue,a=e.mapping(i);return{field:n.field,color:a,name:r,tickValue:i}}));return i}}]),n}(Fo),Fu=Iu,Ru=function(t){return function(e){(0,f.A)(r,e);var n=k(r);function r(){return(0,l.A)(this,r),n.apply(this,arguments)}return(0,c.A)(r,[{key:"getDefaultCfg",value:function(){return{geomType:"line",sortable:!0}}},{key:"splitPoints",value:function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var a=t[r],o=a.x,s=a.y;e.push(v(v({},a),{},{x:o,y:s[1]})),n.push(v(v({},a),{},{x:o,y:s[0]}))}return[e,n]}},{key:"splitNulls",value:function(t,e){if(e){for(var n=[],r=0,i=t.length;r<i;r++){var a=t[r],o=a.x,s=a.y;if(!isNaN(o))if(C(s)){if(isNaN(s[0]))continue;n.push(a)}else isNaN(s)||n.push(a)}return n.length?[n]:[]}for(var u=[],l=[],c=0,h=t.length;c<h;c++){var f=t[c],p=f.x,d=f.y;if(!isNaN(p))if(C(d)){if(isNaN(d[0])){l.length&&(u.push(l),l=[]);continue}l.push(f)}else isNaN(d)?l.length&&(u.push(l),l=[]):l.push(f)}return l.length&&u.push(l),u}},{key:"mapping",value:function(){var t=this,e=(0,Ce.A)((0,g.A)(r.prototype),"mapping",this).call(this),n=this.props,i=this.connectNulls,a=n.coord,o=n.connectNulls,s=void 0===o?i:o;return e.map((function(e){var n=e.children,r=n[0]||{},i=r.size,o=r.color,u=r.shape,l=r.y,c=a.isPolar?[].concat((0,Yo.A)(n),[n[0]]):n,h=t.splitNulls(c,s),f=h.map((function(e){var n=C(l)?t.splitPoints(e):[e,void 0],r=(0,Me.A)(n,2),a=r[0],s=r[1];return{size:i,color:o,shape:u,points:a,bottomPoints:s}}));return v(v({},e),{},{children:f})}))}},{key:"render",value:function(){var e=this.props,n=e.coord,r=this.mapping(),i=this.getClip();return ko(t,v(v({},e),{},{coord:n,records:r,clip:i}))}}]),r}(Fu)};function Lu(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e=e.concat(r.points)}return e}function zu(t){var e=t.y;return{x:t.x,y:C(e)?e[1]:e}}function Bu(t,e){for(var n=t.map((function(t){return zu(t)})),r=n[0],i=n[n.length-1],a=i.x-r.x,o=r.x+a*e,s=1;s<n.length;s++){var u=n[s],l=n[s-1];if(o>=l.x&&o<=u.x){var c=(o-l.x)/(u.x-l.x);return{x:o,y:l.y+(u.y-l.y)*c}}}}function Wu(t){var e=t.record,n=t.appear,r=t.EndView,i=e.children,a=Lu(i),o=a[0].origin;return ko("group",{animation:{appear:{easing:n.easing,duration:n.duration,onFrame:function(t){var e=this.element,n=e.get("children"),r=Bu(a,t);n.forEach((function(t){t.moveTo(r.x,r.y)}))}}}},ko(r,{origin:o}))}var Xu=function(t){var e=t.records,n=t.coord,r=t.animation,i=t.endView,a=t.clip,o=n.left,s=n.top,u=n.width,l=n.height,c=n.center,h=n.startAngle,f=n.endAngle,p=n.radius,d=n.isPolar?{easing:"quadraticOut",duration:450,clip:{type:"sector",property:["endAngle"],attrs:{x:c.x,y:c.y,startAngle:h,r:p},start:{endAngle:h},end:{endAngle:f}}}:{easing:"quadraticOut",duration:450,clip:{type:"rect",property:["width"],attrs:{x:o,y:s,height:l},start:{width:0},end:{width:u}}};return ko("group",{attrs:{clip:a}},e.map((function(t){var e=t.key,n=t.children;return ko("group",{key:e},n.map((function(t){var e=t.points,n=t.color,i=t.size,a=t.shape;return ko("polyline",{attrs:v(v({points:e.map((function(t){return{x:t.x,y:t.y}})),stroke:n},a),{},{lineWidth:i||a.lineWidth}),animation:zt({update:{easing:"linear",duration:450,property:["points"]},appear:d},r)})})),i?ko(Wu,{record:t,EndView:i,appear:d}):null)})))},Hu=Ru(Xu),qu=function(t){return function(e){(0,f.A)(r,e);var n=k(r);function r(t){var e;return(0,l.A)(this,r),e=n.call(this,t),e._triggerOn=function(t){var n=t.points;e.show(n[0],t)},e._triggerOff=function(){var t=(0,y.A)(e),n=t.props.alwaysShow,r=void 0!==n&&n;r||e.hide()},e.state={records:null},e}return(0,c.A)(r,[{key:"updateCoord",value:function(){var t=this.props,e=this.context,n=t.padding,r=void 0===n?"10px":n,i=t.chart;i.updateCoordFor(this,{position:"top",width:0,height:e.px2hd(r)})}},{key:"willMount",value:function(){this.updateCoord()}},{key:"didMount",value:function(){this._initShow(),this._initEvent()}},{key:"willReceiveProps",value:function(t){var e=t.defaultItem,n=t.coord,r=this.props,i=r.defaultItem,a=r.coord;de(e,i)&&de(n,a)||this._showByData(e)}},{key:"_initShow",value:function(){var t=this.props,e=t.defaultItem;this._showByData(e)}},{key:"_showByData",value:function(t){var e=this;if(t){var n=this.props,r=n.chart;setTimeout((function(){var n=r.getRecords(t,"xfield");e.showSnapRecords(n)}),0)}}},{key:"_initEvent",value:function(){var t=this.context,e=this.props,n=t.canvas,r=e.triggerOn,i=void 0===r?"press":r,a=e.triggerOff,o=void 0===a?"pressend":a;n.on(i,this._triggerOn),n.on(o,this._triggerOff)}},{key:"didUnmount",value:function(){this._clearEvents()}},{key:"_clearEvents",value:function(){var t=this.context,e=this.props,n=t.canvas,r=e.triggerOn,i=void 0===r?"press":r,a=e.triggerOff,o=void 0===a?"pressend":a;n.off(i,this._triggerOn),n.off(o,this._triggerOff)}},{key:"show",value:function(t,e){var n=this.props,r=n.chart,i=r.getSnapRecords(t,!0);this.showSnapRecords(i)}},{key:"showSnapRecords",value:function(t){if(t&&t.length){var e=this.props,n=e.chart,r=e.onChange,i=n.getLegendItems(),a=t[0],o=a.xField,s=a.yField,u=n.getScale(o),l=n.getScale(s),c=t.map((function(t){var e=t.origin,n=t.xField,r=t.yField,a=l.getText(e[r]),o=l.alias;if(!o&&(o=u.getText(e[n]),i&&i.length)){var s=z(i,(function(t){var n=t.field,r=t.tickValue;return e[n]===r}));s&&s.name&&(o=s.name)}return v(v({},t),{},{name:o,value:a})}));C(c)&&c.length&&(this.setState({records:c}),A(r)&&r(c))}}},{key:"hide",value:function(){this.setState({records:null})}},{key:"render",value:function(){var e=this.props,n=this.state,r=e.visible;if(!1===r)return null;var i=n.records;return i&&i.length?ko(t,v(v({},e),{},{records:i})):null}}]),r}(le)};function Vu(){var t={current:null};return t}var Gu={showTitle:!1,showCrosshairs:!1,crosshairsType:"y",crosshairsStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:"2px"},showTooltipMarker:!1,markerBackgroundStyle:{fill:"#CCD6EC",opacity:.3,padding:"6px"},tooltipMarkerStyle:{fill:"#fff",lineWidth:"3px"},background:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"]},titleStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"top"},nameStyle:{fontSize:"24px",fill:"rgba(255, 255, 255, 0.65)",textAlign:"start",textBaseline:"middle"},valueStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"middle"},joinString:": ",showItemMarker:!0,itemMarkerStyle:{width:"12px",radius:"6px",symbol:"circle",lineWidth:"2px",stroke:"#fff"},layout:"horizontal",snap:!1,xTipTextStyle:{fontSize:"24px",fill:"#fff"},yTipTextStyle:{fontSize:"24px",fill:"#fff"},xTipBackground:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"],marginLeft:"-50%",marginTop:"6px"},yTipBackground:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"],marginLeft:"-100%",marginTop:"-50%"}};function Uu(t,e){return void 0===t||"string"===typeof t&&-1!==t.indexOf(e)}var Zu=function(t){var e=t.records,n=t.coord,r=t.context,i=t.markerBackgroundStyle,a=n.convertPoint({x:1,y:1}),o=r.px2hd(i.padding||"6px"),s=[].concat((0,Yo.A)(e.map((function(t){return t.xMin}))),(0,Yo.A)(e.map((function(t){return t.xMax})))),u=[].concat((0,Yo.A)(e.map((function(t){return t.yMin}))),(0,Yo.A)(e.map((function(t){return t.yMax}))));n.transposed?s.push(a.x):u.push(a.y);var l=Math.min.apply(null,s),c=Math.max.apply(null,s),h=Math.min.apply(null,u),f=Math.max.apply(null,u),p=n.transposed?l:l-o,d=n.transposed?h-o:h,y=n.transposed?c-l:c-l+2*o,g=n.transposed?f-h+2*o:f-h;return ko("rect",{attrs:v({x:p,y:d,width:y,height:g},i)})},$u=function(t){var e=t.records,n=t.coord,r=t.chart,i=t.crosshairsType,a=t.crosshairsStyle,o=n.left,s=n.top,u=n.right,l=n.bottom,c=n.center,h=e[0],f=h.x,p=h.y,d=h.origin,y=h.xField;if(n.isPolar){var g=r.getScale(y),m=g.getTicks(),x=z(m,(function(t){return d[y]===t.tickValue})),k=n.convertPoint({x:x.value,y:1});return ko("line",{attrs:v({x1:c.x,y1:c.y,x2:k.x,y2:k.y},a)})}return ko("group",null,Uu(i,"x")?ko("line",{attrs:v({x1:o,y1:p,x2:u,y2:p},a)}):null,Uu(i,"y")?ko("line",{attrs:v({x1:f,y1:s,x2:f,y2:l},a)}):null)},Ju=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;return(0,l.A)(this,n),r=e.call(this,t),r.rootRef=Vu(),r.arrowRef=Vu(),r}return(0,c.A)(n,[{key:"_position",value:function(){var t=this.props,e=this.context,n=this.rootRef,r=this.arrowRef,i=n.current;if(i){var a=t.records,o=t.coord,s=e.px2hd("6px"),u=a[0],l=u.x,c=o.left,h=o.width,f=i.get("attrs"),p=f.y,d=f.width,v=f.height,y=f.radius,g=d/2,m=Math.min(Math.max(l-c-g,-s-y),h-d+s+y),x=Math.min(p,v+s);i.moveTo(m,-x),r.current.moveTo(0,v-x)}}},{key:"didMount",value:function(){this._position()}},{key:"didUpdate",value:function(){this._position()}},{key:"render",value:function(){var t=this.props,e=this.context,n=t.records,r=t.coord,i=r.left,a=r.top,o=r.bottom,s=n[0],u=s.x,l=s.y,c=s.name,h=s.value,f=t.chart,p=t.background,d=t.showTooltipMarker,y=void 0===d?Gu.showTooltipMarker:d,g=t.markerBackgroundStyle,m=void 0===g?Gu.markerBackgroundStyle:g,x=t.showItemMarker,k=void 0===x?Gu.showItemMarker:x,w=t.itemMarkerStyle,M=t.nameStyle,b=t.valueStyle,S=t.joinString,_=void 0===S?Gu.joinString:S,C=t.showCrosshairs,P=void 0===C?Gu.showCrosshairs:C,T=t.crosshairsStyle,D=t.crosshairsType,O=void 0===D?Gu.crosshairsType:D,j=t.snap,E=void 0===j?Gu.snap:j,Y=t.tooltipMarkerStyle,N=void 0===Y?Gu.tooltipMarkerStyle:Y,I=t.showXTip,F=t.showYTip,R=t.xTip,L=t.yTip,z=t.xTipTextStyle,B=void 0===z?Gu.xTipTextStyle:z,W=t.yTipTextStyle,X=void 0===W?Gu.yTipTextStyle:W,H=t.xTipBackground,q=void 0===H?Gu.xTipBackground:H,V=t.yTipBackground,G=void 0===V?Gu.yTipBackground:V,U=t.custom,Z=void 0!==U&&U,$=t.customText,J=v(v({},w),Gu.itemMarkerStyle),Q=v(v({},Gu.background),p),K=e.px2hd("6px");return ko("group",null,ko("group",{style:{left:i,top:a}},!Z&&ko("group",null,ko("group",{ref:this.rootRef,style:Q,attrs:Q},ko("group",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:[0,0,0,"6px"]}},n.map((function(t){var e=t.name,n=t.value;return ko("group",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:[0,"6px",0,0]}},k?ko("marker",{style:{width:J.width,marginRight:"6px"},attrs:v(v({},J),{},{fill:t.color})}):null,$&&A($)?$(t):ko("group",{style:{display:"flex",flexDirection:"row"}},ko("text",{attrs:v(v(v({},Gu.nameStyle),M),{},{text:n?"".concat(e).concat(_):e})}),ko("text",{attrs:v(v(v({},Gu.valueStyle),b),{},{text:n})})))})))),ko("polygon",{ref:this.arrowRef,attrs:{points:[{x:u-K,y:a},{x:u+K,y:a},{x:u,y:a+K}],fill:Q.fill}})),y?ko(Zu,{coord:r,context:e,records:n,markerBackgroundStyle:m}):null,P?ko($u,{chart:f,coord:r,records:n,crosshairsType:O,crosshairsStyle:v(v({},Gu.crosshairsStyle),T)}):null,E?n.map((function(t){var e=t.x,n=t.y,r=t.color,i=t.shape;return ko("circle",{attrs:v(v({x:e,y:n,r:"6px",stroke:r,fill:r},i),N)})})):null),I&&ko("group",{style:v(v({left:u,top:o},Gu.xTipBackground),q),attrs:v(v({},Gu.xTipBackground),q)},ko("text",{attrs:v(v(v({},Gu.xTipTextStyle),B),{},{text:A(R)?R(c):c})})),F&&ko("group",{style:v(v({left:i,top:l},Gu.yTipBackground),G),attrs:v(v({},Gu.yTipBackground),G)},ko("text",{attrs:v(v(v({},Gu.yTipTextStyle),X),{},{text:A(L)?L(h):h})})))}}]),n}(le),Qu=qu(Ju);function Ku(t,e){var n=(e.x-t.x)/2+t.x,r=(e.y-t.y)/2+t.y;return{x:n,y:r}}var tl={textBaseline:"middle",fill:"#808080"};function el(t){var e,n,r=t.record,i=t.offsetX,a=t.offsetY,o=t.points,s=t.label,u=t.guide,l=r.origin,c=r.color;if(A(s)){var h=4===o.length?Ku(o[1],o[2]):Ku(o[0],o[1]);e=Jt({x:h.x+i,y:h.y+a},tl,s(l,c))}if(A(u)){var f,p=Ku(4===o.length?Ku(o[0],o[1]):o[0],Ku(o[2],null!==(f=o[3])&&void 0!==f?f:o[1]));n=Jt({x:p.x,y:p.y,textBaseline:"middle",textAlign:"center"},tl,u(l,c))}return ko("group",null,e&&ko("text",{attrs:e}),n&&ko("text",{attrs:n}))}var nl=function(t){return function(e){(0,f.A)(r,e);var n=k(r);function r(){return(0,l.A)(this,r),n.apply(this,arguments)}return(0,c.A)(r,[{key:"getDefaultCfg",value:function(){return{geomType:"interval",justifyContent:!0,startOnZero:!0}}},{key:"getDefaultSize",value:function(){var t=this.attrs,e=this.props,n=this.adjust,r=this.records,i=e.coord,a=e.sizeRatio,o=t.x,s=o.scale,u=s.values;if(a)return 1/u.length*a;var l,c={column:.5,rose:.999999,multiplePie:3/4},h=u.length;l=i.isPolar?i.transposed&&h>1?c.multiplePie:c.rose:c.column;var f=1/u.length*l;return n&&"dodge"===n.type?f/r.length:f}},{key:"mapping",value:function(){for(var t=(0,Ce.A)((0,g.A)(r.prototype),"mapping",this).call(this),e=this.props,n=e.coord,i=this.getY0Value(),a=this.getDefaultSize(),o=0,s=t.length;o<s;o++)for(var u=t[o],l=u.children,c=0,h=l.length;c<h;c++){var f=l[c],p=f.normalized,d=f.size;if(_(d)){var v=p.x,y=p.y,m=p.size,x=void 0===m?a:m;Jt(f,n.convertRect({x:v,y:y,y0:i,size:x}))}else{var k=f.x,w=f.y,M={size:d,x:k,y:w,y0:i};Jt(f,n.transformToRect(M))}Jt(f.shape,this.getSelectionStyle(f))}return t}},{key:"getPointY0",value:function(){var t=this.props,e=t.coord,n=this.getY0Value(),r=e.convertPoint({y:n,x:0});return null===r||void 0===r?void 0:r.y}},{key:"render",value:function(){var e=this.props,n=this.state,r=(this.container,e.coord),i=e.shape,o=void 0===i?"rect":i,s=e.animation,u=e.showLabel,l=e.labelCfg,c=A(t)?t:t[o],h=a[o],f=zt({label:null,offsetX:0,offsetY:0},l);if(!c)return null;var p=n.selected,d=this.mapping(),v=this.getPointY0(),y=this.getClip();return ko(c,{coord:r,records:d,selected:p,shape:o,animation:s,showLabel:u,labelCfg:f,LabelView:h,y0:v,clip:y})}}]),r}(Fu)},rl=function(t){var e=t.records,n=t.animation,r=t.y0,i=t.clip;return ko("group",{attrs:{clip:i}},e.map((function(t){var e=t.key,i=t.children;return ko("group",{key:e},i.map((function(t){var e=t.key,i=t.xMin,a=t.xMax,o=t.yMin,s=t.yMax,u=t.color,l=t.shape;return isNaN(i)||isNaN(a)||isNaN(o)||isNaN(s)?null:ko("rect",{key:e,attrs:v({x:i,y:o,width:a-i,height:s-o,fill:u},l),animation:zt({appear:{easing:"linear",duration:450,property:["y","height"],start:{y:r,height:0}},update:{easing:"linear",duration:450,property:["x","y","width","height"]}},n)})})))})))},il=function(t){var e=t.coord,n=t.records,r=t.animation,i=e.center,a=e.startAngle,o=e.endAngle,s=e.radius;return ko("group",{animation:{appear:v(v({easing:"quadraticOut",duration:450},r&&r.appear),{},{clip:{type:"sector",property:["endAngle"],attrs:{x:i.x,y:i.y,startAngle:a,r:s},start:{endAngle:a},end:{endAngle:o}}})}},n.map((function(t){var e=t.key,n=t.children;return ko("group",{key:e},n.map((function(t){var e=t.key,n=t.xMin,a=t.xMax,o=t.yMin,s=t.yMax,u=t.color,l=t.shape;return ko("sector",{key:e,attrs:v({x:i.x,y:i.y,fill:u,startAngle:n,endAngle:a,r0:o,r:s},l),animation:zt({update:{easing:"linear",duration:450,property:["x","y","startAngle","endAngle","r0","r"]}},r)})})))})))},al=function(t){var e=t.coord,n=e.type;return ko("rect"===n?rl:il,v({},t))};function ol(t){var e=t.xMin,n=t.xMax,r=t.yMin,i=t.yMax;return[{x:e,y:r},{x:n,y:r},{x:n,y:i},{x:e,y:i}]}var sl=function(t){var e=t.records,n=t.shape,r=t.showLabel,i=t.labelCfg,a=t.LabelView,o=!1;return ko("group",null,e.map((function(t,s){var u=t.key,l=t.children,c=s===e.length-1,h=c?t:e[s+1],f=h.children,p=ol(f[0]),d=ol(f[f.length-1]);o||(o=f[0].yMax>l[0].yMax),o&&(p.reverse(),d.reverse());var y=l.map((function(t,e){var r=ol(t);return o&&r.reverse(),c?"pyramid"===n&&(r=[Ku(r[0],r[1]),r[2],r[3]]):(0===e&&(r[0]=p[3]),e===l.length-1&&(r[1]=d[2])),v(v({},t),{},{points:r})}));return ko("group",{key:u},y.map((function(t){var e=t.points,n=t.color,o=t.shape;return ko("group",null,ko("polygon",{attrs:v({points:e,fill:n},o)}),r&&a?ko(a,v({record:t,points:e},i)):null)})))})))},ul=nl(o),ll={anchorOffset:"10px",inflectionOffset:"30px",sidePadding:"15px",height:"64px",adjustOffset:"30",triggerOn:"click",label1OffsetY:"-4px",label2OffsetY:"4px"};function cl(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function hl(t,e){return e<t&&(e+=2*Math.PI),(e+t)/2}function fl(t,e,n,r){var i=r.x,a=t.sort((function(t,e){var n=Math.abs(t.x-i),r=Math.abs(e.x-i);return r-n}));return[a.slice(0,a.length-n),a.slice(a.length-n).concat(e)]}function pl(t){return t>=-Math.PI/2&&t<0}function dl(t){return t>=0&&t<Math.PI/2}function vl(t){return t>=Math.PI/2&&t<Math.PI}function yl(t){return t>=Math.PI&&t<3*Math.PI/2}function gl(t,e,n){for(var r=vs(n,t),i=0,a=r.length;i<a;i++){var o=r[i];if(ds(o.getBBox(),e))return o}}var ml=function(t){return function(e){(0,f.A)(r,e);var n=k(r);function r(t){var e;return(0,l.A)(this,r),e=n.call(this,t),e._handleEvent=function(t){var n=e.props,r=n.chart,i=n.onClick,a=e.triggerRef.current,o=t.points[0],s=gl(a,o,"click"),u=r.getSnapRecords(o);"function"===typeof i&&(s?i(s.get("data")):C(u)&&u.length>0&&i(u))},e.triggerRef={},e}return(0,c.A)(r,[{key:"willMount",value:function(){}},{key:"didMount",value:function(){this._initEvent()}},{key:"getLabels",value:function(t){var e=t.chart,n=t.coord,r=t.anchorOffset,i=t.inflectionOffset,a=t.label1,o=t.label2,s=t.height,u=t.sidePadding,l=n.center,c=n.radius,h=n.width,f=n.height,p=n.left,d=n.right,v=n.top,y=Math.floor(f/s),g=2*y,m=e.getGeometrys()[0],x=m.flatRecords().sort((function(t,e){var n=t.xMax-t.xMin,r=e.xMax-e.xMin;return r-n})).slice(0,g),k=[[],[]];if(x.forEach((function(t){var e=t.xMin,n=t.xMax,s=t.color,u=t.origin,h=hl(e,n),f=cl(l,h,c+r),p=cl(l,h,c+i),d=f.x<l.x?"left":"right",v={origin:u,angle:h,anchor:f,inflection:p,side:d,x:p.x,y:p.y,r:c+i,color:s,label1:A(a)?a(u,t):a,label2:A(o)?o(u,t):o};"left"===d?k[0].push(v):k[1].push(v)})),k[0].length>y)k=fl(k[0],k[1],k[0].length-y,l);else if(k[1].length>y){var w=fl(k[1],k[0],k[1].length-y,l),M=(0,Me.A)(w,2),b=M[0],S=M[1];k=[S,b]}var _=h/2-c-r-i-2*u,C=[];return k.forEach((function(t,e){var n=0===e?"left":"right";t.sort((function(t,e){var r=t.angle,i=e.angle;return"left"===n?(r=pl(r)?r+2*Math.PI:r,i=pl(i)?i+2*Math.PI:i,i-r):(r=yl(r)?r-2*Math.PI:r,i=yl(i)?i-2*Math.PI:i,r-i)}));var r=t.map((function(t){return t.y})),i=Math.max.apply(null,r),a=Math.min.apply(null,r),o=t.length,s=f/o,l=s/2,c=2;"left"===n?t.forEach((function(t,e){var r=t.anchor,h=t.inflection,f=t.angle,d=t.x,y=t.y,g=[r,h],m=p+u,x=v+l+s*e,k={x:m+_+c*e,y:x},w={x:m,y:x};if(pl(f)){var M=a-c*(o-e);g.push({x:d,y:M}),g.push({x:k.x,y:M})}else if(vl(f)||yl(f))g.push({x:k.x,y:y});else if(dl(f)){var b=i+c*e;g.push({x:d,y:b}),g.push({x:k.x,y:b})}g.push(k),g.push(w),t.points=g,t.side=n,C.push(t)})):t.forEach((function(t,e){var r=t.anchor,h=t.inflection,f=t.angle,p=t.x,y=t.y,g=[r,h],m=d-u,x=v+l+s*e,k={x:m-_-c*e,y:x},w={x:m,y:x};if(yl(f)){var M=a-c*(o-e);g.push({x:p,y:M}),g.push({x:k.x,y:M})}else if(pl(f)||dl(f))g.push({x:k.x,y:y});else if(vl(f)){var b=i+c*e;g.push({x:p,y:b}),g.push({x:k.x,y:b})}g.push(k),g.push(w),t.points=g,t.side=n,C.push(t)}))})),C}},{key:"_initEvent",value:function(){var t=this.context,e=this.props,n=t.canvas,r=e.triggerOn,i=void 0===r?ll.triggerOn:r;n.on(i,this._handleEvent)}},{key:"render",value:function(){var e=this.context,n=e.px2hd(zt({},ll,this.props)),r=this.getLabels(n);return ko(t,v(v({labels:r},n),{},{triggerRef:this.triggerRef}))}}]),r}(le)},xl=function(t){var e=t.lineStyle,n=t.anchorStyle,r=t.labels,i=t.label1OffsetY,a=t.label2OffsetY,o=t.triggerRef;return ko("group",{ref:o},r.map((function(t){var r=t.origin,o=t.anchor,s=t.side,u=t.color,l=t.label1,c=t.label2,h=t.points,f=h[h.length-1];return ko("group",null,ko("circle",{attrs:v({r:"4px",x:o.x,y:o.y,fill:u},n)}),ko("polyline",{attrs:v({points:h,lineWidth:"2px",stroke:u},e)}),ko("text",{className:"click",attrs:v({x:f.x,y:f.y+i,fontSize:"24px",lineHeight:"24px",fill:u,textBaseline:"bottom",textAlign:"left"===s?"left":"right"},l),data:r}),ko("text",{className:"click",attrs:v({x:f.x,y:f.y+a,fontSize:"24px",lineHeight:"24px",fill:"#808080",textBaseline:"top",textAlign:"left"===s?"left":"right"},c),data:r}))})))},kl=ml(xl),wl=n(118),Ml=n(758),bl=n.n(Ml),Al=n(4353),Sl=n.n(Al),_l=n(4015),Cl=n(6540),Pl=n(4606),Tl=n(8145),Dl="*",Ol=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],a=this._events[Dl]||[],o=function(r){for(var i=r.length,a=0;a<i;a++)if(r[a]){var o=r[a],s=o.callback,u=o.once;u&&(r.splice(a,1),0===r.length&&delete e._events[t],i--,a--),s.apply(e,n)}};o(i),o(a)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),jl=Ol;function El(t,e,n){if(!t)return t;var r=t,i=r.type,a=r.key,o=r.ref,s=r.props,u=r._cache,l=void 0===u?{}:u,c=we.map(s.children,(function(t){return El(t,e,n)}));if(t={type:i,key:a,ref:o,_cache:l,props:v(v({},s),{},{children:c})},"function"===typeof i){var h=i(t.props,e,n);return h?El(v(v({},h),{},{key:void 0!==a?a:h.key,ref:void 0!==o?o:h.ref}),e,n):h}return t}var Yl=function(t,e,n){return El(t,e,n)},Nl="appear",Il="update",Fl="delete",Rl=["children","animation"],Ll=["children","animation"],zl=["children","animation"],Bl=["animation"],Wl=["animation"];function Xl(t){var e=!1,n=we.map(t,(function(t){if(!t)return t;var n=t.ref,r=t.key,i=t.type,a=t.props,o=t._cache,s=a.children,u=a.animation,l=mo(a,Rl),c=Fl,h=u&&u.leave,f=Xl(s);return f||h?(e=!0,{ref:n,key:r,type:i,props:v(v({},l),{},{children:f}),_cache:o,animation:h,status:c}):null}));return e?n:null}function Hl(t){return we.map(t,(function(t){if(!t)return t;var e=t.ref,n=t.key,r=t.type,i=t.props,a=t._cache,o=i.children,s=i.animation,u=mo(i,Ll),l=Nl,c=s&&s.appear,h=Hl(o);return{ref:e,key:n,type:r,props:v(v({},u),{},{children:h}),_cache:a,animation:c,status:l}}))}function ql(t,e){var n=t.ref,r=t.key,i=t.type,a=t._cache,o=t.props,s=e._cache,u=e.props,l=o.children,c=o.animation,h=mo(o,zl),f=u.children,p=Jl(l,f),d=Jt(a,s),y=c&&c.update;return{ref:n,key:r,type:i,props:v(v({},h),{},{children:p}),_cache:d,animation:y,status:Il}}function Vl(t,e){return[Xl(e),Hl(t)]}function Gl(t,e){var n=t.key,r=t.type,i=t.ref,a=t.props,o=t._cache,s=e.type,u=e._cache,l=a.children,c=we.map(l,(function(t){if(!t)return t;var n=t.key,r=t.ref,i=t.type,a=t.props,o=t._cache;if(i!==s)return Vl(t,e);var l=a.animation,c=mo(a,Bl),h=l&&l.update;return{ref:r,key:n,type:i,props:c,_cache:Jt(o,u),animation:h,status:Il}}));return{key:n,type:r,ref:i,props:v(v({},a),{},{children:c}),_cache:o,status:Il}}function Ul(t,e){var n=t.ref,r=t.key,i=t.type,a=t.props,o=t._cache,s=e.type,u=e.props,l=a.animation,c=mo(a,Wl),h=u.children,f=l&&l.update;if(!f)return[Xl(e),Hl[t]];var p=null,d=we.map(h,(function(t){if(!t)return t;var e=t.type,n=t._cache;return e!==i?Xl(t):(p||(p=t),{type:i,props:a,_cache:n,animation:f,status:Il})}));if(!p)return[Xl(e),Hl(t)];var y={ref:n,key:r,type:i,props:c,_cache:Jt(o,p._cache),animation:f,status:Il};return[{type:s,props:v(v({},u),{},{children:d}),status:Fl},y]}function Zl(t,e){var n=t.type,r=e.type;return"group"===n?Gl(t,e):"group"===r?Ul(t,e):Vl(t,e)}function $l(t,e){for(var n={},r=t.length,i=e.length,a=0;a<i;a++){var o=e[a];if(o&&!_(o.key)){var s=o.key;n[s]=o}}for(var u=Math.max(r,i),l=[],c=0;c<u;c++){var h=t[c];if(h){var f=h.key;if(_(f))l.push(Jl(h,e[c]));else{var p=n[f];p&&delete n[f],l.push(Jl(h,p))}}else l.push(Jl(h,e[c]))}return Object.keys(n).forEach((function(t){l.push(Jl(null,n[t]))})),l}function Jl(t,e){if(!t&&!e)return null;if(!e)return Hl(t);if(!t)return Xl(e);if(C(t)||C(e)){var n=C(t)?t:[t],r=C(e)?e:[e];return $l(n,r)}var i=t.key,a=t.type,o=e.key,s=e.type;return _(i)||i===o?a!==s?Zl(t,e):ql(t,e):[Xl(e),Hl(t)]}var Ql,Kl=Jl,tc="inherit",ec="ltr",nc="rtl",rc="row",ic="row-reverse",ac="column",oc="column-reverse",sc="flex-start",uc="center",lc="flex-end",cc="space-between",hc="space-around",fc="flex-start",pc="center",dc="flex-end",vc="stretch",yc="relative",gc="absolute",mc={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},xc={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},kc={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},wc={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function Mc(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(Mc),t}function bc(t){return void 0===t}function Ac(t){return t===rc||t===ic}function Sc(t){return t===ac||t===oc}function _c(t,e){if(void 0!==t.style.marginStart&&Ac(e))return t.style.marginStart;var n=null;switch(e){case"row":n=t.style.marginLeft;break;case"row-reverse":n=t.style.marginRight;break;case"column":n=t.style.marginTop;break;case"column-reverse":n=t.style.marginBottom;break}return void 0!==n?n:void 0!==t.style.margin?t.style.margin:0}function Cc(t,e){if(void 0!==t.style.marginEnd&&Ac(e))return t.style.marginEnd;var n=null;switch(e){case"row":n=t.style.marginRight;break;case"row-reverse":n=t.style.marginLeft;break;case"column":n=t.style.marginBottom;break;case"column-reverse":n=t.style.marginTop;break}return null!=n?n:void 0!==t.style.margin?t.style.margin:0}function Pc(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&Ac(e))return t.style.paddingStart;var n=null;switch(e){case"row":n=t.style.paddingLeft;break;case"row-reverse":n=t.style.paddingRight;break;case"column":n=t.style.paddingTop;break;case"column-reverse":n=t.style.paddingBottom;break}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function Tc(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&Ac(e))return t.style.paddingEnd;var n=null;switch(e){case"row":n=t.style.paddingRight;break;case"row-reverse":n=t.style.paddingLeft;break;case"column":n=t.style.paddingBottom;break;case"column-reverse":n=t.style.paddingTop;break}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function Dc(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&Ac(e))return t.style.borderStartWidth;var n=null;switch(e){case"row":n=t.style.borderLeftWidth;break;case"row-reverse":n=t.style.borderRightWidth;break;case"column":n=t.style.borderTopWidth;break;case"column-reverse":n=t.style.borderBottomWidth;break}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function Oc(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&Ac(e))return t.style.borderEndWidth;var n=null;switch(e){case"row":n=t.style.borderRightWidth;break;case"row-reverse":n=t.style.borderLeftWidth;break;case"column":n=t.style.borderBottomWidth;break;case"column-reverse":n=t.style.borderTopWidth;break}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function jc(t,e){return Pc(t,e)+Dc(t,e)}function Ec(t,e){return Tc(t,e)+Oc(t,e)}function Yc(t,e){return Dc(t,e)+Oc(t,e)}function Nc(t,e){return _c(t,e)+Cc(t,e)}function Ic(t,e){return jc(t,e)+Ec(t,e)}function Fc(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}function Rc(t){return t.style.alignContent?t.style.alignContent:"flex-start"}function Lc(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function zc(t,e){if(e===nc){if(t===rc)return ic;if(t===ic)return rc}return t}function Bc(t,e){var n;return n=t.style.direction?t.style.direction:tc,n===tc&&(n=void 0===e?ec:e),n}function Wc(t){return t.style.flexDirection?t.style.flexDirection:ac}function Xc(t,e){return Sc(t)?zc(rc,e):ac}function Hc(t){return t.style.position?t.style.position:"relative"}function qc(t){return Hc(t)===yc&&t.style.flex>0}function Vc(t){return"wrap"===t.style.flexWrap}function Gc(t,e){return t.layout[wc[e]]+Nc(t,e)}function Uc(t,e){return void 0!==t.style[wc[e]]&&t.style[wc[e]]>=0}function Zc(t,e){return void 0!==t.style[e]}function $c(t){return void 0!==t.style.measure}function Jc(t,e){return void 0!==t.style[e]?t.style[e]:0}function Qc(t,e,n){var r={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],a=n;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==r&&r>=0&&a<r&&(a=r),a}function Kc(t,e){return t>e?t:e}function th(t,e){void 0===t.layout[wc[e]]&&Uc(t,e)&&(t.layout[wc[e]]=Kc(Qc(t,e,t.style[wc[e]]),Ic(t,e)))}function eh(t,e,n){e.layout[xc[n]]=t.layout[wc[n]]-e.layout[wc[n]]-e.layout[kc[n]]}function nh(t,e){return void 0!==t.style[mc[e]]?Jc(t,mc[e]):-Jc(t,xc[e])}function rh(t,e,n){var r=Bc(t,n),i=zc(Wc(t),r),a=Xc(i,r),o=zc(rc,r);th(t,i),th(t,a),t.layout.direction=r,t.layout[mc[i]]+=_c(t,i)+nh(t,i),t.layout[xc[i]]+=Cc(t,i)+nh(t,i),t.layout[mc[a]]+=_c(t,a)+nh(t,a),t.layout[xc[a]]+=Cc(t,a)+nh(t,a);var s=t.children.length,u=Ic(t,o);if($c(t)){var l=!bc(t.layout[wc[o]]),c=Ql;c=Uc(t,o)?t.style.width:l?t.layout[wc[o]]:e-Nc(t,o),c-=u;var h=!Uc(t,o)&&!l,f=!Uc(t,ac)&&bc(t.layout[wc[ac]]);if(h||f){var p=t.style.measure(c);h&&(t.layout.width=p.width+u),f&&(t.layout.height=p.height+Ic(t,ac))}if(0===s)return}var d,v,y,g,m=Vc(t),x=Fc(t),k=jc(t,i),w=jc(t,a),M=Ic(t,i),b=Ic(t,a),A=!bc(t.layout[wc[i]]),S=!bc(t.layout[wc[a]]),_=Ac(i),C=null,P=null,T=Ql;A&&(T=t.layout[wc[i]]-M);var D=0,O=0,j=0,E=0,Y=0,N=0;while(O<s){var I,F=0,R=0,L=0,z=0,B=A&&x===sc||!A&&x!==uc,W=B?s:D,X=!0,H=s,q=null,V=null,G=k,U=0;for(d=D;d<s;++d){y=t.children[d],y.lineIndex=N,y.nextAbsoluteChild=null,y.nextFlexChild=null;var Z=Lc(t,y);if(Z===vc&&Hc(y)===yc&&S&&!Uc(y,a))y.layout[wc[a]]=Kc(Qc(y,a,t.layout[wc[a]]-b-Nc(y,a)),Ic(y,a));else if(Hc(y)===gc)for(null===C&&(C=y),null!==P&&(P.nextAbsoluteChild=y),P=y,v=0;v<2;v++)g=0!==v?rc:ac,!bc(t.layout[wc[g]])&&!Uc(y,g)&&Zc(y,mc[g])&&Zc(y,xc[g])&&(y.layout[wc[g]]=Kc(Qc(y,g,t.layout[wc[g]]-Ic(t,g)-Nc(y,g)-Jc(y,mc[g])-Jc(y,xc[g])),Ic(y,g)));var $=0;if(A&&qc(y)?(R++,L+=y.style.flex,null===q&&(q=y),null!==V&&(V.nextFlexChild=y),V=y,$=Ic(y,i)+Nc(y,i)):(I=Ql,_||(I=Uc(t,o)?t.layout[wc[o]]-u:e-Nc(t,o)-u),0===j&&sh(y,I,r),Hc(y)===yc&&(z++,$=Gc(y,i))),m&&A&&F+$>T&&d!==D){z--,j=1;break}B&&(Hc(y)!==yc||qc(y))&&(B=!1,W=d),X&&(Hc(y)!==yc||Z!==vc&&Z!==fc||bc(y.layout[wc[a]]))&&(X=!1,H=d),B&&(y.layout[kc[i]]+=G,A&&eh(t,y,i),G+=Gc(y,i),U=Kc(U,Qc(y,a,Gc(y,a)))),X&&(y.layout[kc[a]]+=E+w,S&&eh(t,y,a)),j=0,F+=$,O=d+1}var J=0,Q=0,K=0;if(K=A?T-F:Kc(F,0)-F,0!==R){var tt,et,nt=K/L;V=q;while(null!==V)tt=nt*V.style.flex+Ic(V,i),et=Qc(V,i,tt),tt!==et&&(K-=et,L-=V.style.flex),V=V.nextFlexChild;nt=K/L,nt<0&&(nt=0),V=q;while(null!==V)V.layout[wc[i]]=Qc(V,i,nt*V.style.flex+Ic(V,i)),I=Ql,Uc(t,o)?I=t.layout[wc[o]]-u:_||(I=e-Nc(t,o)-u),sh(V,I,r),y=V,V=V.nextFlexChild,y.nextFlexChild=null}else x!==sc&&(x===uc?J=K/2:x===lc?J=K:x===cc?(K=Kc(K,0),Q=R+z-1!==0?K/(R+z-1):0):x===hc&&(Q=K/(R+z),J=Q/2));for(G+=J,d=W;d<O;++d)y=t.children[d],Hc(y)===gc&&Zc(y,mc[i])?y.layout[kc[i]]=Jc(y,mc[i])+Dc(t,i)+_c(y,i):(y.layout[kc[i]]+=G,A&&eh(t,y,i),Hc(y)===yc&&(G+=Q+Gc(y,i),U=Kc(U,Qc(y,a,Gc(y,a)))));var rt=t.layout[wc[a]];for(S||(rt=Kc(Qc(t,a,U+b),b)),d=H;d<O;++d)if(y=t.children[d],Hc(y)===gc&&Zc(y,mc[a]))y.layout[kc[a]]=Jc(y,mc[a])+Dc(t,a)+_c(y,a);else{var it=w;if(Hc(y)===yc){Z=Lc(t,y);if(Z===vc)bc(y.layout[wc[a]])&&(y.layout[wc[a]]=Kc(Qc(y,a,rt-b-Nc(y,a)),Ic(y,a)));else if(Z!==fc){var at=rt-b-Gc(y,a);it+=Z===pc?at/2:at}}y.layout[kc[a]]+=E+it,S&&eh(t,y,a)}E+=U,Y=Kc(Y,G),N+=1,D=O}if(N>1&&S){var ot=t.layout[wc[a]]-b,st=ot-E,ut=0,lt=w,ct=Rc(t);ct===dc?lt+=st:ct===pc?lt+=st/2:ct===vc&&ot>E&&(ut=st/N);var ht=0;for(d=0;d<N;++d){var ft=ht,pt=0;for(v=ft;v<s;++v)if(y=t.children[v],Hc(y)===yc){if(y.lineIndex!==d)break;bc(y.layout[wc[a]])||(pt=Kc(pt,y.layout[wc[a]]+Nc(y,a)))}for(ht=v,pt+=ut,v=ft;v<ht;++v)if(y=t.children[v],Hc(y)===yc){var dt=Lc(t,y);if(dt===fc)y.layout[kc[a]]=lt+_c(y,a);else if(dt===dc)y.layout[kc[a]]=lt+pt-Cc(y,a)-y.layout[wc[a]];else if(dt===pc){var vt=y.layout[wc[a]];y.layout[kc[a]]=lt+(pt-vt)/2}else dt===vc&&(y.layout[kc[a]]=lt+_c(y,a))}lt+=pt}}var yt=!1,gt=!1;if(A||(t.layout[wc[i]]=Kc(Qc(t,i,Y+Ec(t,i)),M),i!==ic&&i!==oc||(yt=!0)),S||(t.layout[wc[a]]=Kc(Qc(t,a,E+b),b),a!==ic&&a!==oc||(gt=!0)),yt||gt)for(d=0;d<s;++d)y=t.children[d],yt&&eh(t,y,i),gt&&eh(t,y,a);P=C;while(null!==P){for(v=0;v<2;v++)g=0!==v?rc:ac,!bc(t.layout[wc[g]])&&!Uc(P,g)&&Zc(P,mc[g])&&Zc(P,xc[g])&&(P.layout[wc[g]]=Kc(Qc(P,g,t.layout[wc[g]]-Yc(t,g)-Nc(P,g)-Jc(P,mc[g])-Jc(P,xc[g])),Ic(P,g))),Zc(P,xc[g])&&!Zc(P,mc[g])&&(P.layout[mc[g]]=t.layout[wc[g]]-P.layout[wc[g]]-Jc(P,xc[g]));y=P,P=P.nextAbsoluteChild,y.nextAbsoluteChild=null}}function ih(t){var e=t.style,n={};["marginTop","marginRight","marginBottom","marginLeft"].forEach((function(t){var r=e[t];r&&/^-?\d+%$/.test(r)&&(n[t]=r,e[t]=0)})),t.margin=n}function ah(t){var e=Number(t.substr(0,t.length-1));return e/100}function oh(t){var e=t.margin,n=t.layout;Object.keys(e).forEach((function(t){var r=ah(e[t]);"marginLeft"!==t&&"marginRight"!==t||!n.width?"marginTop"!==t&&"marginBottom"!==t||!n.height||(n.top+=n.height*r):n.left+=n.width*r}))}function sh(t,e,n){t.shouldUpdate=!0,ih(t);var r=t.style.direction||ec,i=!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r;i?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),rh(t,e,n),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left),oh(t)}function uh(t){if(!t)return t;var e=t.style,n=t.children;if(e)return Mc(t),sh(t,null,null),t;if(n&&n.length)for(var r=0,i=n.length;r<i;r++)uh(n[r]);return t}var lh=uh,ch=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;return{x:e,y:n,width:r,height:i}},hh=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;return{x1:e,y1:n,x2:e+r,y2:n+i}},fh=function(t){var e=t.height,n=t.left,r=t.top;return{x:n,y:r+e/2,textBaseline:"middle"}},ph=function(t){var e=t.left,n=t.top,r=t.width,i=r/2;return{x:e+i,y:n+i,r:i}},dh=function(t){var e=t.left,n=t.top,r=t.width,i=r/2;return{x:e+i,y:n,radius:i}},vh={rect:ch,line:hh,text:fh,circle:ph,marker:dh,group:ch},yh=function(t,e){if(!e)return null;var n=vh[t]||ch;return n(e)};function gh(t,e){return new(vr[wt(t)])(e)}var mh=gh,xh=function(t,e,n,r){if(!e)return null;var i=t.get("status"),a=e.clip,o=e.start,s=e.end,u=e.easing,l=e.delay,c=e.duration,h=A(a)?a(t._attrs.attrs):a;if(h){var f=h.type,p=h.attrs,d=h.start,y=mh(f,{attrs:v(v({},p),d)});h.easing=h.easing||u,h.delay="number"===typeof h.delay?h.delay:l,h.duration=h.duration||c,h.element=y}var g=t.getDefaultAttrs();return v(v({},e),{},{clip:h,start:v(v(v({},g),r),o),end:v(v({},i===Fl?null:n),s)})};function kh(t,e,n){var r=t.key,i=t.ref,a=t._cache,o=t.type,s=t.props,u=t.status,l=t.animation,c=fs(s.children,(function(t){return kh(t,e,n)})),h=n(s.style),f=n(s.attrs);if("text"===o){var p=e.addShape(o,{attrs:v({x:0,y:0},f)}),d=p.getBBox(),y=d.width,g=d.height;h=v({width:y,height:g},h),p.remove(!0)}return{key:r,ref:i,_cache:a,type:o,props:s,children:c,status:u,animation:l,style:h,attrs:f}}function wh(t,e){if(!t||!e)return e;var n=t.left,r=t.top,i=e.left,a=e.top;return v(v({},e),{},{left:n+i,top:r+a})}function Mh(t,e,n,r){var i,a=t._cache,o=void 0===a?{}:a,s=t.ref,u=t.type,l=t.props,c=t.attrs,h=t.layout,f=t.renderChildren,p=t.children,d=t.status,y=t.animation,g=wh(n,h),m=o.attrs,x=v(v(v({},yh(u,g)),d===Fl?m:null),c);if(o.attrs=x,x.clip){var k=x.clip,w=A(k)?k(x):k;x.clip=mh(w.type,w)}if("group"===u){i=e.addGroup(v(v({},ee(l,["children"])),{},{status:d,attrs:x}));var M=f||p;if(M&&M.length)for(var b=0,S=M.length;b<S;b++)Mh(M[b],i,g,r)}else i=e.addShape(u,v(v({},l),{},{status:d,attrs:x}));return!1!==r&&i.set("animation",xh(i,y,x,m)),s&&(s.current=i),i}function bh(t){var e=t.status,n=t.children;if(e===Fl)return null;if(!n||!n.length)return t;var r=n.filter((function(t){return!!bh(t)}));return t.children=r,t.renderChildren=n,t}function Ah(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ys;if(t){var i=kh(t,e,r),a=bh(i);return lh(a),Mh(i,e,null,n)}}var Sh=["transformFrom"];function _h(t){return t?we.map(t,(function(t){return t?te(t,["key","ref","type","props"]):t})):t}function Ch(t,e,n){var r=t.container,i=t.context,a=t.updater,o=t.__lastElement,s=t.transformFrom,u=t.animate;r.clear(),n=_t(n)?n:u;var l=i.px2hd,c=o||s&&s.__lastElement,h=Yl(e,i,a);t.__lastElement=h;var f=!1!==n?Kl(h,c):h;return f?C(f)?f.map((function(t){return Ah(t,r,n,l)})):Ah(f,r,n,l):null}function Ph(t,e){var n=e.animate;if(!1!==n){var r=t.props,i=r.animate;t.animate=_t(i)?i:n}else t.animate=!1}function Th(t){if(!t)return null;var e=t.__lastElement,n=t.children;if(e)return t;if(!n)return null;var r=null;return we.map(n,(function(t){if(!r&&t){var e=Th(t.component);e&&(r=e)}})),r}function Dh(t){if(!t||!t.current)return null;var e=t.current;return Th(e)}function Oh(t,e){var n,r=e.type,i=e.props,a=e.ref,o=t.container,s=t.context,u=t.updater,l=t.transformFrom,c=i.transformFrom,h=mo(i,Sh);if(r.prototype&&r.prototype.isF2Component?n=new r(h,s,u):(n=new le(h,s,u),n.render=function(){return r(this.props,s,u)}),a&&(a.current=n),l&&(n.transformFrom=l),c){var f=c?Dh(c):null;n.transformFrom=f}var p=i.zIndex;return n.container=o.addGroup({zIndex:p}),n.context=s,n.updater=u,n}function jh(t){we.map(t,(function(t){var e=t.children,n=Et(e);n?t.willMount&&t.willMount():t.willUpdate&&t.willUpdate()})),we.map(t,(function(t){var e=t.children,n=Et(e),r=t.render();Fh(t,r,e),n?t.didMount&&t.didMount():t.didUpdate&&t.didUpdate()}))}function Eh(t){we.map(t,(function(t){if(t){var e=t.component;if(e){e.willUnmount&&e.willUnmount(),Eh(e.children);var n=e.container;n.remove(!0),e.didUnmount&&e.didUnmount(),e.destroy()}}}))}function Yh(t,e,n){if(!e&&!n)return null;if(!e&&n)return Eh(n),null;if(e&&!n)return e;var r=e.type,i=e.props,a=n.type,o=n.props,s=n.component;return r!==a?(Eh(n),e):(e.component=s,de(i,o)&&s.context===t.context?null:e)}function Nh(t,e,n){var r=[];we.compare(e,n,(function(e,n){var i=Yh(t,e,n);i&&(r=r.concat(we.toArray(i).filter(Boolean)))}));var i=r.filter((function(t){var e=t.component,n=t.props;return!e||(!e.shouldUpdate||!1!==e.shouldUpdate(n))})),a=i.map((function(e){var n=e.component;if(n){var r=e.props;n.willReceiveProps&&n.willReceiveProps(r,t.context);var i=r.zIndex;n.container.set("zIndex",i),n.props=r,n.context=t.context}else n=Oh(t,e);return e.component=n,Ph(n,t),n}));return jh(a),r.forEach((function(e){var n=e.component,r=t.container;r.add(n.container)})),e}function Ih(t){if(!t)return!1;if(!C(t)){var e=t.type;return"function"===typeof e}for(var n=0,r=t.length;n<r;n++)if(Ih(t[n]))return!0;return!1}function Fh(t,e,n){return e=_h(e),t.children=e,Ih(e)?e=Nh(t,e,n):Ch(t,e),e}function Rh(t){var e=[],n=[],r=[];function i(){var i;while(i=e.shift()){var a=i,s=a.state,u=a.component,l=a.callback;u.destroyed||(u.prevState||(u.prevState=Object.assign({},u.state)),"function"===typeof s?Object.assign(u.state,s(u.prevState,u.props)):Object.assign(u.state,s),u.prevState=u.state,"function"===typeof l&&r.push({callback:l,component:u}))}var c=[].concat(n);t.renderComponents(c),o(),n.length=0,r.length=0}function a(t,r,a){0===e.length&&setTimeout(i,0),e.push({component:t,state:r,callback:a}),n.indexOf(t)<0&&n.push(t)}function o(){for(var t=0;t<r.length;t++){var e=r[t],n=e.callback,i=e.component;n.call(i)}}var s={enqueueForceUpdate:a,enqueueSetState:a};return s}var Lh={labelOffset:"15px",line:{stroke:"#E8E8E8",lineWidth:"1px"},label:{fill:"#808080",fontSize:"20px"},grid:{stroke:"#E8E8E8",lineWidth:"1px",lineDash:["4px"]}},zh={line:{style:{stroke:"#a3a3a3",lineWidth:1},offsetX:0,offsetY:0},text:{style:{fill:"#787878",textBaseline:"middle"},offsetX:0,offsetY:0},rect:{style:{fill:"#fafafa"}},arc:{style:{stroke:"#a3a3a3"}},html:{offsetX:0,offsetY:0,alignX:"center",alignY:"middle"},tag:{offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}},point:{offsetX:0,offsetY:0,style:{fill:"#fff",r:3,lineWidth:2,stroke:"#1890ff"}}},Bh={padding:["30px","30px","30px","30px"]},Wh={fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',pixelRatio:1,padding:[0,0,0,0],chart:Bh,colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash","smooth"],point:["circle","hollowCircle","rect"],area:["area","smooth"],interval:["rect","pyramid","funnel"]},sizes:["4px","6px","8px","10px","12px"],shape:{line:{default:{lineWidth:"4px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}},axis:Lh,guide:zh},Xh=Wh,Hh=n(6073)["window"],qh="object"===("undefined"===typeof Hh?"undefined":(0,ce.A)(Hh))&&Hh.requestAnimationFrame?Hh.requestAnimationFrame:function(t){return setTimeout(t,16)},Vh="object"===("undefined"===typeof Hh?"undefined":(0,ce.A)(Hh))&&Hh.cancelAnimationFrame?Hh.cancelAnimationFrame:function(t){return clearTimeout(t)},Gh="object"===("undefined"===typeof performance?"undefined":(0,ce.A)(performance))&&performance.now?performance:Date,Uh=function(){function t(){(0,l.A)(this,t),this.playing=!1,this.paused=!1,this.pausedTime=0}return(0,c.A)(t,[{key:"play",value:function(t,e,n){var r=this;if(t<=0)n();else if(!this.playing){this.duration=t,this.onUpdate=e,this.onEnd=n;var i=this.paused,a=this.pausedTime;this.playing=!0;var o=Gh.now();i&&a&&(o-=a,this.paused=!1,this.pausedTime=0);var s=function i(){var a=Gh.now(),s=a-o;return s>=t?(e(t),n(),void(r.playing=!1)):r.paused?(e(s),r.pausedTime=s,void(r.playing=!1)):(e(s),void(r.animationFrameNumber=qh(i)))};this.animationFrameNumber=qh(s)}}},{key:"pause",value:function(){this.paused=!0}},{key:"stop",value:function(){this.playing=!1}},{key:"end",value:function(){this.playing&&(this.abort(),this.onUpdate(this.duration),this.onEnd())}},{key:"abort",value:function(){this.animationFrameNumber&&(Vh(this.animationFrameNumber),this.playing=!1,this.animationFrameNumber=null)}}]),t}(),Zh=Uh;function $h(t,e){var n,r=t?t.length:0,i=e?e.length:0,a=Math.max(i,r),o=new Array(a),s=new Array(a);for(n=0;n<a;n++){var u=n<r?(t||[])[n]:(t||[])[r-1],l=n<i?(e||[])[n]:(e||[])[i-1];s[n]=pu(u,l)}return function(t){if(t>=1)return e;for(n=0;n<a;++n)o[n]=s[n](t);return o}}var Jh=$h,Qh=function(t,e){return"string"===typeof e?uu(t,e):Array.isArray(e)?"number"!==typeof e[0]?Jh(t,e):xu(t,e):fu(t,e)};function Kh(t){return t}function tf(t){return t*t}function ef(t){return t*(2-t)}function nf(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}function rf(t){return t*t*t}function af(t){return--t*t*t+1}function of(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}function sf(t){return t*t*t*t}function uf(t){return 1-t*t*t*t}function lf(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}function cf(t){return t*t*t*t*t}function hf(t){return--t*t*t*t*t+1}function ff(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function pf(t){return 0===t?0:Math.pow(1024,t-1)}function df(t){return 1===t?1:1-Math.pow(2,-10*t)}function vf(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))}function yf(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)}function gf(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)}function mf(t){var e=1.70158;return t*t*((e+1)*t-e)}function xf(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1}function kf(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}function wf(t){return 1-Mf(1-t)}function Mf(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function bf(t){return t<.5?.5*wf(2*t):.5*Mf(2*t-1)+.5}var Af=function(){function t(e,n){(0,l.A)(this,t),this.isClip=!1,this.end=!1,this.element=e,this.animation=n;var r=n.property,i=void 0===r?[]:r,a=n.easing,o=n.duration,u=n.delay,c=void 0===u?0:u,h=n.start,f=n.end,p=n.onFrame,d=n.isClip,v=i.map((function(t){return Q(t)?Qh(h[t],f[t]):t.interpolate?t.interpolate(h,f):void 0}));this.easing="function"===typeof a?a:s[a]||Kh,this.property=i,this.interpolates=v,this.duration=o,this.delay=c,this.onFrame=p,this.totalDuration=o+c,this.isClip=d,this.update(0,0)}return(0,c.A)(t,[{key:"to",value:function(t){var e=this.duration,n=this.delay,r=this.totalDuration,i=this.easing,a=this.end;if(!a&&!(t<=n)&&e){var o=t>=r?1:(t-n)/e;this.update(i(o),t),1===o&&this.onEnd()}}},{key:"update",value:function(t,e){for(var n=this.element,r=this.interpolates,i=this.property,a=this.onFrame,o={},s=i.length-1;s>=0;s--){var u=i[s];Q(u)?o[u]=r[s](t):o[u.name]=r[s](t)}a&&(o=v(v({},o),this.onFrame(t,e))),n.attr(o)}},{key:"onEnd",value:function(){var t=this.animation,e=this.isClip,n=this.element,r=t.onEnd;r&&r.call(this),e&&n.remove(!0),n._attrs.status===Fl&&n.remove(!0),n.set("animation",null),this.end=!0}}]),t}(),Sf=Af;function _f(t,e){e(t);var n=t.get("children");if(n&&n.length)for(var r=0,i=n.length;r<i;r++){var a=n[r];_f(a,e)}}var Cf=function(){function t(e){(0,l.A)(this,t),this.timeline=new Zh,this.canvas=e}return(0,c.A)(t,[{key:"createAnimator",value:function(t,e){var n=e.duration,r=e.property,i=e.onFrame;if(n&&(r&&r.length||i))return new Sf(t,e)}},{key:"play",value:function(t,e){var n=this,r=this.canvas,i=[],a=0,o=[];_f(t,(function(t){var e=t._attrs,r=e.animation,s=e.status;if(r){var u=n.createAnimator(t,r);u&&(a=Math.max(a,u.totalDuration),i.push(u));var l=r.clip;if(l){l.isClip=!0;var c=l.element,h=n.createAnimator(c,l);h&&(a=Math.max(a,h.totalDuration),t.attr("clip",c),i.push(h))}}else s===Fl&&o.push(t)}));for(var s=0,u=o.length;s<u;s++){var l=o[s],c=l._attrs.children;c&&c.length||l.remove(!0)}this.timeline.play(a,(function(t){for(var e=0,n=i.length;e<n;e++){var o=i[e];o.to(t)}t<a&&r.draw()}),(function(){for(var t=0,n=o.length;t<n;t++){var i=o[t];i.remove(!0)}r.draw(),e&&e()}))}},{key:"end",value:function(){this.timeline.end()}},{key:"abort",value:function(){this.timeline.abort()}}]),t}(),Pf=Cf;function Tf(t,e){return function(n,r){var i=r||{},a=i.fontSize,o=i.fontFamily,s=i.fontStyle,u=i.fontWeight,l=i.fontVariant,c=t.addShape("text",{attrs:{x:0,y:0,fontSize:e(a),fontFamily:o,fontStyle:s,fontWeight:u,fontVariant:l,text:n}}),h=c.getBBox(),f=h.width,p=h.height;return c.remove(!0),{width:f,height:p}}}var Df=function(t){(0,f.A)(n,t);var e=k(n);function n(t){var r;(0,l.A)(this,n),r=e.call(this,t);var i=t.context,a=t.pixelRatio,o=t.width,s=t.height,u=t.animate,c=void 0===u||u,h=t.px2hd,f=t.theme,p=(t.style,t.createImage),d=t.landscape,v=A(h)?hs(h):ys,g=v(zt({},Xh,f)),m=Yr({context:i,pixelRatio:a,fontFamily:g.fontFamily,width:o,height:s,createImage:p,landscape:d}),x=Rh((0,y.A)(r)),k={root:(0,y.A)(r),ctx:i,canvas:m,theme:g,px2hd:v,measureText:Tf(m,v)},w=new Pf(m);return m.on("afterdraw",(function(){var t=r.props.onAfterDraw;t&&t()})),r.canvas=m,r.container=m,r.context=k,r.updater=x,r.animate=c,r.animation=w,r.theme=g,r._ee=new jl,r.updateLayout(t),r}return(0,c.A)(n,[{key:"renderComponents",value:function(t){t&&t.length&&(jh(t),this.draw())}},{key:"update",value:function(t){var e=this.props;de(t,e)||(this.props=t,this.render())}},{key:"resize",value:function(t,e){var n=this.canvas._attrs,r=n.width,i=n.height;this.canvas.changeSize(t||r,e||i),this.updateLayout(v(v({},this.props),{},{width:t,height:e})),this.render()}},{key:"updateLayout",value:function(t){var e=this.canvas._attrs,n=e.width,r=e.height,i=this.context.px2hd(v({left:0,top:0,width:(null===t||void 0===t?void 0:t.width)||n,height:(null===t||void 0===t?void 0:t.height)||r,padding:this.theme.padding},t.style));this.layout=Ae.fromStyle(i),this.context=v(v({},this.context),{},{left:this.layout.left,top:this.layout.top,width:this.layout.width,height:this.layout.height})}},{key:"draw",value:function(){var t=this.canvas,e=this.animate;!1!==e?this.play():t.draw()}},{key:"play",value:function(){var t=this,e=this.canvas,n=this.animation;n.abort(),n.play(e,(function(){t.emit("animationEnd")}))}},{key:"render",value:function(){var t=this.children,e=this.props,n=e.children;return Fh(this,n,t),this.draw(),null}},{key:"destroy",value:function(){var t=this.canvas,e=this.children;Eh(e),t.destroy()}},{key:"on",value:function(t,e){this._ee.on(t,e)}},{key:"emit",value:function(t,e){this._ee.emit(t,e)}},{key:"off",value:function(t,e){this._ee.off(t,e)}}]),n}(le),Of=Df;function jf(t){var e=(0,Cl.useRef)(t);e.current=t,(0,Cl.useEffect)((function(){return function(){return e.current()}}),[])}var Ef=jf,Yf=n(4848);function Nf(t){return t&&!t.preventDefault&&(t.preventDefault=function(){}),t}var If,Ff,Rf=function(t){var e=t.id,n=t.children,r=(0,Cl.useRef)(e||"f2Canvas"),i=(0,Cl.useRef)(),a=(0,Cl.useRef)(),o=(0,Cl.useRef)(),s=(0,Cl.useRef)();(0,Cl.useEffect)((function(){var t;s.current=n,null===(t=a.current)||void 0===t||t.update({children:n})}),[n]),Ef((function(){var t;null===(t=a.current)||void 0===t||t.destroy()}));var u=function(){var e=(0,Ml.createSelectorQuery)();e.select("#".concat(r.current)).fields({node:!0,size:!0}).exec((function(e){if(e[0]){var n=e[0],r=n.node,i=n.width,u=n.height;if(r){var l=(0,Ml.getSystemInfoSync)().pixelRatio;r.width=i*l,r.height=u*l;var c=r.getContext("2d"),h=new Of({pixelRatio:l,width:i,height:u,context:c,children:s.current,createImage:function(){return r.createImage()}});h.render(),a.current=h,o.current=h.canvas.get("el")}}else{var f;null===(f=t.onError)||void 0===f||f.call(t)}}))};(0,Cl.useEffect)((function(){i.current&&u()}),[i]);var l=function(t){var e=o.current;if(e){var n=Nf(t);n.touches=[t.detail],e.dispatchEvent("click",n)}},c=function(t){var e=o.current;e&&e.dispatchEvent("touchstart",Nf(t))},h=function(t){var e=o.current;e&&e.dispatchEvent("touchmove",Nf(t))},f=function(t){var e=o.current;e&&e.dispatchEvent("touchend",Nf(t))};return(0,Yf.jsx)(wl.Hl,{id:r.current,ref:i,type:"2d",style:"width:100%;height:100%;display:block;padding: 0;margin: 0;",onClick:l,onTouchStart:c,onTouchMove:h,onTouchEnd:f})},Lf=Rf,zf=n(5189),Bf=n(2197),Wf=(If=(0,_l.WQ)("store"),If(Ff=(0,_l.PA)(Ff=function(t){function e(){var t;(0,l.A)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=(0,h.A)(this,e,[].concat(r)),(0,p.A)(t,"state",{dataCount:[],dataWeight:[],dataFeel:[],dataShape:[],dataColor:[],dataSmell:[],dataLocation:[],totalNumber:0,hasData:!1,showPage:!1,startDate:"",endDate:"",loadingAi:!1,aiBtnTip:"AI\u667a\u80fd\u5065\u5eb7\u5206\u6790"}),(0,p.A)(t,"componentDidMount",(function(){t.fetchShitList()})),(0,p.A)(t,"componentDidShow",(function(){t.props.store.globalStore.needRefreshStatistics&&(t.fetchShitList(),t.props.store.globalStore.setNeedRefreshStatistics(!1))})),(0,p.A)(t,"animation",null),(0,p.A)(t,"timer",null),(0,p.A)(t,"fetchShitList",(function(){var e=Sl()().startOf("month").valueOf(),n=Sl()().endOf("month").valueOf();t.setState({startDate:e,endDate:n,showPage:!1}),bl().cloud.callFunction({name:"getShitList",data:{startDate:e,endDate:n,type:"single"}}).then((function(r){var i=r.result,a=i.code,o=i.data;if(a&&"200"===a&&o){for(var s={dayCount:{},feelCount:{},weightCount:{},shapeCount:{},colorCount:{},smellCount:{},locationCount:{}},u=Sl()(e);u.isBefore(Sl()(n));u=u.add(1,"day"))s["dayCount"][u.format("YYYY-MM-DD")]=0;o.data.forEach((function(t){t.feel&&(s["feelCount"][t.feel]?s["feelCount"][t.feel]++:s["feelCount"][t.feel]=1),t.weight&&(s["weightCount"][t.weight]?s["weightCount"][t.weight]++:s["weightCount"][t.weight]=1),t.shape&&(s["shapeCount"][t.shape]?s["shapeCount"][t.shape]++:s["shapeCount"][t.shape]=1),t.color&&(s["colorCount"][t.color]?s["colorCount"][t.color]++:s["colorCount"][t.color]=1),t.smell&&(s["smellCount"][t.smell]?s["smellCount"][t.smell]++:s["smellCount"][t.smell]=1),t.location&&(s["locationCount"][t.location]?s["locationCount"][t.location]++:s["locationCount"][t.location]=1);var e=Sl()(t.createdAt).format("YYYY-MM-DD");s["dayCount"][e]++}));var l=[],c=[],h=[],f=[],p=[],d=[],v=[];for(var y in s["dayCount"])l.push({date:y,value:s["dayCount"][y]});for(var g in s["weightCount"])c.push({name:(0,Bf.Ri)("weight",g),y:s["weightCount"][g],const:"const"});for(var m in s["feelCount"])h.push({name:(0,Bf.Ri)("feel",m),y:s["feelCount"][m],const:"const"});for(var x in s["shapeCount"])f.push({name:(0,Bf.Ri)("shape",x),y:s["shapeCount"][x],const:"const"});for(var k in s["colorCount"])p.push({name:(0,Bf.Ri)("color",k),y:s["colorCount"][k],const:"const"});for(var w in s["smellCount"])d.push({name:(0,Bf.Ri)("smell",w),y:s["smellCount"][w],const:"const"});for(var M in s["locationCount"])v.push({name:(0,Bf.Ri)("location",M),y:s["locationCount"][M],const:"const"});t.setState({totalNumber:o.data.length,dataCount:l,dataFeel:h,dataShape:f,dataWeight:c,dataColor:p,dataSmell:d,dataLocation:v,hasData:!0,showPage:!0})}else t.setState({dataCount:[],dataFeel:[],dataWeight:[],dataShape:[],dataColor:[],dataSmell:[],dataLocation:[],hasData:!1,showPage:!0},(function(){var e,n;null===(e=t.animation)||void 0===e||null===(n=e.init)||void 0===n||n.call(e)}))}))})),(0,p.A)(t,"onF2Error",(function(){t.props.store.globalStore.setNeedRefreshStatistics(!0)})),(0,p.A)(t,"aiBtnTipCountDown",(function(){var e=30;t.timer=setInterval((function(){e--,e>=0&&t.setState({loadingAi:!0,aiBtnTip:"\u5206\u6790\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85".concat(e,"s")})}),1e3)})),(0,p.A)(t,"initAiBtn",(function(){clearInterval(t.timer),t.timer=null,t.setState({loadingAi:!1,aiBtnTip:"AI\u667a\u80fd\u5065\u5eb7\u5206\u6790"})})),(0,p.A)(t,"handleAnalyzeDate",(function(){var e="\u5206\u522b\u662f";return t.state.dataCount.forEach((function(t){0!==t.value&&(e+="".concat(t.date,", ").concat(t.value,"\u6b21;"))})),e})),(0,p.A)(t,"handleAnalyzeWeight",(function(){var e="\u4ece\u91cf\u4e0a\u6765\u770b\uff0c";return t.state.dataWeight.forEach((function(n){0!==n.value&&(e+="".concat(n.name,"\u5360\u4e86").concat((100*n.y/t.state.totalNumber).toFixed(2),"%;"))})),e})),(0,p.A)(t,"handleAnalyzeFeel",(function(){var e="\u4ece\u4f53\u611f\u4e0a\u6765\u770b\uff0c";return t.state.dataFeel.forEach((function(n){0!==n.value&&(e+="".concat(n.name,"\u5360\u4e86").concat((100*n.y/t.state.totalNumber).toFixed(2),"%;"))})),e})),(0,p.A)(t,"handleAnalyzeShape",(function(){var e="\u4ece\u5f62\u72b6\u4e0a\u6765\u770b\uff0c";return t.state.dataShape.forEach((function(n){0!==n.value&&(e+="".concat(n.name,"\u5360\u4e86").concat((100*n.y/t.state.totalNumber).toFixed(2),"%;"))})),e})),(0,p.A)(t,"handleAnalyzeColor",(function(){var e=t.props.store.globalStore;if(e.unlockOption){var n="\u4ece\u989c\u8272\u4e0a\u6765\u770b\uff0c";return t.state.dataColor.forEach((function(e){0!==e.value&&(n+="".concat(e.name,"\u5360\u4e86").concat((100*e.y/t.getItemTotalCount(t.state.dataColor)).toFixed(2),"%;"))})),n}return""})),(0,p.A)(t,"handleAnalyzeSmell",(function(){var e=t.props.store.globalStore;if(e.unlockOption){var n="\u4ece\u6c14\u5473\u4e0a\u6765\u770b\uff0c";return t.state.dataSmell.forEach((function(e){0!==e.value&&(n+="".concat(e.name,"\u5360\u4e86").concat((100*e.y/t.getItemTotalCount(t.state.dataSmell)).toFixed(2),"%;"))})),n}return""})),(0,p.A)(t,"handleAnalyzeLocation",(function(){var e=t.props.store.globalStore;if(e.unlockOption){var n="\u4ece\u5730\u70b9\u4e0a\u6765\u770b\uff0c";return t.state.dataLocation.forEach((function(e){0!==e.value&&(n+="".concat(e.name,"\u5360\u4e86").concat((100*e.y/t.getItemTotalCount(t.state.dataLocation)).toFixed(2),"%;"))})),n}return""})),(0,p.A)(t,"judgeCanAnalyze",(function(){var e,n=null===(e=t.getMonthDetails())||void 0===e?void 0:e.dayOfMonth;return t.state.totalNumber<=5&&n<=15?(bl().showToast({title:"\u6570\u636e\u592a\u5c11\u4e0d\u8db3\u4ee5\u5206\u6790\uff0c\u8bf7\u591a\u591a\u8bb0\u5f55\u6216\u8fc7\u51e0\u5929\u518d\u5c1d\u8bd5",icon:"none",duration:3e3}),!1):!(t.state.totalNumber<=1&&n>15)||(bl().showToast({title:"\u6570\u636e\u592a\u5c11\u4e0d\u8db3\u4ee5\u5206\u6790\uff0c\u8bf7\u591a\u591a\u8bb0\u5f55\u6216\u8fc7\u51e0\u5929\u518d\u5c1d\u8bd5",icon:"none",duration:3e3}),!1)})),(0,p.A)(t,"handleAnalyzeClick",(function(){bl().reportEvent("analyze_click"),t.judgeCanAnalyze()&&(0,Bf.k1)("AI\u667a\u80fd\u5206\u6790",100).then((function(e){bl().reportEvent("analyze_can_click"),t.setState({loadingAi:!0,aiBtnTip:"\u5206\u6790\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f8530s"}),t.aiBtnTipCountDown();var n=t.getMonthDetails(),r="\u8fd9\u4e2a\u6708\u4e00\u5171".concat(n.dayOfMonth,"\u5929\uff0c\u4eca\u5929\u662f\u7b2c").concat(n.daysInMonth,"\u5929\uff0c\u6211\u8fd9\u4e2a\u6708\u5230\u76ee\u524d\u4e3a\u6b62\u62c9\u4e86").concat(t.state.totalNumber,"\u6b21\u5c4e\uff0c").concat(t.handleAnalyzeDate()).concat(t.handleAnalyzeWeight()).concat(t.handleAnalyzeFeel()).concat(t.handleAnalyzeShape()).concat(t.handleAnalyzeColor()).concat(t.handleAnalyzeSmell()).concat(t.handleAnalyzeLocation(),"\u7ed9\u6211\u4e00\u70b9\u5065\u5eb7\u5efa\u8bae,\u4f60\u7684\u56de\u7b54\u8981\u5e26\u4e0a\u6211\u7684\u6570\u636e\uff0c\u4ece\u6211\u7684\u6570\u636e\u53bb\u5206\u6790,\u56de\u7b54\u4e2d\u5404\u4e2a\u6807\u9898\u8981\u5e26\u4e0a\u70b9emoji\uff0c\u8ba9\u56de\u7b54\u7684\u6587\u672c\u770b\u4e0a\u53bb\u4e0d\u662f\u90a3\u4e48\u5355\u8c03");bl().cloud.callFunction({name:"analyzeFn",data:{type:"create",queryContent:r,totalNumber:t.state.totalNumber}}).then((function(e){e.result.code&&"200"===e.result.code&&((0,Bf.XZ)(-100,"ai_analyze",2),bl().reportEvent("analyze_suc_click"),t.initAiBtn(),bl().navigateTo({url:"/pages/analyzeDetail/index?id=".concat(e.result.data)}))})).catch((function(e){bl().reportEvent("analyze_fail_click"),t.initAiBtn(),bl().showToast({title:"\u5f53\u524d\u4f7f\u7528\u667a\u80fd\u5206\u6790\u7684\u4eba\u6570\u8fc7\u591a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",icon:"none",duration:2e3})}))}))})),(0,p.A)(t,"getItemTotalCount",(function(t){var e=0;return t.forEach((function(t){e+=t.y})),e})),t}return(0,f.A)(e,t),(0,c.A)(e,[{key:"onShareAppMessage",value:function(t){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:n(3159)}}},{key:"onShareTimeline",value:function(){return{title:"\u6bd4\u4e00\u6bd4\u8c01\u662f\u62c9\u5c4e\u5927\u738b",path:"/pages/index/index",imageUrl:n(3159)}}},{key:"getMonthDetails",value:function(){var t=Sl()(),e=(t.startOf("month"),t.endOf("month")),n=e.date(),r=t.date();return{daysInMonth:n,dayOfMonth:r}}},{key:"render",value:function(){var t=this;this.props.store.globalStore;return this.state.showPage?(0,Yf.jsxs)(wl.Ss,{className:"statisticsWrapper",children:[(0,Yf.jsx)(wl.Ss,{className:"titleWrapper",children:(0,Yf.jsxs)(wl.Ss,{children:[(0,Yf.jsx)(wl.EY,{className:"week",children:"\u672c\u6708"}),(0,Yf.jsx)(wl.EY,{className:"weekDetail",children:"(".concat(Sl()(this.state.startDate).format("YYYY/MM/DD"),"-").concat(Sl()(this.state.endDate).format("YYYY/MM/DD"),")")})]})}),!this.state.hasData&&(0,Yf.jsxs)(wl.Ss,{className:"noDataWrapper",children:[(0,Yf.jsx)(Pl.A,{ref:function(e){t.animation=e},style:{width:300,height:300},autoPlay:!0,loop:!0,source:n(4203)}),(0,Yf.jsx)(wl.EY,{className:"noDataTip",children:"\u5c4e\u6599\u672a\u53ca\uff0c\u6682\u65e0\u6570\u636e"})]}),this.state.hasData&&(0,Yf.jsxs)(wl.Ss,{children:[(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper subTitleWrapperCount",children:(0,Yf.jsxs)(wl.EY,{className:"subTitle",children:["\u6b21\u6570",(0,Yf.jsxs)(wl.EY,{className:"subTitleSmall",children:["\uff08\u5171",this.state.totalNumber,"\u6b21\uff09"]})]})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"200px",marginBottom:"30px"},children:(0,Yf.jsx)(Lf,{onError:this.onF2Error,id:"canvas3",children:(0,Yf.jsxs)(yo,{data:this.state.dataCount,children:[(0,Yf.jsx)(Eo,{field:"date",tickCount:3,style:{label:{align:"between"}}}),(0,Yf.jsx)(Eo,{field:"value",tickCount:5}),(0,Yf.jsx)(Hu,{x:"date",y:"value",color:"#C0A080"}),(0,Yf.jsx)(Qu,{})]})})}),(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u6570\u91cf"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas1",children:(0,Yf.jsxs)(yo,{data:this.state.dataWeight,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000000",text:(e.y/t.state.totalNumber*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})}),(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u4f53\u611f"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas2",children:(0,Yf.jsxs)(yo,{data:this.state.dataFeel,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000",text:(e.y/t.state.totalNumber*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})}),(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u5f62\u72b6"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas4",children:(0,Yf.jsxs)(yo,{data:this.state.dataShape,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000",text:(e.y/t.getItemTotalCount(t.state.dataShape)*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})}),0!==this.state.dataColor.length&&(0,Yf.jsxs)(Yf.Fragment,{children:[(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u989c\u8272"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas5",children:(0,Yf.jsxs)(yo,{data:this.state.dataColor,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000",text:(e.y/t.getItemTotalCount(t.state.dataColor)*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})})]}),0!==this.state.dataSmell.length&&(0,Yf.jsxs)(Yf.Fragment,{children:[(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u6c14\u5473"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas6",children:(0,Yf.jsxs)(yo,{data:this.state.dataSmell,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000",text:(e.y/t.getItemTotalCount(t.state.dataSmell)*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})})]}),0!==this.state.dataLocation.length&&(0,Yf.jsxs)(Yf.Fragment,{children:[(0,Yf.jsx)(wl.Ss,{className:"subTitleWrapper",children:(0,Yf.jsx)(wl.EY,{className:"subTitle",children:"\u5730\u70b9"})}),(0,Yf.jsx)(wl.Ss,{style:{width:"100%",height:"260px"},children:(0,Yf.jsx)(Lf,{id:"canvas7",children:(0,Yf.jsxs)(yo,{data:this.state.dataLocation,coord:{transposed:!0,type:"polar",radius:.75},children:[(0,Yf.jsx)(ul,{x:"const",y:"y",adjust:"stack",color:{field:"name",range:["#D6C1A9","#C0A080","#E8CBA3"]}}),(0,Yf.jsx)(kl,{sidePadding:40,label1:function(t,e){return{text:t.name,fill:"#000",fontSize:12}},label2:function(e){return{fill:"#000",text:(e.y/t.getItemTotalCount(t.state.dataLocation)*100).toFixed(2)+"%",fontWeight:500,fontSize:10}}})]})})})]}),(0,Yf.jsxs)(wl.Ss,{className:"analyzeWrapper",children:[(0,Yf.jsx)(Tl.sl,{disabled:this.state.loadingAi,loading:this.state.loadingAi,circle:!0,onClick:this.handleAnalyzeClick,className:"groupBtn",type:"primary",children:this.state.aiBtnTip}),(0,Yf.jsx)(Tl.Xx,{className:"analyzeHelpIcon",onClick:function(){bl().reportEvent("analyze_help_click"),bl().showModal({title:"\u6839\u636e\u5f53\u6708\u6570\u636e\u63d0\u4f9bAI\u5065\u5eb7\u5206\u6790",content:"\u5f53\u6708\u6570\u636e\u5c0f\u4e8e6\u6761\uff0c\u5e76\u4e14\u65f6\u95f4\u5c0f\u4e8e15\u5929\uff1b\u5f53\u6708\u6570\u636e\u5c0f\u4e8e2\u6761\uff0c\u5e76\u4e14\u65f6\u95f4\u5927\u4e8e15\u5929\uff1b\u8fd92\u79cd\u60c5\u51b5\u4e0b\u6570\u636e\u4e0d\u8db3\u4ee5\u8fdb\u884c\u5206\u6790\uff0c\u5206\u6790\u7ed3\u679c\u4ec5\u4f9b\u53c2\u8003",success:function(t){t.confirm?console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"):t.cancel&&console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88")}})},value:"help",size:"18",color:"#333"}),(0,Yf.jsx)(wl.EY,{className:"analyzeHistory",onClick:function(){bl().reportEvent("analyze_history_click"),bl().navigateTo({url:"/pages/analyzeList/index"})},children:"\u5386\u53f2\u5206\u6790"})]})]})]}):(0,Yf.jsx)(zf.A,{})}}])}(Cl.Component))||Ff)||Ff),Xf=Wf,Hf={navigationBarTitleText:"",navigationBarBackgroundColor:"#F5F5F5",usingComponents:{}};Xf.enableShareTimeline=!0,Xf.enableShareAppMessage=!0;Page((0,u.createPageConfig)(Xf,"pages/statistics/index",{root:{cn:[]}},Hf||{}))}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[907,96,76],(function(){return e(6444)}));t.O()}]);